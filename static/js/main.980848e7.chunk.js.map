{"version":3,"sources":["components/Radio/Radio.tsx","components/SelectOne/SelectOne.tsx","components/Checkbox/Checkbox.tsx","components/SelectMultiple/SelectMultiple.tsx","entity/Tool.ts","entity/Gender.ts","settings/genders.ts","settings/tools.ts","entity/Action.ts","entity/PostOrgasm.ts","entity/Ending.ts","entity/Speed.ts","utils/SuperMath.ts","settings/game.ts","utils/utils.ts","components/Preferences/Preferences.tsx","settings/env.ts","utils/Randomizer.ts","components/PornEmbed/PornEmbed.tsx","utils/Time.ts","components/Game/Game.tsx","App.tsx","index.tsx"],"names":["Radio","className","type","name","this","props","checked","onChange","label","React","Component","SelectOne","isChecked","option","selected","choices","options","map","value","Checkbox","SelectMultiple","select","unselect","filter","some","e","target","Tool","payload","_text","_genders","text","genders","Gender","settings","male","female","m2f","f2m","leftHand","rightHand","bothHands","leftHandFinger","rightHandFinger","dildo","fleshlight","doll","vibrator","buttPlug","analBeeds","Action","_actionText","_tools","_chance","_singleAction","_canOrgasm","actionText","tools","chance","singleAction","canOrgasm","undefined","PostOrgasm","Ending","_canPostOrgasm","canPostOrgasm","Speed","_bps","_duration","_followUpWhitelist","_followUpBlacklist","bps","duration","followUpWhitelist","followUpBlacklist","SuperMath","x","a","c","b","number","i","decimal","Math","round","Number","isNaN","MIN","speed","gentle","ms","timeInMin","linear","stop","cum","slow","medium","t","hard","exponential","ceil","extreme","edge","START","timeOverInMin","none","actions","stroke","tool","gender","rubClitoris","slapPussy","anal","fuck","fuckPussy","suck","deepTroat","analInsert","endings","denyOrgasm","ruinedOrgasm","postOrgasms","cei","secondRound","getKeyFromObject","object","Object","entries","key","Preferences","getValue","list","data","Array","isArray","length","ending","includes","gameSettings","action","postOrgasm","genderOptions","setGender","hasGender","toolOptions","setTools","hasTools","actionOptions","setActions","hasActions","endingOptions","setEndings","hasEndings","postOrgasmOptions","setPostOrgasms","env","debug","setSeed","seed","urlParams","URLSearchParams","window","location","search","set","url","toString","history","replaceState","Randomizer","_random","resetRandom","_seed","uniqid","Seedrandom","max","min","floor","random","items","int","fullList","reduce","acc","item","count","push","pickOne","entry","seedParam","get","getInitialSeed","PornEmbed","state","source","pornhubUrl","videoId","xvideosUrl","setSource","src","urlParam","match","replace","test","setState","setTimeout","onMount","title","frameBorder","scrolling","allowFullScreen","Time","secs","divisorForMinutes","divisorForSeconds","h","m","s","timeObject","format","sec","BASE_STATE","isInGame","isPlaying","isEnding","isOverlayShown","currentSpeed","currentAction","nextSpeed","nextAction","remainingTime","totalTime","pastTotalTime","embedSource","stats","gameSpeed","Game","_tickCount","_ticker","_pornEmbed","createRef","play","pickAction","tick","pause","stopTick","toggleOverlay","prevState","getTime","seconds","getSpeedsList","whitelist","blacklist","values","pickSpeed","pickOneWithChance","uniqueEndings","uniqueActions","getActionsList","getChanceStatistics","minDuration","maxDuration","tickSpeed","nextTickRemainingTime","actionState","shouldBeep","beep","clearTimeout","Audio","clearInterval","uniqueList","forEach","secondsToTime","hmsToClock","canPlay","toPercent","actionsLists","endingsLists","overlay","join","nextSpeedTextColor","currentSpeedBoxColor","style","animationDuration","animationSpeed","placeholder","onClick","current","width","parseInt","paddingBottom","ref","marginHeight","marginWidth","App","getPreferences","getArrayParam","split","setPreferences","searchParams","params","append","setPreferencesIfTrue","condition","setPref","maxWidth","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.980848e7.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport type option = { label: string, value: string };\r\n\r\nexport interface RadioProps {\r\n\tname: string,\r\n\tlabel?: string,\r\n\tchecked?: boolean,\r\n\tonChange: React.InputHTMLAttributes<HTMLInputElement>['onChange']\r\n}\r\n\r\nclass Radio extends React.Component<RadioProps> {\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<label className={'flex items-center cursor-pointer'}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype={'radio'}\r\n\t\t\t\t\t\tname={this.props.name}\r\n\t\t\t\t\t\tchecked={this.props.checked}\r\n\t\t\t\t\t\tonChange={this.props.onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.props.label && (\r\n\t\t\t\t\t\t<div className={'label ml-3'}>{this.props.label}</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Radio;\r\n","import React from 'react';\r\nimport Radio, { option } from '../Radio/Radio';\r\n\r\nexport interface SelectMultipleProps {\r\n\tname: string,\r\n\toptions: option[],\r\n\tselected?: string,\r\n\tonChange: (selected: string) => void,\r\n}\r\n\r\nclass SelectOne extends React.Component<SelectMultipleProps> {\r\n\tprotected isChecked = (option: string) => {\r\n\t\treturn this.props.selected === option;\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tconst choices = this.props.options.map(option => (\r\n\t\t\t<div key={option.value} className={'w-1/2 sm:w-1/3 md:w-1/6'}>\r\n\t\t\t\t<Radio\r\n\t\t\t\t\tname={this.props.name}\r\n\t\t\t\t\tlabel={option.label}\r\n\t\t\t\t\tchecked={this.isChecked(option.value)}\r\n\t\t\t\t\tonChange={() => this.props.onChange(option.value)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t));\r\n\r\n\t\treturn (\r\n\t\t\t<div className={'flex flex-wrap'}>\r\n\t\t\t\t{choices}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SelectOne;\r\n","import React from 'react';\r\n\r\nexport type option = { label: string, value: string };\r\n\r\nexport interface CheckboxProps {\r\n\tname: string,\r\n\tlabel?: string,\r\n\tchecked?: boolean,\r\n\tonChange: React.InputHTMLAttributes<HTMLInputElement>['onChange']\r\n}\r\n\r\nclass Checkbox extends React.Component<CheckboxProps> {\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<label className={'flex items-center cursor-pointer'}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype={'checkbox'}\r\n\t\t\t\t\t\tname={this.props.name}\r\n\t\t\t\t\t\tchecked={this.props.checked}\r\n\t\t\t\t\t\tonChange={this.props.onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{this.props.label && (\r\n\t\t\t\t\t\t<div className={'label ml-3'}>{this.props.label}</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Checkbox;\r\n","import React from 'react';\r\nimport Checkbox, { option } from '../Checkbox/Checkbox';\r\n\r\nexport interface SelectMultipleProps {\r\n\tname: string,\r\n\toptions: option[],\r\n\tselected: string[],\r\n\tonChange: (selected: string[]) => void,\r\n}\r\n\r\nclass SelectMultiple extends React.Component<SelectMultipleProps> {\r\n\tprotected select = (option: string) => {\r\n\t\tthis.onChange([...this.props.selected, option])\r\n\t}\r\n\r\n\tprotected unselect = (option: string) => {\r\n\t\tthis.onChange(this.props.selected.filter(selected => selected !== option))\r\n\t}\r\n\r\n\tprotected onChange = (selected: string[]) => {\r\n\t\tthis.props.onChange(selected);\r\n\t}\r\n\r\n\tprotected isChecked = (option: string) => {\r\n\t\treturn this.props.selected.some(selected => selected === option)\r\n\t};\r\n\r\n\tpublic render() {\r\n\t\tconst choices = this.props.options.map(option => (\r\n\t\t\t<div key={option.value} className={'w-1/2 sm:w-1/3 md:w-1/6'}>\r\n\t\t\t\t<Checkbox\r\n\t\t\t\t\tname={this.props.name}\r\n\t\t\t\t\tlabel={option.label}\r\n\t\t\t\t\tchecked={this.isChecked(option.value)}\r\n\t\t\t\t\tonChange={(e) => e.target.checked ? this.select(option.value) : this.unselect(option.value)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t));\r\n\r\n\t\treturn (\r\n\t\t\t<div className={'flex flex-wrap'}>\r\n\t\t\t\t{choices}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SelectMultiple;\r\n","import Gender from './Gender';\r\n\r\nexport type toolPayload = {\r\n\ttext: string,\r\n\tgenders: Gender[],\r\n}\r\n\r\nclass Tool {\r\n\r\n\tprotected _text: string;\r\n\tprotected _genders: Gender[];\r\n\r\n\tconstructor(payload: toolPayload) {\r\n\t\tthis._text = payload.text;\r\n\t\tthis._genders = payload.genders;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get genders(): Gender[] {\r\n\t\treturn this._genders;\r\n\t}\r\n\r\n}\r\n\r\nexport default Tool;\r\n","export type genderPayload = {\r\n\ttext: string,\r\n}\r\n\r\nclass Gender {\r\n\r\n\tprotected _text: string;\r\n\r\n\tconstructor(payload: genderPayload) {\r\n\t\tthis._text = payload.text;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n}\r\n\r\nexport default Gender;\r\n","import Gender from '../entity/Gender';\r\n\r\nexport type genderSettings = {\r\n\t[key: string]: Gender,\r\n}\r\n\r\nconst settings: genderSettings = {\r\n\tmale: new Gender({\r\n\t\ttext: 'Male',\r\n\t}),\r\n\tfemale: new Gender({\r\n\t\ttext: 'Female',\r\n\t}),\r\n\tm2f: new Gender({\r\n\t\ttext: 'Trans (male to female)',\r\n\t}),\r\n\tf2m: new Gender({\r\n\t\ttext: 'Trans (female to male)',\r\n\t}),\r\n}\r\n\r\nexport default settings;\r\n","import Tool from '../entity/Tool';\r\nimport genders from '../settings/genders';\r\n\r\nexport type toolSettings = {\r\n\t[key: string]: Tool,\r\n}\r\n\r\nconst settings: toolSettings = {\r\n\tleftHand: new Tool({\r\n\t\ttext: 'Left hand',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\trightHand: new Tool({\r\n\t\ttext: 'Right hand',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tbothHands: new Tool({\r\n\t\ttext: 'Both hands',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tleftHandFinger: new Tool({\r\n\t\ttext: 'Left hand finger(s)',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\trightHandFinger: new Tool({\r\n\t\ttext: 'Right hand finger(s)',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tdildo: new Tool({\r\n\t\ttext: 'Dildo',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tfleshlight: new Tool({\r\n\t\ttext: 'Fleshlight',\r\n\t\tgenders: [genders.male, genders.m2f],\r\n\t}),\r\n\tdoll: new Tool({\r\n\t\ttext: 'Doll',\r\n\t\tgenders: [genders.male, genders.m2f],\r\n\t}),\r\n\tvibrator: new Tool({\r\n\t\ttext: 'Vibrator',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tbuttPlug: new Tool({\r\n\t\ttext: 'Butt plug',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tanalBeeds: new Tool({\r\n\t\ttext: 'Anal beeds',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t})\r\n}\r\n\r\nexport default settings;\r\n","import Gender from './Gender';\r\nimport Tool from './Tool';\r\nimport { probability, buildableString } from '../utils/types';\r\n\r\nexport type actionPayload = {\r\n\ttext: string,\r\n\tactionText: buildableString,\r\n\ttools?: Tool[],\r\n\tgenders: Gender[],\r\n\tchance: probability,\r\n\tsingleAction?: boolean,\r\n\tcanOrgasm?: boolean,\r\n}\r\n\r\nclass Action {\r\n\r\n\tprotected _text: string;\r\n\tprotected _actionText: buildableString;\r\n\tprotected _tools?: Tool[];\r\n\tprotected _genders: Gender[];\r\n\tprotected _chance: probability;\r\n\tprotected _singleAction?: boolean;\r\n\tprotected _canOrgasm?: boolean;\r\n\r\n\tconstructor(payload: actionPayload) {\r\n\t\tthis._text = payload.text;\r\n\t\tthis._actionText = payload.actionText;\r\n\t\tthis._tools = payload.tools;\r\n\t\tthis._genders = payload.genders;\r\n\t\tthis._chance = payload.chance;\r\n\t\tthis._singleAction = payload.singleAction;\r\n\t\tthis._canOrgasm = payload.canOrgasm;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get actionText(): buildableString {\r\n\t\treturn this._actionText;\r\n\t}\r\n\r\n\tpublic get tools(): Tool[] | undefined {\r\n\t\treturn this._tools;\r\n\t}\r\n\r\n\tpublic get genders(): Gender[] {\r\n\t\treturn this._genders;\r\n\t}\r\n\r\n\tpublic get chance(): probability {\r\n\t\treturn this._chance;\r\n\t}\r\n\r\n\tpublic get singleAction(): boolean {\r\n\t\treturn this._singleAction ?? false;\r\n\t}\r\n\r\n\tpublic get canOrgasm(): boolean {\r\n\t\tif (this._canOrgasm === undefined && this.singleAction) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\treturn this._canOrgasm ?? true;\r\n\t}\r\n\r\n}\r\n\r\nexport default Action;\r\n","import Gender from './Gender';\r\nimport Tool from './Tool';\r\nimport { probability, buildableString } from '../utils/types';\r\n\r\nexport type postOrgasmPayload = {\r\n\ttext: string,\r\n\tactionText: buildableString,\r\n\ttools?: Tool[],\r\n\tgenders: Gender[],\r\n\tchance: probability,\r\n\tsingleAction?: boolean,\r\n\tcanOrgasm?: boolean,\r\n}\r\n\r\nclass PostOrgasm {\r\n\r\n\tprotected _text: string;\r\n\tprotected _actionText: buildableString;\r\n\tprotected _genders: Gender[];\r\n\tprotected _chance: probability;\r\n\r\n\tconstructor(payload: postOrgasmPayload) {\r\n\t\tthis._text = payload.text;\r\n\t\tthis._actionText = payload.actionText;\r\n\t\tthis._genders = payload.genders;\r\n\t\tthis._chance = payload.chance;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get actionText(): buildableString {\r\n\t\treturn this._actionText;\r\n\t}\r\n\r\n\tpublic get genders(): Gender[] {\r\n\t\treturn this._genders;\r\n\t}\r\n\r\n\tpublic get chance(): probability {\r\n\t\treturn this._chance;\r\n\t}\r\n\r\n}\r\n\r\nexport default PostOrgasm;\r\n","import Gender from './Gender';\r\nimport Tool from './Tool';\r\nimport { probability, buildableString } from '../utils/types';\r\n\r\nexport type endingPayload = {\r\n\ttext: string,\r\n\tactionText: buildableString,\r\n\ttools?: Tool[],\r\n\tgenders: Gender[],\r\n\tchance: probability,\r\n\tsingleAction?: boolean,\r\n\tcanPostOrgasm?: boolean,\r\n}\r\n\r\nclass Ending {\r\n\r\n\tprotected _text: string;\r\n\tprotected _actionText: buildableString;\r\n\tprotected _tools?: Tool[];\r\n\tprotected _genders: Gender[];\r\n\tprotected _chance: probability;\r\n\tprotected _canPostOrgasm?: boolean;\r\n\r\n\tconstructor(payload: endingPayload) {\r\n\t\tthis._text = payload.text;\r\n\t\tthis._actionText = payload.actionText;\r\n\t\tthis._tools = payload.tools;\r\n\t\tthis._genders = payload.genders;\r\n\t\tthis._chance = payload.chance;\r\n\t\tthis._canPostOrgasm = payload.canPostOrgasm;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get actionText(): buildableString {\r\n\t\treturn this._actionText;\r\n\t}\r\n\r\n\tpublic get tools(): Tool[] | undefined {\r\n\t\treturn this._tools;\r\n\t}\r\n\r\n\tpublic get genders(): Gender[] {\r\n\t\treturn this._genders;\r\n\t}\r\n\r\n\tpublic get chance(): probability {\r\n\t\treturn this._chance;\r\n\t}\r\n\r\n\tpublic get canPostOrgasm(): boolean {\r\n\t\treturn this._canPostOrgasm ?? true;\r\n\t}\r\n\r\n}\r\n\r\nexport default Ending;\r\n","import { probability, durationRange } from '../utils/types';\r\n\r\nexport type speedPayload = {\r\n\ttext: string,\r\n\tbps: number,\r\n\tchance: probability,\r\n\tduration: durationRange,\r\n\tfollowUpWhitelist?: () => Speed[],\r\n\tfollowUpBlacklist?: () => Speed[],\r\n}\r\n\r\nclass Speed {\r\n\r\n\tprotected _text: string;\r\n\tprotected _bps: number;\r\n\tprotected _chance: probability;\r\n\tprotected _duration: durationRange;\r\n\tprotected _followUpWhitelist?: () => Speed[];\r\n\tprotected _followUpBlacklist?: () => Speed[];\r\n\r\n\tconstructor(payload: speedPayload) {\r\n\t\tthis._text = payload.text;\r\n\t\tthis._bps = payload.bps;\r\n\t\tthis._chance = payload.chance;\r\n\t\tthis._duration = payload.duration;\r\n\t\tthis._followUpWhitelist = payload.followUpWhitelist;\r\n\t\tthis._followUpBlacklist = payload.followUpBlacklist;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get bps(): number {\r\n\t\treturn this._bps;\r\n\t}\r\n\r\n\tpublic get chance(): probability {\r\n\t\treturn this._chance;\r\n\t}\r\n\r\n\tpublic get duration(): durationRange {\r\n\t\treturn this._duration;\r\n\t}\r\n\r\n\tpublic get followUpWhitelist(): Speed[] | undefined {\r\n\t\treturn this._followUpWhitelist?.();\r\n\t}\r\n\r\n\tpublic get followUpBlacklist(): Speed[] | undefined {\r\n\t\treturn this._followUpBlacklist?.();\r\n\t}\r\n\r\n}\r\n\r\nexport default Speed;\r\n","class SuperMath {\r\n\r\n\tstatic linear(x: number, a: number, c: number = 0): number {\r\n\t\treturn a * x + c;\r\n\t}\r\n\r\n\tstatic exponential(x: number, a: number, b: number, c: number = 0): number {\r\n\t\treturn a * (b ** x) + c;\r\n\t}\r\n\r\n\tstatic smallestDivisor(number: number): number {\r\n\t\tif (number % 2 === 0) {\r\n\t\t\treturn 2;\r\n\t\t}\r\n\r\n\t\tfor (let i = 3; i * i <= number; i += 2) {\r\n\t\t\tif (number % i === 0) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn number;\r\n\t}\r\n\r\n\tstatic toPercent(number: number, decimal: number = 2): number {\r\n\t\tconst value = Math.round(number * (10 ** decimal)) / 100;\r\n\r\n\t\tif (Number.isNaN(value)) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n}\r\n\r\nexport default SuperMath;\r\n","import tools from './tools';\r\nimport gender from './genders';\r\nimport Action from '../entity/Action'\r\nimport PostOrgasm from '../entity/PostOrgasm'\r\nimport Ending from '../entity/Ending'\r\nimport Speed from '../entity/Speed'\r\nimport SuperMath from '../utils/SuperMath';\r\n\r\nconst MIN = 60000;\r\n\r\nexport type gameSettings = {\r\n\tspeed: { [key: string]: Speed },\r\n\tactions: { [key: string]: Action },\r\n\tendings: { [key: string]: Ending },\r\n\tpostOrgasms: { [key: string]: PostOrgasm },\r\n}\r\n\r\nconst settings: gameSettings = {\r\n\tspeed: {\r\n\t\tgentle: new Speed({\r\n\t\t\ttext: 'Gentle',\r\n\t\t\tbps: 0.5,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst [min, max] = [5, 50];\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\t\t\t\tconst chance = SuperMath.linear(timeInMin, -10, max);\r\n\r\n\t\t\t\tif (chance < min) {\r\n\t\t\t\t\treturn min;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn chance;\r\n\t\t\t},\r\n\t\t\tduration: (ms) => {\r\n\t\t\t\tconst [min, max] = [10, 30];\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\t\t\t\tconst chance = SuperMath.linear(timeInMin, -10, max);\r\n\r\n\t\t\t\tif (chance < min) {\r\n\t\t\t\t\treturn [min, min];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn [min, chance];\r\n\t\t\t},\r\n\t\t\tfollowUpBlacklist: () => [settings.speed.stop, settings.speed.cum],\r\n\t\t}),\r\n\t\tslow: new Speed({\r\n\t\t\ttext: 'Slow',\r\n\t\t\tbps: 1,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst [min, max] = [20, 50];\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\t\t\t\tconst chance = SuperMath.linear(timeInMin, -1, max);\r\n\r\n\t\t\t\tif (chance < min) {\r\n\t\t\t\t\treturn min;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn chance;\r\n\t\t\t},\r\n\t\t\tduration: () => [10, 30],\r\n\t\t}),\r\n\t\tmedium: new Speed({\r\n\t\t\ttext: 'Medium',\r\n\t\t\tbps: 2,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst [min, max] = [25, 60];\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\t\t\t\tconst t = SuperMath.linear(timeInMin, 2, min);\r\n\r\n\t\t\t\tif (t > max) {\r\n\t\t\t\t\treturn max;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn t;\r\n\t\t\t},\r\n\t\t\tduration: () => [10, 30],\r\n\t\t}),\r\n\t\thard: new Speed({\r\n\t\t\ttext: 'Hard',\r\n\t\t\tbps: 3,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst START = 1 * MIN;\r\n\r\n\t\t\t\tif (ms < START) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeInMin / 10, 0.4, 40);\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [5, 30],\r\n\t\t}),\r\n\t\textreme: new Speed({\r\n\t\t\ttext: 'Extreme',\r\n\t\t\tbps: 4,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst START = 1 * MIN;\r\n\r\n\t\t\t\tif (ms < START) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeInMin / 10, 0.3, 30);\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [5, 10],\r\n\t\t}),\r\n\t\tstop: new Speed({\r\n\t\t\ttext: 'STOP',\r\n\t\t\tbps: 0,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeInMin / 10, 0.5, 40);\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [5, 30],\r\n\t\t\tfollowUpBlacklist: () => [settings.speed.cum]\r\n\t\t}),\r\n\t\tedge: new Speed({\r\n\t\t\ttext: 'EDGE',\r\n\t\t\tbps: 4,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst START = 3 * MIN;\r\n\r\n\t\t\t\tif (ms < START) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst timeOverInMin = (ms - START) / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeOverInMin / 10, 1, 80);\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [10, 30],\r\n\t\t\tfollowUpWhitelist: () => [settings.speed.gentle, settings.speed.stop, settings.speed.cum],\r\n\t\t}),\r\n\t\tnone: new Speed({\r\n\t\t\ttext: 'None',\r\n\t\t\tbps: 0,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst [min, max] = [20, 40]\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeInMin / 10, 0.5, max);\r\n\r\n\t\t\t\tif (chance < min) {\r\n\t\t\t\t\treturn min;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [15, 15],\r\n\t\t\tfollowUpBlacklist: () => [settings.speed.stop, settings.speed.cum],\r\n\t\t}),\r\n\t\tcum: new Speed({\r\n\t\t\ttext: 'CUM',\r\n\t\t\tbps: 0,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst START = 6 * MIN;\r\n\r\n\t\t\t\tif (ms < START) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst timeOverInMin = (ms - START) / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeOverInMin / 10, 0.2, 150);\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [5, 15],\r\n\t\t}),\r\n\t},\r\n\tactions: {\r\n\t\tstroke: new Action({\r\n\t\t\ttext: 'Stroke',\r\n\t\t\tactionText: (tool) => `Stroke dick with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.bothHands,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\trubClitoris: new Action({\r\n\t\t\ttext: 'Rub clitoris',\r\n\t\t\tactionText: (tool: string) => `Rub clitoris with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.dildo,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.vibrator,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tslapPussy: new Action({\r\n\t\t\ttext: 'Slap pussy',\r\n\t\t\tactionText: (tool: string) => `Slap pussy with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 2,\r\n\t\t}),\r\n\t\tanal: new Action({\r\n\t\t\ttext: 'Anal masturbation',\r\n\t\t\tactionText: (tool) => `Fuck ass with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t\ttools.dildo,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tfuck: new Action({\r\n\t\t\ttext: 'Fuck',\r\n\t\t\tactionText: (tool) => `Fuck ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.fleshlight,\r\n\t\t\t\ttools.doll,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tfuckPussy: new Action({\r\n\t\t\ttext: 'Fuck',\r\n\t\t\tactionText: (tool) => `Fuck yourself with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.dildo,\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tsuck: new Action({\r\n\t\t\ttext: 'Suck',\r\n\t\t\tactionText: (tool) => `Suck ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t\ttools.dildo,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 4,\r\n\t\t\tcanOrgasm: false,\r\n\t\t}),\r\n\t\tdeepTroat: new Action({\r\n\t\t\ttext: 'Deep throat',\r\n\t\t\tactionText: (tool) => `Deep throat ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.dildo,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 1,\r\n\t\t}),\r\n\t\tanalInsert: new Action({\r\n\t\t\ttext: 'Anal insert',\r\n\t\t\tactionText: (tool) => `Insert ${tool} in ass`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.buttPlug,\r\n\t\t\t\ttools.analBeeds,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 100,\r\n\t\t\tsingleAction: true,\r\n\t\t}),\r\n\t},\r\n\tendings: {\r\n\t\tdenyOrgasm: new Ending({\r\n\t\t\ttext: 'Deny orgasm',\r\n\t\t\tactionText: () => 'Deny your orgasm, do not cum.',\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 1,\r\n\t\t\tcanPostOrgasm: false,\r\n\t\t}),\r\n\t\truinedOrgasm: new Ending({\r\n\t\t\ttext: 'Ruin orgasm',\r\n\t\t\tactionText: () => 'Ruin your orgasm',\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 1,\r\n\t\t}),\r\n\t\tstroke: new Ending({\r\n\t\t\ttext: 'Stroke',\r\n\t\t\tactionText: (tool) => `Orgasm by stroking your dick with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.bothHands,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\trubClitoris: new Ending({\r\n\t\t\ttext: 'Rub clitoris',\r\n\t\t\tactionText: (tool: string) => `Orgasm by rubbing your clitoris with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.dildo,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.vibrator,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tslapPussy: new Ending({\r\n\t\t\ttext: 'Slap pussy',\r\n\t\t\tactionText: (tool: string) => `Orgasm by slapping your pussy with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 2,\r\n\t\t}),\r\n\t\tanal: new Ending({\r\n\t\t\ttext: 'Anal masturbation',\r\n\t\t\tactionText: (tool) => `Orgasm by fucking your ass with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t\ttools.dildo,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tfuck: new Ending({\r\n\t\t\ttext: 'Fuck',\r\n\t\t\tactionText: (tool) => `Orgasm by fucking ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.fleshlight,\r\n\t\t\t\ttools.doll,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tfuckPussy: new Ending({\r\n\t\t\ttext: 'Fuck',\r\n\t\t\tactionText: (tool) => `Orgasm by fucking your pussy with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.dildo,\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t},\r\n\tpostOrgasms: {\r\n\t\tcei: new PostOrgasm({\r\n\t\t\ttext: 'Cum eating instruction',\r\n\t\t\tactionText: () => 'Cum eating instruction',\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 1,\r\n\t\t}),\r\n\t\tsecondRound: new PostOrgasm({\r\n\t\t\ttext: 'Second round',\r\n\t\t\tactionText: () => 'Second round',\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 1,\r\n\t\t}),\r\n\t}\r\n};\r\n\r\nexport default settings;\r\n","export const getKeyFromObject = (object: any, value: any): string | null => {\r\n\tfor (const [key, propertyValue] of Object.entries(object)) {\r\n\t\tif (propertyValue !== value) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\treturn key;\r\n\t}\r\n\r\n\treturn null;\r\n}\r\n","import React from 'react';\r\nimport SelectOne from '../SelectOne/SelectOne';\r\nimport SelectMultiple from '../SelectMultiple/SelectMultiple';\r\nimport gameSettings from '../../settings/game';\r\nimport genders from '../../settings/genders';\r\nimport tools from '../../settings/tools';\r\nimport Gender from '../../entity/Gender';\r\nimport Tool from '../../entity/Tool';\r\nimport Action from '../../entity/Action';\r\nimport Ending from '../../entity/Ending';\r\nimport PostOrgasm from '../../entity/PostOrgasm';\r\nimport { getKeyFromObject } from '../../utils/utils';\r\nimport { AppState } from '../../App';\r\n\r\nexport interface PreferencesProps extends AppState {\r\n\tsetGender: (option: string) => void,\r\n\tsetTools: (options: string[]) => void,\r\n\tsetActions: (options: string[]) => void,\r\n\tsetEndings: (options: string[]) => void,\r\n\tsetPostOrgasms: (options: string[]) => void,\r\n}\r\n\r\nclass Preferences extends React.Component<PreferencesProps> {\r\n\tprotected get hasGender(): boolean {\r\n\t\treturn !!this.props.gender;\r\n\t}\r\n\r\n\tprotected get hasTools(): boolean {\r\n\t\treturn this.props.tools.length > 0;\r\n\t}\r\n\r\n\tprotected get hasActions(): boolean {\r\n\t\treturn this.props.actions.length > 0;\r\n\t}\r\n\r\n\tprotected get hasEndings(): boolean {\r\n\t\treturn this.props.endings.length > 0;\r\n\t}\r\n\r\n\tprotected get canPostOrgasm(): boolean {\r\n\t\treturn this.endings.filter((ending) => ending.canPostOrgasm).length > 0;\r\n\t}\r\n\r\n\tprotected get genderOptions() {\r\n\t\treturn Object.entries(genders).map(([key, gender]) => ({ label: gender.text, value: key }));\r\n\t}\r\n\r\n\tprotected get toolOptions() {\r\n\t\treturn Object.entries(tools)\r\n\t\t\t.filter(([, tool]) => tool.genders.includes(this.gender))\r\n\t\t\t.map(([key, tool]) => ({ label: tool.text, value: key }));\r\n\t}\r\n\r\n\tprotected get actionOptions() {\r\n\t\treturn Object.entries(gameSettings.actions)\r\n\t\t\t.filter(([, action]) => action.genders.includes(this.gender))\r\n\t\t\t.filter(([, action]) => {\r\n\t\t\t\tif (!action.tools) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn action.tools.some(tool => this.tools.includes(tool));\r\n\t\t\t})\r\n\t\t\t.map(([key, action]) => ({ label: action.text, value: key }));\r\n\t}\r\n\r\n\tprotected get endingOptions() {\r\n\t\treturn Object.entries(gameSettings.endings)\r\n\t\t\t.filter(([, ending]) => ending.genders.includes(this.gender))\r\n\t\t\t.filter(([, ending]) => {\r\n\t\t\t\tif (!ending.tools) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn ending.tools.some(tool => this.tools.includes(tool));\r\n\t\t\t})\r\n\t\t\t.map(([key, ending]) => ({ label: ending.text, value: key }));\r\n\t}\r\n\r\n\tprotected get postOrgasmOptions() {\r\n\t\treturn Object.entries(gameSettings.postOrgasms)\r\n\t\t\t.filter(([, postOrgasm]) => postOrgasm.genders.includes(this.gender))\r\n\t\t\t.map(([key, postOrgasm]) => ({ label: postOrgasm.text, value: key }));\r\n\t}\r\n\r\n\tprotected get gender(): Gender {\r\n\t\treturn genders[this.props.gender];\r\n\t}\r\n\r\n\tprotected get tools(): Tool[] {\r\n\t\treturn this.props.tools\r\n\t\t\t.map(option => tools[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get actions(): Action[] {\r\n\t\treturn this.props.actions\r\n\t\t\t.map(option => gameSettings.actions[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get endings(): Ending[] {\r\n\t\treturn this.props.endings\r\n\t\t\t.map(option => gameSettings.endings[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get postOrgasms(): PostOrgasm[] {\r\n\t\treturn this.props.postOrgasms\r\n\t\t\t.map(option => gameSettings.postOrgasms[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected getValue = (list: any, data: unknown | unknown[]): string | string[] | undefined  => {\r\n\t\tif (Array.isArray(data)) {\r\n\t\t\treturn data\r\n\t\t\t\t.map(value => getKeyFromObject(list, value))\r\n\t\t\t\t.filter(value => value !== null) as string[];\r\n\t\t}\r\n\r\n\t\treturn getKeyFromObject(list, data) || undefined;\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h2>What is your gender ? (This will affect what options are available to you)</h2>\r\n\r\n\t\t\t\t\t<SelectOne\r\n\t\t\t\t\t\tname={'gender'}\r\n\t\t\t\t\t\toptions={this.genderOptions}\r\n\t\t\t\t\t\tselected={this.props.gender}\r\n\t\t\t\t\t\tonChange={this.props.setGender}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{this.hasGender && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h2>Choose body parts/toys you would like to use</h2>\r\n\r\n\t\t\t\t\t\t<SelectMultiple\r\n\t\t\t\t\t\t\tname={'tools'}\r\n\t\t\t\t\t\t\toptions={this.toolOptions}\r\n\t\t\t\t\t\t\tselected={this.props.tools}\r\n\t\t\t\t\t\t\tonChange={this.props.setTools}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{this.hasGender && this.hasTools && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h2>Choose what you would like to do to yourself/toys</h2>\r\n\r\n\t\t\t\t\t\t<SelectMultiple\r\n\t\t\t\t\t\t\tname={'actions'}\r\n\t\t\t\t\t\t\toptions={this.actionOptions}\r\n\t\t\t\t\t\t\tselected={this.props.actions}\r\n\t\t\t\t\t\t\tonChange={this.props.setActions}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{this.hasGender && this.hasTools && this.hasActions && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h2>Choose how you would like this game to end</h2>\r\n\r\n\t\t\t\t\t\t<SelectMultiple\r\n\t\t\t\t\t\t\tname={'endings'}\r\n\t\t\t\t\t\t\toptions={this.endingOptions}\r\n\t\t\t\t\t\t\tselected={this.props.endings}\r\n\t\t\t\t\t\t\tonChange={this.props.setEndings}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{this.hasGender && this.hasTools && this.hasActions && this.hasEndings && this.canPostOrgasm && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h2>Need a bit of challenge ? Choose what you would like to do post orgasm</h2>\r\n\r\n\t\t\t\t\t\t<SelectMultiple\r\n\t\t\t\t\t\t\tname={'post-orgasm'}\r\n\t\t\t\t\t\t\toptions={this.postOrgasmOptions}\r\n\t\t\t\t\t\t\tselected={this.props.postOrgasms}\r\n\t\t\t\t\t\t\tonChange={this.props.setPostOrgasms}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Preferences;\r\n","const env = {\r\n\tdebug: true,\r\n};\r\n\r\nexport default env;\r\n","import Seedrandom from 'seedrandom';\r\nimport uniqid from 'uniqid';\r\n\r\nconst setSeed = (seed: string) => {\r\n\tconst urlParams = new URLSearchParams(window.location.search);\r\n\r\n\turlParams.set('seed', seed);\r\n\r\n\tconst url = `?${urlParams.toString()}`;\r\n\r\n\twindow.history.replaceState(null, 'preference', url);\r\n}\r\n\r\nconst getInitialSeed = () => {\r\n\tconst urlParams = new URLSearchParams(window.location.search);\r\n\r\n\tconst seedParam = urlParams.get('seed');\r\n\r\n\tif (seedParam === null) {\r\n\t\tconst seed = uniqid();\r\n\r\n\t\tsetSeed(seed);\r\n\r\n\t\treturn seed;\r\n\t}\r\n\r\n\treturn seedParam;\r\n}\r\n\r\nclass Randomizer {\r\n\r\n\tprotected static _seed: string = getInitialSeed();\r\n\r\n\tprotected static _random: CallableFunction;\r\n\r\n\tpublic static get random(): any {\r\n\t\tif (!this._random) {\r\n\t\t\tthis.resetRandom();\r\n\t\t}\r\n\r\n\t\treturn this._random;\r\n\t}\r\n\r\n\tpublic static get seed(): string {\r\n\t\treturn this._seed;\r\n\t}\r\n\r\n\tpublic static set seed(seed: string) {\r\n\t\tif (seed === this._seed) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!seed) {\r\n\t\t\tseed = uniqid();\r\n\t\t}\r\n\r\n\t\tthis._seed = seed;\r\n\r\n\t\tsetSeed(this._seed);\r\n\t}\r\n\r\n\tpublic static resetRandom(): void {\r\n\t\tthis._random = Seedrandom(this.seed);\r\n\t}\r\n\r\n\tpublic static int(max: number, min: number = 0): number {\r\n\t\treturn Math.floor(this.random() * (max - min) + min);\r\n\t}\r\n\r\n\tpublic static pickOne<T = string>(items: T[]): T {\r\n\t\tconst pickedIndex = this.int(items.length);\r\n\r\n\t\treturn items[pickedIndex];\r\n\t}\r\n\r\n\tpublic static pickOneWithChance<T = string>(items: Array<[T, number]>): T {\r\n\t\tconst fullList = items.reduce<T[]>((acc, [item, count]) => {\r\n\t\t\tfor (let i = 0; i < count; i++) {\r\n\t\t\t\tacc.push(item);\r\n\t\t\t}\r\n\r\n\t\t\treturn acc;\r\n\t\t}, []);\r\n\r\n\t\treturn this.pickOne(fullList);\r\n\t}\r\n\r\n\tpublic static getChanceStatistics<T = { text: string }>(items: Array<[T, number]>) {\r\n\t\tconst fullList = items.reduce<T[]>((acc, [item, count]) => {\r\n\t\t\tfor (let i = 0; i < count; i++) {\r\n\t\t\t\tacc.push(item);\r\n\t\t\t}\r\n\r\n\t\t\treturn acc;\r\n\t\t}, []);\r\n\r\n\t\treturn items.reduce<any>((acc, [item]) => {\r\n\t\t\tacc[(item as any).text] = fullList.filter(entry => entry === item).length / fullList.length;\r\n\r\n\t\t\treturn acc;\r\n\t\t}, {});\r\n\t}\r\n\r\n}\r\n\r\nexport default Randomizer;\r\n","import React from 'react';\r\n\r\nexport interface PornEmbedProps {\r\n\tclassName?: string,\r\n\tonMount?: CallableFunction,\r\n}\r\n\r\nexport interface PornEmbedState {\r\n\tsource?: string,\r\n}\r\n\r\nclass PornEmbed extends React.Component<PornEmbedProps, PornEmbedState> {\r\n\r\n\tpublic state: PornEmbedState = {\r\n\t\tsource: undefined,\r\n\t}\r\n\r\n\tpublic componentDidMount() {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.props.onMount?.();\r\n\t\t}, 0);\r\n\t}\r\n\r\n\tprotected pornhubUrl = (videoId: string) => {\r\n\t\treturn `https://www.pornhub.com/embed/${videoId}`;\r\n\t}\r\n\r\n\tprotected xvideosUrl = (videoId: string) => {\r\n\t\treturn `https://www.xvideos.com/embedframe/${videoId}`;\r\n\t}\r\n\r\n\tpublic setSource = (src: string): void => {\r\n\t\tlet source;\r\n\r\n\t\tif (src.includes('pornhub.com')) {\r\n\t\t\tconst urlParam = src.match(/viewkey=ph[a-zA-Z0-9]*/)?.[0];\r\n\r\n\t\t\tif (!urlParam) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst videoId = urlParam.replace('viewkey=', '');\r\n\r\n\t\t\tsource = this.pornhubUrl(videoId);\r\n\t\t} else if (/^(ph|pornhub):[a-zA-Z0-9]*/.test(src)) {\r\n\t\t\tconst videoId = src.replace(/^(ph|pornhub):/, '');\r\n\r\n\t\t\tsource = this.pornhubUrl(videoId);\r\n\t\t} else if (src.includes('xvideos.com')) {\r\n\t\t\tconst urlParam = src.match(/\\/video[0-9]*\\//)?.[0];\r\n\r\n\t\t\tif (!urlParam) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst videoId = urlParam.replace('video', '').replace(/\\//g, '');\r\n\r\n\t\t\tsource = this.xvideosUrl(videoId);\r\n\t\t} else if (/^(xvid|xvideos):[a-zA-Z0-9]*/.test(src)) {\r\n\t\t\tconst videoId = src.replace(/^(xvid|xvideos):/, '');\r\n\r\n\t\t\tsource = this.xvideosUrl(videoId);\r\n\t\t}\r\n\r\n\t\tthis.setState({ source });\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tif (!this.state.source) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<iframe\r\n\t\t\t\tclassName={this.props.className}\r\n\t\t\t\ttitle={'porn'}\r\n\t\t\t\tsrc={this.state.source}\r\n\t\t\t\tframeBorder={0}\r\n\t\t\t\tscrolling={'no'}\r\n\t\t\t\tallowFullScreen={false}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default PornEmbed;\r\n","export type timeObject = { h: number, m: number, s: number };\r\n\r\nclass Time {\r\n\r\n\tpublic static secondsToTime(secs: number): timeObject {\r\n\t\tsecs = Math.round(secs);\r\n\r\n\t\tconst hours = Math.floor(secs / (60 * 60));\r\n\t\tconst divisorForMinutes = secs % (60 * 60);\r\n\t\tconst minutes = Math.floor(divisorForMinutes / 60);\r\n\t\tconst divisorForSeconds = divisorForMinutes % 60;\r\n\t\tconst seconds = Math.ceil(divisorForSeconds);\r\n\r\n\t\treturn {\r\n\t\t\th: hours,\r\n\t\t\tm: minutes,\r\n\t\t\ts: seconds\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static hmsToClock(timeObject: timeObject, format?: { m?: boolean, s?: boolean }): string {\r\n\t\tformat = {\r\n\t\t\tm: true,\r\n\t\t\ts: true,\r\n\t\t\t...format,\r\n\t\t};\r\n\r\n\t\tconst sec = (timeObject.s < 10 && format.s) ? `0${timeObject.s}` : timeObject.s;\r\n\t\tconst min = (timeObject.m < 10 && format.m) ? `0${timeObject.m}` : timeObject.m;\r\n\r\n\t\tif (timeObject.h === 0) {\r\n\t\t\treturn `${min}:${sec}`;\r\n\t\t}\r\n\r\n\t\treturn `${timeObject.h}:${min}:${sec}`;\r\n\t}\r\n\r\n}\r\n\r\nexport default Time;\r\n","/*\r\n\t@TODO refactor in smaller pieces\r\n\t@TODO add content switcher: PornEmbed, FileImportCarousel, Chat / VideoChat\r\n*/\r\n\r\nimport React from 'react';\r\nimport gameSettings from '../../settings/game';\r\nimport tools from '../../settings/tools';\r\nimport env from '../../settings/env';\r\nimport Tool from '../../entity/Tool';\r\nimport Action from '../../entity/Action';\r\nimport Ending from '../../entity/Ending';\r\nimport PostOrgasm from '../../entity/PostOrgasm';\r\nimport Speed from '../../entity/Speed';\r\nimport Randomizer from '../../utils/Randomizer';\r\nimport { gameAction, gameEnding, gamePostOrgasm } from '../../utils/types';\r\n// import Webcam from '../Webcam/Webcam';\r\nimport PornEmbed from '../PornEmbed/PornEmbed';\r\nimport Time from '../../utils/Time';\r\nimport SuperMath from '../../utils/SuperMath';\r\nimport { AppState } from '../../App';\r\n\r\nexport interface GameProps extends AppState { }\r\n\r\nexport interface GameState {\r\n\tisInGame: boolean,\r\n\tisPlaying: boolean,\r\n\tisEnding: boolean,\r\n\tisOverlayShown: boolean,\r\n\tcurrentSpeed: Speed,\r\n\tcurrentAction?: gameAction,\r\n\tpostOrgasm?: any, // @TODO\r\n\tnextSpeed?: Speed,\r\n\tnextAction?: gameAction,\r\n\tremainingTime: number,\r\n\ttotalTime: number,\r\n\tpastTotalTime: number,\r\n\tembedSource?: string,\r\n\tstats: any,\r\n\tgameSpeed: number,\r\n\tseed: string,\r\n}\r\n\r\nconst BASE_STATE: GameState = {\r\n\tisInGame: false,\r\n\tisPlaying: false,\r\n\tisEnding: false,\r\n\tisOverlayShown: true,\r\n\tcurrentSpeed: gameSettings.speed.gentle,\r\n\tcurrentAction: undefined,\r\n\tpostOrgasm: undefined,\r\n\tnextSpeed: undefined,\r\n\tnextAction: undefined,\r\n\tremainingTime: 0,\r\n\ttotalTime: 0,\r\n\tpastTotalTime: 0,\r\n\tembedSource: 'https://www.pornhub.com/view_video.php?viewkey=ph5c12ab26a8b82',\r\n\tstats: {},\r\n\tgameSpeed: 1,\r\n\tseed: Randomizer.seed,\r\n};\r\n\r\nclass Game extends React.Component<GameProps, GameState> {\r\n\tprotected _tickCount: number = 0;\r\n\tprotected _ticker?: any;\r\n\tprotected _pornEmbed?: any = React.createRef();\r\n\r\n\tpublic state: GameState = BASE_STATE;\r\n\r\n\tpublic componentWillUnmount() {\r\n\t\tif (this._ticker) {\r\n\t\t\tclearInterval(this._ticker);\r\n\t\t}\r\n\t}\r\n\r\n\tprotected get tools(): Tool[] {\r\n\t\treturn this.props.tools\r\n\t\t\t.map(option => tools[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get actions(): Action[] {\r\n\t\treturn this.props.actions\r\n\t\t\t.map(option => gameSettings.actions[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get endings(): Ending[] {\r\n\t\treturn this.props.endings\r\n\t\t\t.map(option => gameSettings.endings[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get postOrgasms(): PostOrgasm[] {\r\n\t\treturn this.props.postOrgasms\r\n\t\t\t.map(option => gameSettings.postOrgasms[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get uniqueActions(): gameAction[] {\r\n\t\treturn this.actions.reduce<gameAction[]>((uniqueList, action) => {\r\n\t\t\tif (action.tools) {\r\n\t\t\t\taction.tools.forEach(tool => {\r\n\t\t\t\t\tuniqueList.push({\r\n\t\t\t\t\t\ttext: action.actionText(tool.text),\r\n\t\t\t\t\t\tchance: action.chance,\r\n\t\t\t\t\t\tsingleAction: action.singleAction,\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tuniqueList.push({\r\n\t\t\t\t\ttext: action.actionText(''),\r\n\t\t\t\t\tchance: action.chance,\r\n\t\t\t\t\tsingleAction: action.singleAction,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn uniqueList;\r\n\t\t}, []);\r\n\t}\r\n\r\n\tprotected get uniqueEndings(): gameEnding[] {\r\n\t\treturn this.endings.reduce<gameEnding[]>((uniqueList, ending) => {\r\n\t\t\tif (ending.tools) {\r\n\t\t\t\tending.tools.forEach(tool => {\r\n\t\t\t\t\tuniqueList.push({\r\n\t\t\t\t\t\ttext: ending.actionText(tool.text),\r\n\t\t\t\t\t\tchance: ending.chance,\r\n\t\t\t\t\t\tcanPostOrgasm: ending.canPostOrgasm,\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tuniqueList.push({\r\n\t\t\t\t\ttext: ending.actionText(''),\r\n\t\t\t\t\tchance: ending.chance,\r\n\t\t\t\t\tcanPostOrgasm: ending.canPostOrgasm,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn uniqueList;\r\n\t\t}, []);\r\n\t}\r\n\r\n\tprotected get uniquePostOrgasm(): gamePostOrgasm[] {\r\n\t\treturn this.postOrgasms.map(postOrgasm => ({\r\n\t\t\ttext: postOrgasm.actionText(''),\r\n\t\t\tchance: postOrgasm.chance,\r\n\t\t}));\r\n\t}\r\n\r\n\tprotected get canPlay(): boolean {\r\n\t\treturn this.uniqueActions.length > 0 && this.uniqueEndings.length > 0;\r\n\t}\r\n\r\n\tprotected get gameSpeed(): number {\r\n\t\tif (!env.debug) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\treturn this.state.gameSpeed;\r\n\t}\r\n\r\n\tprotected get tickSpeed(): number {\r\n\t\tconst bps = this.state.currentSpeed.bps;\r\n\r\n\t\tif (bps === 0) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\tif (bps < 1) {\r\n\t\t\treturn bps;\r\n\t\t}\r\n\r\n\t\treturn 1 / bps;\r\n\t}\r\n\r\n\tprotected get totalTime(): string {\r\n\t\tconst timeObject = Time.secondsToTime(Math.ceil(this.state.totalTime + this.state.pastTotalTime));\r\n\r\n\t\treturn Time.hmsToClock(timeObject, { m: false });\r\n\t}\r\n\r\n\tprotected get remainingTime(): number {\r\n\t\treturn Math.ceil(this.state.remainingTime);\r\n\t}\r\n\r\n\tprotected get animationSpeed(): string {\r\n\t\tif (!this.state.isPlaying || this.state.currentSpeed.bps === 0) {\r\n\t\t\treturn '0ms';\r\n\t\t}\r\n\t\treturn `${(1000 / this.gameSpeed) / this.state.currentSpeed.bps}ms`;\r\n\t}\r\n\r\n\tprotected get currentSpeedBoxColor(): string {\r\n\t\tswitch (this.state.currentSpeed) {\r\n\t\t\tcase gameSettings.speed.edge:\r\n\t\t\tcase gameSettings.speed.extreme:\r\n\t\t\t\treturn 'bg-red-600';\r\n\r\n\t\t\tcase gameSettings.speed.hard:\r\n\t\t\t\treturn 'bg-yellow-500';\r\n\r\n\t\t\tcase gameSettings.speed.medium:\r\n\t\t\t\treturn 'bg-green-500';\r\n\r\n\t\t\tcase gameSettings.speed.slow:\r\n\t\t\t\treturn 'bg-blue-500';\r\n\r\n\t\t\tcase gameSettings.speed.gentle:\r\n\t\t\t\treturn 'bg-purple-500';\r\n\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'bg-black';\r\n\t\t}\r\n\t}\r\n\r\n\tprotected get nextSpeedTextColor(): string {\r\n\t\tswitch (this.state.nextSpeed) {\r\n\t\t\tcase gameSettings.speed.edge:\r\n\t\t\tcase gameSettings.speed.extreme:\r\n\t\t\t\treturn 'text-red-600';\r\n\r\n\t\t\tcase gameSettings.speed.hard:\r\n\t\t\t\treturn 'text-yellow-500';\r\n\r\n\t\t\tcase gameSettings.speed.medium:\r\n\t\t\t\treturn 'text-green-500';\r\n\r\n\t\t\tcase gameSettings.speed.slow:\r\n\t\t\t\treturn 'text-blue-500';\r\n\r\n\t\t\tcase gameSettings.speed.gentle:\r\n\t\t\t\treturn 'text-purple-500';\r\n\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'text-white';\r\n\t\t}\r\n\t}\r\n\r\n\tprotected play = () => {\r\n\t\tif (!this.state.isInGame) {\r\n\t\t\tthis.setState(this.pickAction(this.state));\r\n\t\t}\r\n\r\n\t\tif (!this._ticker) {\r\n\t\t\tthis.tick();\r\n\t\t}\r\n\r\n\t\tthis.setState({ isInGame: true, isPlaying: true });\r\n\t}\r\n\r\n\tprotected pause = () => {\r\n\t\tif (this._ticker){\r\n\t\t\tthis.stopTick();\r\n\t\t}\r\n\r\n\t\tthis.setState({ isPlaying: false });\r\n\t}\r\n\r\n\tprotected stop = () => {\r\n\t\tif (this._ticker){\r\n\t\t\tthis.stopTick();\r\n\t\t}\r\n\r\n\t\tRandomizer.resetRandom();\r\n\r\n\t\tthis.setState({\r\n\t\t\t...BASE_STATE,\r\n\t\t\tembedSource: this.state.embedSource,\r\n\t\t});\r\n\t}\r\n\r\n\tprotected toggleOverlay = () => {\r\n\t\tthis.setState(prevState => ({ isOverlayShown: !prevState.isOverlayShown }));\r\n\t}\r\n\r\n\tprotected getTime = (seconds: number): number => {\r\n\t\treturn seconds * 1000; // Converts in milliseconds\r\n\t}\r\n\r\n\tprotected setSeed = () => {\r\n\t\tRandomizer.seed = this.state.seed;\r\n\r\n\t\tthis.setState({ seed: Randomizer.seed });\r\n\t}\r\n\r\n\tprotected pickAction = (state: GameState): any => {\r\n\t\ttype speedFilter = { whitelist?: Speed[], blacklist?: Speed[] };\r\n\r\n\t\tconst getSpeedsList = (filter: speedFilter = {}): Speed[] => {\r\n\t\t\tif (filter.whitelist?.length) {\r\n\t\t\t\treturn filter.whitelist;\r\n\t\t\t}\r\n\r\n\t\t\tif (filter.blacklist?.length) {\r\n\t\t\t\treturn Object.values(gameSettings.speed)\r\n\t\t\t\t\t.filter(speed => !filter.blacklist?.includes(speed));\r\n\t\t\t}\r\n\r\n\t\t\treturn Object.values(gameSettings.speed);\r\n\t\t};\r\n\r\n\t\tconst getActionsList = (speed: Speed): gameAction[] => {\r\n\t\t\tif (speed === gameSettings.speed.cum) {\r\n\t\t\t\treturn this.uniqueEndings as any;\r\n\t\t\t}\r\n\r\n\t\t\treturn this.uniqueActions.filter(action => {\r\n\t\t\t\treturn speed === gameSettings.speed.none\r\n\t\t\t\t\t? action.singleAction\r\n\t\t\t\t\t: !action.singleAction;\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst pickSpeed = (filter: speedFilter = {}): Speed => Randomizer.pickOneWithChance(\r\n\t\t\tgetSpeedsList(filter).map(speed => [\r\n\t\t\t\tspeed,\r\n\t\t\t\tspeed.chance(this.getTime(state.totalTime))\r\n\t\t\t]),\r\n\t\t);\r\n\r\n\t\tconst pickAction = (speed: Speed) => Randomizer.pickOneWithChance(\r\n\t\t\tgetActionsList(speed).map(action => [\r\n\t\t\t\taction,\r\n\t\t\t\taction.chance(this.getTime(state.totalTime)),\r\n\t\t\t]),\r\n\t\t);\r\n\r\n\t\tconst pickPostOrgasm = () => Randomizer.pickOneWithChance(\r\n\t\t\tthis.postOrgasms.map(action => [\r\n\t\t\t\taction,\r\n\t\t\t\taction.chance(this.getTime(state.totalTime)),\r\n\t\t\t]),\r\n\t\t);\r\n\r\n\t\tlet currentSpeed, currentAction, nextSpeed, nextAction;\r\n\t\tlet stats = {};\r\n\r\n\t\tcurrentSpeed = state.nextSpeed ? state.nextSpeed : BASE_STATE.currentSpeed;\r\n\r\n\t\tcurrentAction = state.nextAction\r\n\t\t\t? state.nextAction\r\n\t\t\t: pickAction(currentSpeed);\r\n\r\n\t\tnextSpeed = pickSpeed({\r\n\t\t\twhitelist: currentSpeed.followUpWhitelist,\r\n\t\t\tblacklist: currentSpeed.followUpBlacklist || [currentSpeed]\r\n\t\t});\r\n\r\n\t\tstats = Randomizer.getChanceStatistics(\r\n\t\t\tgetSpeedsList({\r\n\t\t\t\twhitelist: currentSpeed.followUpWhitelist,\r\n\t\t\t\tblacklist: currentSpeed.followUpBlacklist || [currentSpeed]\r\n\t\t\t}).map(speed => [\r\n\t\t\t\tspeed,\r\n\t\t\t\tspeed.chance(this.getTime(state.totalTime))\r\n\t\t\t]),\r\n\t\t);\r\n\r\n\t\tnextAction = pickAction(nextSpeed);\r\n\r\n\t\tif (!nextAction) {\r\n\t\t\tnextSpeed = pickSpeed({\r\n\t\t\t\twhitelist: currentSpeed.followUpWhitelist,\r\n\t\t\t\tblacklist: [...(currentSpeed.followUpBlacklist || [currentSpeed]), gameSettings.speed.none]\r\n\t\t\t});\r\n\r\n\t\t\tstats = Randomizer.getChanceStatistics(\r\n\t\t\t\tgetSpeedsList({\r\n\t\t\t\t\twhitelist: currentSpeed.followUpWhitelist,\r\n\t\t\t\t\tblacklist: [...(currentSpeed.followUpBlacklist || [currentSpeed]), gameSettings.speed.none]\r\n\t\t\t\t}).map(speed => [\r\n\t\t\t\t\tspeed,\r\n\t\t\t\t\tspeed.chance(this.getTime(state.totalTime))\r\n\t\t\t\t]),\r\n\t\t\t);\r\n\r\n\t\t\tnextAction = pickAction(nextSpeed);\r\n\t\t}\r\n\r\n\t\tif (currentAction === nextAction && currentSpeed === nextSpeed) { // Reroll\r\n\t\t\treturn this.pickAction(state);\r\n\t\t}\r\n\r\n\t\tconst [minDuration, maxDuration] = currentSpeed.duration(state.totalTime);\r\n\r\n\t\tconst remainingTime = Randomizer.int(maxDuration, minDuration);\r\n\r\n\t\tconst isEnding = currentSpeed === gameSettings.speed.cum;\r\n\t\tconst shouldPostOrgasm = isEnding && true;\r\n\r\n\t\tconst postOrgasm = shouldPostOrgasm ? pickPostOrgasm() : null;\r\n\r\n\t\treturn {\r\n\t\t\tcurrentAction,\r\n\t\t\tcurrentSpeed,\r\n\t\t\tnextAction,\r\n\t\t\tnextSpeed,\r\n\t\t\tremainingTime,\r\n\t\t\tisEnding,\r\n\t\t\tpostOrgasm,\r\n\t\t\tstats,\r\n\t\t};\r\n\t}\r\n\r\n\tprotected tick = (): void => {\r\n\t\tif (this.state.remainingTime - this.tickSpeed <= 0 && this.state.isEnding) {\r\n\t\t\t// @TODO postOrgasms.secondRound - Reset game but keep seed entropy + totalTime\r\n\t\t\t//\r\n\t\t\t// if (this.state.postOrgasm === gameSettings.postOrgasms.secondRound) {\r\n\t\t\t// \tthis.setState(prevState => {\r\n\t\t\t// \t\tconst actionState = this.pickAction(prevState);\r\n\t\t\t//\r\n\t\t\t// \t\treturn {\r\n\t\t\t// \t\t\tisEnding: false,\r\n\t\t\t// \t\t\ttotalTime: 0,\r\n\t\t\t// \t\t\tpastTotalTime: prevState.totalTime + 1,\r\n\t\t\t// \t\t\tcurrentAction: actionState.currentAction,\r\n\t\t\t// \t\t\tnextAction: actionState.nextAction,\r\n\t\t\t// \t\t\tcurrentSpeed: actionState.currentSpeed,\r\n\t\t\t// \t\t\tnextSpeed: actionState.nextSpeed,\r\n\t\t\t// \t\t\tremainingTime: actionState.remainingTime,\r\n\t\t\t// \t\t\tpostOrgasm: actionState.postOrgasm,\r\n\t\t\t// \t\t\tstats: actionState.stats,\r\n\t\t\t// \t\t};\r\n\t\t\t// \t});\r\n\t\t\t//\r\n\t\t\t// \treturn;\r\n\t\t\t// }\r\n\r\n\t\t\tthis.pause();\r\n\r\n\t\t\tthis.setState(prevState => ({\r\n\t\t\t\ttotalTime: prevState.totalTime + 1,\r\n\t\t\t\tremainingTime: 0,\r\n\t\t\t}));\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.setState<any>(prevState => {\r\n\t\t\tconst nextTickRemainingTime = prevState.remainingTime - this.tickSpeed;\r\n\r\n\t\t\tif (nextTickRemainingTime <= 0) {\r\n\t\t\t\tconst actionState = this.pickAction(prevState);\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tisEnding: actionState.isEnding,\r\n\t\t\t\t\tcurrentAction: actionState.currentAction,\r\n\t\t\t\t\tnextAction: actionState.nextAction,\r\n\t\t\t\t\tcurrentSpeed: actionState.currentSpeed,\r\n\t\t\t\t\tnextSpeed: actionState.nextSpeed,\r\n\t\t\t\t\tremainingTime: actionState.remainingTime,\r\n\t\t\t\t\ttotalTime: prevState.totalTime + this.tickSpeed,\r\n\t\t\t\t\tpostOrgasm: actionState.postOrgasm,\r\n\t\t\t\t\tstats: actionState.stats,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tremainingTime: nextTickRemainingTime,\r\n\t\t\t\ttotalTime: prevState.totalTime + this.tickSpeed,\r\n\t\t\t};\r\n\t\t}, () => {\r\n\t\t\tif (this.shouldBeep()) {\r\n\t\t\t\tthis.beep();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis._ticker = setTimeout(this.tick, 1000 * this.tickSpeed / this.gameSpeed);\r\n\t}\r\n\r\n\tprotected stopTick = () => {\r\n\t\tclearTimeout(this._ticker);\r\n\r\n\t\tthis._ticker = undefined;\r\n\t}\r\n\r\n\tprotected shouldBeep = (): boolean => {\r\n\t\tthis._tickCount++;\r\n\r\n\t\tif (this.tickSpeed * this._tickCount >= 1 / this.state.currentSpeed.bps) {\r\n\t\t\tthis._tickCount = 0;\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprotected beep = (): void => {\r\n\t\tconst sound = new Audio(\"data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=\");\r\n\r\n\t\tsound.play();\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tif (!this.canPlay) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst stats = env.debug ? (\r\n\t\t\t<div className={'mb-5'}>\r\n\t\t\t\t<h3 className={'text-xl bold'}>Statistic</h3>\r\n\t\t\t\t<ul className={'flex flex-wrap -m-1 py-2'}>\r\n\t\t\t\t\t{Object.values(gameSettings.speed).map((value, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li key={i} className={'w-1/6 p-1'}>\r\n\t\t\t\t\t\t\t\t<span className={'w-24'}>{`${value.text}: `}</span>\r\n\t\t\t\t\t\t\t\t<span>{`${SuperMath.toPercent(this.state.stats[value.text]) || 0}%`}</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t) : null;\r\n\r\n\t\tconst actionsLists = (\r\n\t\t\t<div className={'mb-5'}>\r\n\t\t\t\t<h3 className={'text-xl bold'}>Unique actions</h3>\r\n\t\t\t\t<ul className={'flex flex-wrap py-2 -m-2'}>\r\n\t\t\t\t\t{this.uniqueActions.map((action, i) => (\r\n\t\t\t\t\t\t<li key={i} className={'p-2'}>{action.text}</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\tconst endingsLists = (\r\n\t\t\t<div className={'mb-5'}>\r\n\t\t\t\t<h3 className={'text-xl bold'}>Unique endings</h3>\r\n\t\t\t\t<ul className={'flex flex-wrap py-2'}>\r\n\t\t\t\t\t{this.uniqueEndings.map((action, i) => (\r\n\t\t\t\t\t\t<li key={i}>{action.text}</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\tconst overlay = this.canPlay ? (\r\n\t\t\t<div className={[\r\n\t\t\t\t'transition absolute w-full h-full pointer-events-none',\r\n\t\t\t\t!this.state.isOverlayShown ? 'opacity-0 visibility-none' : '',\r\n\t\t\t].join(' ')}>\r\n\t\t\t\t<div className={'w-full h-full p-3'}>\r\n\t\t\t\t\t<div className={'relative w-full h-full'}>\r\n\r\n\t\t\t\t\t\t<div className={'absolute p-3 top-0 left-0 bg-black bg-opacity-70'}>\r\n\t\t\t\t\t\t\t<div className={'text-md bold'}>{this.totalTime}</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{this.state.currentAction && (\r\n\t\t\t\t\t\t\t<div className={'absolute p-3 bottom-0 left-0 bg-black bg-opacity-70'}>\r\n\t\t\t\t\t\t\t\t{!this.state.isEnding && this.state.nextAction && this.state.nextSpeed && (\r\n\t\t\t\t\t\t\t\t\t<div className={'text-sm bold'}>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.nextSpeed !== gameSettings.speed.stop && (\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{`Up next: ${this.state.nextAction.text} `}</span>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{this.state.nextSpeed !== gameSettings.speed.none && (\r\n\t\t\t\t\t\t\t\t\t\t\t<span className={this.nextSpeedTextColor}>{`(${this.state.nextSpeed.text})`}</span>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{this.state.isEnding && this.state.postOrgasm && (\r\n\t\t\t\t\t\t\t\t\t<div className={'text-sm bold'}>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.postOrgasm.text}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t<div className={'text-2xl bold'}>{this.state.currentAction.text}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<div className={['absolute bottom-0 right-0 w-24 h-24 bg-opacity-70 overflow-hidden', this.currentSpeedBoxColor].join(' ')}>\r\n\t\t\t\t\t\t\t<div className={'relative flex flex-col justify-center items-center w-full h-full'}>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={'absolute w-full h-full bg-gray-100 bg-opacity-30 animate-bounce'}\r\n\t\t\t\t\t\t\t\t\tstyle={{ animationDuration: this.animationSpeed }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{this.state.currentSpeed !== gameSettings.speed.none && (\r\n\t\t\t\t\t\t\t\t\t<div className={'z-10 text-md'}>{this.state.currentSpeed.text}</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className={'z-10 text-2xl bold'}>{this.remainingTime}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t) : null;\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className={'flex -m-2 py-2'}>\r\n\t\t\t\t\t<div className={'p-2 w-3/4'}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName={'px-3 text-black w-full'}\r\n\t\t\t\t\t\t\ttype={'text'}\r\n\t\t\t\t\t\t\tvalue={this.state.seed}\r\n\t\t\t\t\t\t\tplaceholder={'Insert custom game seed'}\r\n\t\t\t\t\t\t\tonChange={e => this.setState({ seed: e.target.value })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName={[\r\n\t\t\t\t\t\t\t\t'transition px-3 border border-white rounded',\r\n\t\t\t\t\t\t\t\tRandomizer.seed !== this.state.seed ? 'bg-white text-black' : '',\r\n\t\t\t\t\t\t\t].join(' ')}\r\n\t\t\t\t\t\t\tonClick={this.setSeed}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>Change seed</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={'flex -m-2 py-2'}>\r\n\t\t\t\t\t<div className={'p-2 w-3/4'}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName={'px-3 text-black w-full'}\r\n\t\t\t\t\t\t\ttype={'text'}\r\n\t\t\t\t\t\t\tvalue={this.state.embedSource}\r\n\t\t\t\t\t\t\tplaceholder={'Insert video link or id: ph:ph1a2b3c4d5f6g7 | xvid:01234567 | https://www.pornhub.com/view_video.php?viewkey=ph1a2b3c4d5f6g7 | https://www.xvideos.com/video01234567/abc_xyz'}\r\n\t\t\t\t\t\t\tonChange={e => this.setState({ embedSource: e.target.value })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName={'px-3 border border-white rounded'}\r\n\t\t\t\t\t\t\tonClick={() => this._pornEmbed.current?.setSource(this.state.embedSource)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span>Change video</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={'flex -m-2 py-2'}>\r\n\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t<button className={'px-3 border border-white rounded'} onClick={this.play}>Play</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t<button className={'px-3 border border-white rounded'} onClick={this.pause}>Pause</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t<button className={'px-3 border border-white rounded'} onClick={this.stop}>Stop</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName={[\r\n\t\t\t\t\t\t\t\t'transition px-3 rounded',\r\n\t\t\t\t\t\t\t\tthis.state.isOverlayShown ? 'bg-white text-black' : ''\r\n\t\t\t\t\t\t\t].join(' ')}\r\n\t\t\t\t\t\t\tonClick={this.toggleOverlay}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tToggle overlay\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{env.debug && (\r\n\t\t\t\t\t\t<div className={'p-2 flex justify-center items-center'}>\r\n\t\t\t\t\t\t\t<div className={'mr-2'}>\r\n\t\t\t\t\t\t\t\t<span>Game speed: </span>\r\n\t\t\t\t\t\t\t\t<span className={'inline-block w-8 font-bold'}>{`${this.gameSpeed}x`}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tstyle={{ width: '300px' }}\r\n\t\t\t\t\t\t\t\ttype={'range'}\r\n\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\tmax={50}\r\n\t\t\t\t\t\t\t\tvalue={this.gameSpeed}\r\n\t\t\t\t\t\t\t\tonChange={(e) => this.setState({ gameSpeed: parseInt(e.target.value) })}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={'relative bg-black w-full h-0'} style={{ paddingBottom: `${(9/16) * 100}%` }}>\r\n\r\n\t\t\t\t\t<div className={'absolute w-full h-full'}>\r\n\t\t\t\t\t\t{/*<Webcam className={'object-cover w-full h-full'} />*/}\r\n\t\t\t\t\t\t<PornEmbed\r\n\t\t\t\t\t\t\tref={this._pornEmbed}\r\n\t\t\t\t\t\t\tclassName={'object-cover w-full h-full'}\r\n\t\t\t\t\t\t\tonMount={() => {\r\n\t\t\t\t\t\t\t\tthis._pornEmbed.current?.setSource(this.state.embedSource)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{overlay}\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={'mt-24'}>\r\n\t\t\t\t\t{stats}\r\n\r\n\t\t\t\t\t{actionsLists}\r\n\r\n\t\t\t\t\t{endingsLists}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={'mt-24'}>\r\n\t\t\t\t\t<h2 className={'text-xl bold'}>Feedback</h2>\r\n\t\t\t\t\t<div className={'bg-gray-100'}>\r\n\t\t\t\t\t\t<iframe\r\n\t\t\t\t\t\t\tclassName={'w-full h-screen'}\r\n\t\t\t\t\t\t\tsrc={'https://docs.google.com/forms/d/e/1FAIpQLSddzBoiVNQjP0tN4xGhVmV60OLcz_054iuJ5nKrpTp8nCWaFw/viewform?embedded=true'}\r\n\t\t\t\t\t\t\tframeBorder={0}\r\n\t\t\t\t\t\t\tmarginHeight={0}\r\n\t\t\t\t\t\t\tmarginWidth={0}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tLoading…\r\n\t\t\t\t\t\t</iframe>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nexport default Game;\r\n","/*\n\t@TODO add linting in codebase\n*/\n\nimport React from 'react';\nimport Preferences from './components/Preferences/Preferences';\nimport Game from './components/Game/Game';\nimport Gender from './entity/Gender';\nimport Tool from './entity/Tool';\nimport Action from './entity/Action';\nimport Ending from './entity/Ending';\nimport PostOrgasm from './entity/PostOrgasm';\nimport Randomizer from './utils/Randomizer';\nimport gameSettings from './settings/game';\nimport genders from './settings/genders';\nimport tools from './settings/tools';\nimport { getKeyFromObject } from './utils/utils';\n\nexport interface AppState {\n\tgender: string,\n\ttools: string[],\n\tactions: string[],\n\tendings: string[],\n\tpostOrgasms: string[],\n}\n\nclass App extends React.Component<{}, AppState> {\n\n\tpublic state: AppState = {\n\t\tgender: 'male',\n\t\ttools: [],\n\t\tactions: [],\n\t\tendings: [],\n\t\tpostOrgasms: [],\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getPreferences();\n\t}\n\n\tprotected getPreferences = () => {\n\t\tconst getArrayParam = (value: string) => value.split(',').filter(value => value);\n\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\n\t\tconst gender = urlParams.get('gender');\n\n\t\tif (gender !== null) {\n\t\t\tthis.setGender(gender, false);\n\t\t}\n\n\t\tconst tools = urlParams.get('tools');\n\n\t\tif (tools !== null) {\n\t\t\tthis.setTools(getArrayParam(tools), false);\n\t\t}\n\n\t\tconst actions = urlParams.get('actions');\n\n\t\tif (actions !== null) {\n\t\t\tthis.setActions(getArrayParam(actions), false);\n\t\t}\n\n\t\tconst endings = urlParams.get('endings');\n\n\t\tif (endings !== null) {\n\t\t\tthis.setEndings(getArrayParam(endings), false);\n\t\t}\n\n\t\tconst postOrgasms = urlParams.get('postOrgasms');\n\n\t\tif (postOrgasms !== null) {\n\t\t\tthis.setPostOrgasms(getArrayParam(postOrgasms), false);\n\t\t}\n\n\t\tconst seed = urlParams.get('seed');\n\n\t\tif (seed !== null) {\n\t\t\tRandomizer.seed = seed;\n\t\t}\n\t}\n\n\tprotected setPreferences = () => {\n\t\tconst searchParams = Object.entries(this.state).reduce<any>((params, [key, value]) => {\n\t\t\tif (!value || (Array.isArray(value) && value.length === 0)) {\n\t\t\t\treturn params;\n\t\t\t}\n\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\tparams.append(key, value.join(',').replace(/(^,{1,}|,{1,}$)/g, ''));\n\t\t\t} else {\n\t\t\t\tparams.append(key, value);\n\t\t\t}\n\n\t\t\treturn params;\n\t\t}, new URLSearchParams());\n\n\t\tsearchParams.set('seed', Randomizer.seed);\n\n\t\tconst url = `?${searchParams.toString()}`;\n\n\t\twindow.history.replaceState(null, 'preference', url);\n\t}\n\n\tprotected setPreferencesIfTrue = (condition: boolean) => () => {\n\t\tif (!condition) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setPreferences();\n\t}\n\n\tprotected setGender = (option: string, setPref: boolean = true) => {\n\t\tthis.setState({\n\t\t\tgender: option\n\t\t}, this.setPreferencesIfTrue(setPref));\n\t}\n\n\tprotected setTools = (options: string[], setPref: boolean = true) => {\n\t\tthis.setState({\n\t\t\ttools: options\n\t\t}, this.setPreferencesIfTrue(setPref));\n\t}\n\n\tprotected setActions = (options: string[], setPref: boolean = true) => {\n\t\tthis.setState({\n\t\t\tactions: options\n\t\t}, this.setPreferencesIfTrue(setPref));\n\t}\n\n\tprotected setEndings = (options: string[], setPref: boolean = true) => {\n\t\tthis.setState({\n\t\t\tendings: options\n\t\t}, this.setPreferencesIfTrue(setPref));\n\t}\n\n\tprotected setPostOrgasms = (options: string[], setPref: boolean = true) => {\n\t\tthis.setState({\n\t\t\tpostOrgasms: options\n\t\t}, this.setPreferencesIfTrue(setPref));\n\t}\n\n\tpublic render() {\n\t\treturn (\n\t\t\t<div className={'min-h-screen bg-gray-800 px-10 py-5'}>\n\t\t\t\t<div className={'mx-auto w-full'} style={{ maxWidth: '1200px' }}>\n\n\t\t\t\t\t<Preferences\n\t\t\t\t\t\t{...this.state}\n\t\t\t\t\t\tsetGender={this.setGender}\n\t\t\t\t\t\tsetTools={this.setTools}\n\t\t\t\t\t\tsetActions={this.setActions}\n\t\t\t\t\t\tsetEndings={this.setEndings}\n\t\t\t\t\t\tsetPostOrgasms={this.setPostOrgasms}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Game {...this.state} />\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}