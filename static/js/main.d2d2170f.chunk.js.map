{"version":3,"sources":["components/Preferences/OptionContainer/OptionContainer.tsx","components/Preferences/OptionTitle/OptionTitle.tsx","entity/Tool.ts","entity/Gender.ts","settings/genders.ts","settings/tools.ts","entity/Action.ts","entity/PostOrgasm.ts","entity/Ending.ts","entity/Speed.ts","utils/SuperMath.ts","settings/game.ts","settings/env.ts","utils/utils.ts","components/Preferences/Preferences.tsx","utils/Time.ts","components/GameOverlay/GameOverlay.tsx","components/GameContent/GameContent.tsx","components/Button/Button.tsx","utils/Randomizer.ts","components/PornEmbed/PornEmbed.tsx","components/Game/Game.tsx","App.tsx","index.tsx"],"names":["OptionContainer","children","className","OptionTitle","Tool","payload","_text","_genders","this","text","genders","Gender","settings","male","female","m2f","f2m","leftHand","rightHand","bothHands","leftHandFinger","rightHandFinger","dildo","fleshlight","doll","vibrator","buttPlug","analBeeds","Action","_actionText","_tools","_chance","_singleAction","_canOrgasm","actionText","tools","chance","singleAction","canOrgasm","undefined","PostOrgasm","Ending","_canPostOrgasm","canPostOrgasm","Speed","_bps","_duration","_followUpWhitelist","_followUpBlacklist","bps","duration","followUpWhitelist","followUpBlacklist","SuperMath","x","a","c","b","number","i","decimal","value","Math","round","Number","isNaN","MIN","speed","gentle","ms","timeInMin","linear","stop","cum","slow","medium","t","hard","exponential","ceil","extreme","edge","START","timeOverInMin","none","actions","stroke","tool","gender","rubClitoris","slapPussy","anal","fuck","fuckPussy","suck","deepTroat","analInsert","endings","denyOrgasm","ruinedOrgasm","postOrgasms","cei","secondRound","env","debug","showHidden","getKeyFromObject","object","Object","entries","key","Preferences","getValue","list","data","Array","isArray","map","filter","props","length","ending","label","includes","gameSettings","action","some","option","postOrgasm","type","options","genderOptions","defaultValue","onChange","setGender","hasGender","toolOptions","setTools","hasTools","actionOptions","setActions","hasActions","endingOptions","setEndings","hasEndings","postOrgasmOptions","setPostOrgasms","React","Component","Time","secs","divisorForMinutes","divisorForSeconds","h","floor","m","s","timeObject","format","sec","min","timeDisplayFormat","time","secondsToTime","hmsToClock","GameOverlay","isVisible","isEnding","animationSpeed","totalTime","currentSpeed","nextSpeed","currentAction","nextAction","remainingTime","currentSpeedBoxColor","getCurrentSpeedBoxColor","nextSpeedTextColor","getNextSpeedTextColor","totalTimeBox","actionBox","speedBox","join","style","animationDuration","GameContent","node","useRef","useState","isFullScreen","setFullScreen","ref","paddingBottom","background","onClick","willBeFullScreen","bodyClass","document","body","classList","add","remove","Button","setSeed","seed","urlParams","URLSearchParams","window","location","search","set","url","toString","history","replaceState","Randomizer","_random","resetRandom","_seed","uniqid","Seedrandom","max","random","items","int","fullList","reduce","acc","item","count","push","pickOne","entry","seedParam","get","getInitialSeed","PornEmbed","state","source","pornhubUrl","videoId","xvideosUrl","setSource","src","urlParam","match","replace","test","setState","setTimeout","onMount","touchable","title","frameBorder","scrolling","allowFullScreen","defaultProps","BASE_STATE","isInGame","isPlaying","isOverlayShown","isEmbedTouchable","pastTotalTime","embedSource","stats","gameSpeed","Game","_tickCount","_ticker","_pornEmbed","createRef","play","pickAction","tick","pause","stopTick","toggleOverlay","prevState","toggleEmbedTouch","console","log","getTime","seconds","getSpeedsList","whitelist","blacklist","values","pickSpeed","pickOneWithChance","uniqueEndings","uniqueActions","getActionsList","getChanceStatistics","minDuration","maxDuration","tickSpeed","nextTickRemainingTime","actionState","shouldBeep","beep","clearTimeout","Audio","clearInterval","uniqueList","forEach","canPlay","toPercent","actionsLists","endingsLists","placeholder","current","marginHeight","marginWidth","App","getPreferences","getArrayParam","split","setPreferences","searchParams","params","append","setPreferencesIfTrue","condition","setPref","maxWidth","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d2d2170f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst OptionContainer: React.FC = ({ children }) => (\r\n\t<div className={'mb-12'}>\r\n\t\t{children}\r\n\t</div>\r\n);\r\n\r\nexport default OptionContainer;\r\n","import React from 'react';\r\n\r\nconst OptionTitle: React.FC = ({ children }) => (\r\n\t<h2 className={'text-xl bold mb-5'}>{children}</h2>\r\n);\r\n\r\nexport default OptionTitle;\r\n","import Gender from './Gender';\r\n\r\nexport type toolPayload = {\r\n\ttext: string,\r\n\tgenders: Gender[],\r\n}\r\n\r\nclass Tool {\r\n\r\n\tprotected _text: string;\r\n\tprotected _genders: Gender[];\r\n\r\n\tconstructor(payload: toolPayload) {\r\n\t\tthis._text = payload.text;\r\n\t\tthis._genders = payload.genders;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get genders(): Gender[] {\r\n\t\treturn this._genders;\r\n\t}\r\n\r\n}\r\n\r\nexport default Tool;\r\n","export type genderPayload = {\r\n\ttext: string,\r\n}\r\n\r\nclass Gender {\r\n\r\n\tprotected _text: string;\r\n\r\n\tconstructor(payload: genderPayload) {\r\n\t\tthis._text = payload.text;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n}\r\n\r\nexport default Gender;\r\n","import Gender from '../entity/Gender';\r\n\r\nexport type genderSettings = {\r\n\t[key: string]: Gender,\r\n}\r\n\r\nconst settings: genderSettings = {\r\n\tmale: new Gender({\r\n\t\ttext: 'Male',\r\n\t}),\r\n\tfemale: new Gender({\r\n\t\ttext: 'Female',\r\n\t}),\r\n\tm2f: new Gender({\r\n\t\ttext: 'Trans (male to female)',\r\n\t}),\r\n\tf2m: new Gender({\r\n\t\ttext: 'Trans (female to male)',\r\n\t}),\r\n}\r\n\r\nexport default settings;\r\n","import Tool from '../entity/Tool';\r\nimport genders from '../settings/genders';\r\n\r\nexport type toolSettings = {\r\n\t[key: string]: Tool,\r\n}\r\n\r\nconst settings: toolSettings = {\r\n\tleftHand: new Tool({\r\n\t\ttext: 'Left hand',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\trightHand: new Tool({\r\n\t\ttext: 'Right hand',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tbothHands: new Tool({\r\n\t\ttext: 'Both hands',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tleftHandFinger: new Tool({\r\n\t\ttext: 'Left hand finger(s)',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\trightHandFinger: new Tool({\r\n\t\ttext: 'Right hand finger(s)',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tdildo: new Tool({\r\n\t\ttext: 'Dildo',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tfleshlight: new Tool({\r\n\t\ttext: 'Fleshlight',\r\n\t\tgenders: [genders.male, genders.m2f],\r\n\t}),\r\n\tdoll: new Tool({\r\n\t\ttext: 'Doll',\r\n\t\tgenders: [genders.male, genders.m2f],\r\n\t}),\r\n\tvibrator: new Tool({\r\n\t\ttext: 'Vibrator',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tbuttPlug: new Tool({\r\n\t\ttext: 'Butt plug',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tanalBeeds: new Tool({\r\n\t\ttext: 'Anal beeds',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t})\r\n}\r\n\r\nexport default settings;\r\n","import Gender from './Gender';\r\nimport Tool from './Tool';\r\nimport { probability, buildableString } from '../utils/types';\r\n\r\nexport type actionPayload = {\r\n\ttext: string,\r\n\tactionText: buildableString,\r\n\ttools?: Tool[],\r\n\tgenders: Gender[],\r\n\tchance: probability,\r\n\tsingleAction?: boolean,\r\n\tcanOrgasm?: boolean,\r\n}\r\n\r\nclass Action {\r\n\r\n\tprotected _text: string;\r\n\tprotected _actionText: buildableString;\r\n\tprotected _tools?: Tool[];\r\n\tprotected _genders: Gender[];\r\n\tprotected _chance: probability;\r\n\tprotected _singleAction?: boolean;\r\n\tprotected _canOrgasm?: boolean;\r\n\r\n\tconstructor(payload: actionPayload) {\r\n\t\tthis._text = payload.text;\r\n\t\tthis._actionText = payload.actionText;\r\n\t\tthis._tools = payload.tools;\r\n\t\tthis._genders = payload.genders;\r\n\t\tthis._chance = payload.chance;\r\n\t\tthis._singleAction = payload.singleAction;\r\n\t\tthis._canOrgasm = payload.canOrgasm;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get actionText(): buildableString {\r\n\t\treturn this._actionText;\r\n\t}\r\n\r\n\tpublic get tools(): Tool[] | undefined {\r\n\t\treturn this._tools;\r\n\t}\r\n\r\n\tpublic get genders(): Gender[] {\r\n\t\treturn this._genders;\r\n\t}\r\n\r\n\tpublic get chance(): probability {\r\n\t\treturn this._chance;\r\n\t}\r\n\r\n\tpublic get singleAction(): boolean {\r\n\t\treturn this._singleAction ?? false;\r\n\t}\r\n\r\n\tpublic get canOrgasm(): boolean {\r\n\t\tif (this._canOrgasm === undefined && this.singleAction) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\treturn this._canOrgasm ?? true;\r\n\t}\r\n\r\n}\r\n\r\nexport default Action;\r\n","import Gender from './Gender';\r\nimport Tool from './Tool';\r\nimport { probability, buildableString } from '../utils/types';\r\n\r\nexport type postOrgasmPayload = {\r\n\ttext: string,\r\n\tactionText: buildableString,\r\n\ttools?: Tool[],\r\n\tgenders: Gender[],\r\n\tchance: probability,\r\n\tsingleAction?: boolean,\r\n\tcanOrgasm?: boolean,\r\n}\r\n\r\nclass PostOrgasm {\r\n\r\n\tprotected _text: string;\r\n\tprotected _actionText: buildableString;\r\n\tprotected _genders: Gender[];\r\n\tprotected _chance: probability;\r\n\r\n\tconstructor(payload: postOrgasmPayload) {\r\n\t\tthis._text = payload.text;\r\n\t\tthis._actionText = payload.actionText;\r\n\t\tthis._genders = payload.genders;\r\n\t\tthis._chance = payload.chance;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get actionText(): buildableString {\r\n\t\treturn this._actionText;\r\n\t}\r\n\r\n\tpublic get genders(): Gender[] {\r\n\t\treturn this._genders;\r\n\t}\r\n\r\n\tpublic get chance(): probability {\r\n\t\treturn this._chance;\r\n\t}\r\n\r\n}\r\n\r\nexport default PostOrgasm;\r\n","import Gender from './Gender';\r\nimport Tool from './Tool';\r\nimport { probability, buildableString } from '../utils/types';\r\n\r\nexport type endingPayload = {\r\n\ttext: string,\r\n\tactionText: buildableString,\r\n\ttools?: Tool[],\r\n\tgenders: Gender[],\r\n\tchance: probability,\r\n\tsingleAction?: boolean,\r\n\tcanPostOrgasm?: boolean,\r\n}\r\n\r\nclass Ending {\r\n\r\n\tprotected _text: string;\r\n\tprotected _actionText: buildableString;\r\n\tprotected _tools?: Tool[];\r\n\tprotected _genders: Gender[];\r\n\tprotected _chance: probability;\r\n\tprotected _canPostOrgasm?: boolean;\r\n\r\n\tconstructor(payload: endingPayload) {\r\n\t\tthis._text = payload.text;\r\n\t\tthis._actionText = payload.actionText;\r\n\t\tthis._tools = payload.tools;\r\n\t\tthis._genders = payload.genders;\r\n\t\tthis._chance = payload.chance;\r\n\t\tthis._canPostOrgasm = payload.canPostOrgasm;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get actionText(): buildableString {\r\n\t\treturn this._actionText;\r\n\t}\r\n\r\n\tpublic get tools(): Tool[] | undefined {\r\n\t\treturn this._tools;\r\n\t}\r\n\r\n\tpublic get genders(): Gender[] {\r\n\t\treturn this._genders;\r\n\t}\r\n\r\n\tpublic get chance(): probability {\r\n\t\treturn this._chance;\r\n\t}\r\n\r\n\tpublic get canPostOrgasm(): boolean {\r\n\t\treturn this._canPostOrgasm ?? true;\r\n\t}\r\n\r\n}\r\n\r\nexport default Ending;\r\n","import { probability, durationRange } from '../utils/types';\r\n\r\nexport type speedPayload = {\r\n\ttext: string,\r\n\tbps: number,\r\n\tchance: probability,\r\n\tduration: durationRange,\r\n\tfollowUpWhitelist?: () => Speed[],\r\n\tfollowUpBlacklist?: () => Speed[],\r\n}\r\n\r\nclass Speed {\r\n\r\n\tprotected _text: string;\r\n\tprotected _bps: number;\r\n\tprotected _chance: probability;\r\n\tprotected _duration: durationRange;\r\n\tprotected _followUpWhitelist?: () => Speed[];\r\n\tprotected _followUpBlacklist?: () => Speed[];\r\n\r\n\tconstructor(payload: speedPayload) {\r\n\t\tthis._text = payload.text;\r\n\t\tthis._bps = payload.bps;\r\n\t\tthis._chance = payload.chance;\r\n\t\tthis._duration = payload.duration;\r\n\t\tthis._followUpWhitelist = payload.followUpWhitelist;\r\n\t\tthis._followUpBlacklist = payload.followUpBlacklist;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get bps(): number {\r\n\t\treturn this._bps;\r\n\t}\r\n\r\n\tpublic get chance(): probability {\r\n\t\treturn this._chance;\r\n\t}\r\n\r\n\tpublic get duration(): durationRange {\r\n\t\treturn this._duration;\r\n\t}\r\n\r\n\tpublic get followUpWhitelist(): Speed[] | undefined {\r\n\t\treturn this._followUpWhitelist?.();\r\n\t}\r\n\r\n\tpublic get followUpBlacklist(): Speed[] | undefined {\r\n\t\treturn this._followUpBlacklist?.();\r\n\t}\r\n\r\n}\r\n\r\nexport default Speed;\r\n","class SuperMath {\r\n\r\n\tstatic linear(x: number, a: number, c: number = 0): number {\r\n\t\treturn a * x + c;\r\n\t}\r\n\r\n\tstatic exponential(x: number, a: number, b: number, c: number = 0): number {\r\n\t\treturn a * (b ** x) + c;\r\n\t}\r\n\r\n\tstatic smallestDivisor(number: number): number {\r\n\t\tif (number % 2 === 0) {\r\n\t\t\treturn 2;\r\n\t\t}\r\n\r\n\t\tfor (let i = 3; i * i <= number; i += 2) {\r\n\t\t\tif (number % i === 0) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn number;\r\n\t}\r\n\r\n\tstatic toPercent(number: number, decimal: number = 2): number {\r\n\t\tconst value = Math.round(number * (10 ** decimal)) / 100;\r\n\r\n\t\tif (Number.isNaN(value)) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n}\r\n\r\nexport default SuperMath;\r\n","import tools from './tools';\r\nimport gender from './genders';\r\nimport Action from '../entity/Action'\r\nimport PostOrgasm from '../entity/PostOrgasm'\r\nimport Ending from '../entity/Ending'\r\nimport Speed from '../entity/Speed'\r\nimport SuperMath from '../utils/SuperMath';\r\n\r\nconst MIN = 60000;\r\n\r\nexport type gameSettings = {\r\n\tspeed: { [key: string]: Speed },\r\n\tactions: { [key: string]: Action },\r\n\tendings: { [key: string]: Ending },\r\n\tpostOrgasms: { [key: string]: PostOrgasm },\r\n}\r\n\r\nconst settings: gameSettings = {\r\n\tspeed: {\r\n\t\tgentle: new Speed({\r\n\t\t\ttext: 'Gentle',\r\n\t\t\tbps: 0.5,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst [min, max] = [5, 50];\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\t\t\t\tconst chance = SuperMath.linear(timeInMin, -10, max);\r\n\r\n\t\t\t\tif (chance < min) {\r\n\t\t\t\t\treturn min;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn chance;\r\n\t\t\t},\r\n\t\t\tduration: (ms) => {\r\n\t\t\t\tconst [min, max] = [10, 30];\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\t\t\t\tconst chance = SuperMath.linear(timeInMin, -10, max);\r\n\r\n\t\t\t\tif (chance < min) {\r\n\t\t\t\t\treturn [min, min];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn [min, chance];\r\n\t\t\t},\r\n\t\t\tfollowUpBlacklist: () => [settings.speed.stop, settings.speed.cum],\r\n\t\t}),\r\n\t\tslow: new Speed({\r\n\t\t\ttext: 'Slow',\r\n\t\t\tbps: 1,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst [min, max] = [20, 50];\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\t\t\t\tconst chance = SuperMath.linear(timeInMin, -1, max);\r\n\r\n\t\t\t\tif (chance < min) {\r\n\t\t\t\t\treturn min;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn chance;\r\n\t\t\t},\r\n\t\t\tduration: () => [10, 30],\r\n\t\t}),\r\n\t\tmedium: new Speed({\r\n\t\t\ttext: 'Medium',\r\n\t\t\tbps: 2,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst [min, max] = [25, 60];\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\t\t\t\tconst t = SuperMath.linear(timeInMin, 2, min);\r\n\r\n\t\t\t\tif (t > max) {\r\n\t\t\t\t\treturn max;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn t;\r\n\t\t\t},\r\n\t\t\tduration: () => [10, 30],\r\n\t\t}),\r\n\t\thard: new Speed({\r\n\t\t\ttext: 'Hard',\r\n\t\t\tbps: 3,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst START = 1 * MIN;\r\n\r\n\t\t\t\tif (ms < START) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeInMin / 10, 0.4, 40);\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [5, 30],\r\n\t\t}),\r\n\t\textreme: new Speed({\r\n\t\t\ttext: 'Extreme',\r\n\t\t\tbps: 4,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst START = 1 * MIN;\r\n\r\n\t\t\t\tif (ms < START) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeInMin / 10, 0.3, 30);\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [5, 10],\r\n\t\t}),\r\n\t\tstop: new Speed({\r\n\t\t\ttext: 'STOP',\r\n\t\t\tbps: 0,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeInMin / 10, 0.5, 40);\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [5, 30],\r\n\t\t\tfollowUpBlacklist: () => [settings.speed.cum]\r\n\t\t}),\r\n\t\tedge: new Speed({\r\n\t\t\ttext: 'EDGE',\r\n\t\t\tbps: 4,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst START = 3 * MIN;\r\n\r\n\t\t\t\tif (ms < START) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst timeOverInMin = (ms - START) / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeOverInMin / 10, 1, 80);\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [10, 30],\r\n\t\t\tfollowUpWhitelist: () => [settings.speed.gentle, settings.speed.stop, settings.speed.cum],\r\n\t\t}),\r\n\t\tnone: new Speed({\r\n\t\t\ttext: 'None',\r\n\t\t\tbps: 0,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst [min, max] = [20, 40]\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeInMin / 10, 0.5, max);\r\n\r\n\t\t\t\tif (chance < min) {\r\n\t\t\t\t\treturn min;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [15, 15],\r\n\t\t\tfollowUpBlacklist: () => [settings.speed.stop, settings.speed.cum],\r\n\t\t}),\r\n\t\tcum: new Speed({\r\n\t\t\ttext: 'CUM',\r\n\t\t\tbps: 0,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst START = 6 * MIN;\r\n\r\n\t\t\t\tif (ms < START) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst timeOverInMin = (ms - START) / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeOverInMin / 10, 0.2, 150);\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [5, 15],\r\n\t\t}),\r\n\t},\r\n\tactions: {\r\n\t\tstroke: new Action({\r\n\t\t\ttext: 'Stroke',\r\n\t\t\tactionText: (tool) => `Stroke dick with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.bothHands,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\trubClitoris: new Action({\r\n\t\t\ttext: 'Rub clitoris',\r\n\t\t\tactionText: (tool: string) => `Rub clitoris with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.dildo,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.vibrator,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tslapPussy: new Action({\r\n\t\t\ttext: 'Slap pussy',\r\n\t\t\tactionText: (tool: string) => `Slap pussy with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 2,\r\n\t\t}),\r\n\t\tanal: new Action({\r\n\t\t\ttext: 'Anal masturbation',\r\n\t\t\tactionText: (tool) => `Fuck ass with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t\ttools.dildo,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tfuck: new Action({\r\n\t\t\ttext: 'Fuck',\r\n\t\t\tactionText: (tool) => `Fuck ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.fleshlight,\r\n\t\t\t\ttools.doll,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tfuckPussy: new Action({\r\n\t\t\ttext: 'Fuck',\r\n\t\t\tactionText: (tool) => `Fuck yourself with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.dildo,\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tsuck: new Action({\r\n\t\t\ttext: 'Suck',\r\n\t\t\tactionText: (tool) => `Suck ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t\ttools.dildo,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 4,\r\n\t\t\tcanOrgasm: false,\r\n\t\t}),\r\n\t\tdeepTroat: new Action({\r\n\t\t\ttext: 'Deep throat',\r\n\t\t\tactionText: (tool) => `Deep throat ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.dildo,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 1,\r\n\t\t}),\r\n\t\tanalInsert: new Action({\r\n\t\t\ttext: 'Anal insert',\r\n\t\t\tactionText: (tool) => `Insert ${tool} in ass`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.buttPlug,\r\n\t\t\t\ttools.analBeeds,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 100,\r\n\t\t\tsingleAction: true,\r\n\t\t}),\r\n\t},\r\n\tendings: {\r\n\t\tdenyOrgasm: new Ending({\r\n\t\t\ttext: 'Deny orgasm',\r\n\t\t\tactionText: () => 'Deny your orgasm, do not cum.',\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 1,\r\n\t\t\tcanPostOrgasm: false,\r\n\t\t}),\r\n\t\truinedOrgasm: new Ending({\r\n\t\t\ttext: 'Ruin orgasm',\r\n\t\t\tactionText: () => 'Ruin your orgasm',\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 1,\r\n\t\t}),\r\n\t\tstroke: new Ending({\r\n\t\t\ttext: 'Stroke',\r\n\t\t\tactionText: (tool) => `Orgasm by stroking your dick with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.bothHands,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\trubClitoris: new Ending({\r\n\t\t\ttext: 'Rub clitoris',\r\n\t\t\tactionText: (tool: string) => `Orgasm by rubbing your clitoris with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.dildo,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.vibrator,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tslapPussy: new Ending({\r\n\t\t\ttext: 'Slap pussy',\r\n\t\t\tactionText: (tool: string) => `Orgasm by slapping your pussy with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 2,\r\n\t\t}),\r\n\t\tanal: new Ending({\r\n\t\t\ttext: 'Anal masturbation',\r\n\t\t\tactionText: (tool) => `Orgasm by fucking your ass with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t\ttools.dildo,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tfuck: new Ending({\r\n\t\t\ttext: 'Fuck',\r\n\t\t\tactionText: (tool) => `Orgasm by fucking ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.fleshlight,\r\n\t\t\t\ttools.doll,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tfuckPussy: new Ending({\r\n\t\t\ttext: 'Fuck',\r\n\t\t\tactionText: (tool) => `Orgasm by fucking your pussy with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.dildo,\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t},\r\n\tpostOrgasms: {\r\n\t\tcei: new PostOrgasm({\r\n\t\t\ttext: 'Cum eating instruction',\r\n\t\t\tactionText: () => 'Cum eating instruction',\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 1,\r\n\t\t}),\r\n\t\tsecondRound: new PostOrgasm({\r\n\t\t\ttext: 'Second round',\r\n\t\t\tactionText: () => 'Second round',\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 1,\r\n\t\t}),\r\n\t}\r\n};\r\n\r\nexport default settings;\r\n","const env = {\r\n\tdebug: true,\r\n\tshowHidden: false,\r\n};\r\n\r\nexport default env;\r\n","export const getKeyFromObject = (object: any, value: any): string | null => {\r\n\tfor (const [key, propertyValue] of Object.entries(object)) {\r\n\t\tif (propertyValue !== value) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\treturn key;\r\n\t}\r\n\r\n\treturn null;\r\n}\r\n","import React from 'react';\r\nimport OptionContainer from './OptionContainer/OptionContainer';\r\nimport OptionTitle from './OptionTitle/OptionTitle';\r\nimport Input from 'advanced-react-input';\r\nimport gameSettings from '../../settings/game';\r\nimport env from '../../settings/env';\r\nimport genders from '../../settings/genders';\r\nimport tools from '../../settings/tools';\r\nimport Gender from '../../entity/Gender';\r\nimport Tool from '../../entity/Tool';\r\nimport Action from '../../entity/Action';\r\nimport Ending from '../../entity/Ending';\r\nimport PostOrgasm from '../../entity/PostOrgasm';\r\nimport { getKeyFromObject } from '../../utils/utils';\r\nimport { AppState } from '../../App';\r\n\r\nexport interface PreferencesProps extends AppState {\r\n\tsetGender: (option: string) => void,\r\n\tsetTools: (options: string[]) => void,\r\n\tsetActions: (options: string[]) => void,\r\n\tsetEndings: (options: string[]) => void,\r\n\tsetPostOrgasms: (options: string[]) => void,\r\n}\r\n\r\nclass Preferences extends React.Component<PreferencesProps> {\r\n\tprotected get hasGender(): boolean {\r\n\t\treturn !!this.props.gender;\r\n\t}\r\n\r\n\tprotected get hasTools(): boolean {\r\n\t\treturn this.props.tools.length > 0;\r\n\t}\r\n\r\n\tprotected get hasActions(): boolean {\r\n\t\treturn this.props.actions.length > 0;\r\n\t}\r\n\r\n\tprotected get hasEndings(): boolean {\r\n\t\treturn this.props.endings.length > 0;\r\n\t}\r\n\r\n\tprotected get canPostOrgasm(): boolean {\r\n\t\treturn this.endings.filter((ending) => ending.canPostOrgasm).length > 0;\r\n\t}\r\n\r\n\tprotected get genderOptions() {\r\n\t\treturn Object.entries(genders).map(([key, gender]) => ({ label: gender.text, value: key }));\r\n\t}\r\n\r\n\tprotected get toolOptions() {\r\n\t\treturn Object.entries(tools)\r\n\t\t\t.filter(([, tool]) => tool.genders.includes(this.gender))\r\n\t\t\t.map(([key, tool]) => ({ label: tool.text, value: key }));\r\n\t}\r\n\r\n\tprotected get actionOptions() {\r\n\t\treturn Object.entries(gameSettings.actions)\r\n\t\t\t.filter(([, action]) => action.genders.includes(this.gender))\r\n\t\t\t.filter(([, action]) => {\r\n\t\t\t\tif (!action.tools) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn action.tools.some(tool => this.tools.includes(tool));\r\n\t\t\t})\r\n\t\t\t.map(([key, action]) => ({ label: action.text, value: key }));\r\n\t}\r\n\r\n\tprotected get endingOptions() {\r\n\t\treturn Object.entries(gameSettings.endings)\r\n\t\t\t.filter(([, ending]) => ending.genders.includes(this.gender))\r\n\t\t\t.filter(([, ending]) => {\r\n\t\t\t\tif (!ending.tools) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn ending.tools.some(tool => this.tools.includes(tool));\r\n\t\t\t})\r\n\t\t\t.map(([key, ending]) => ({ label: ending.text, value: key }));\r\n\t}\r\n\r\n\tprotected get postOrgasmOptions() {\r\n\t\treturn Object.entries(gameSettings.postOrgasms)\r\n\t\t\t.filter(([, postOrgasm]) => postOrgasm.genders.includes(this.gender))\r\n\t\t\t.map(([key, postOrgasm]) => ({ label: postOrgasm.text, value: key }));\r\n\t}\r\n\r\n\tprotected get gender(): Gender {\r\n\t\treturn genders[this.props.gender];\r\n\t}\r\n\r\n\tprotected get tools(): Tool[] {\r\n\t\treturn this.props.tools\r\n\t\t\t.map(option => tools[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get actions(): Action[] {\r\n\t\treturn this.props.actions\r\n\t\t\t.map(option => gameSettings.actions[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get endings(): Ending[] {\r\n\t\treturn this.props.endings\r\n\t\t\t.map(option => gameSettings.endings[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get postOrgasms(): PostOrgasm[] {\r\n\t\treturn this.props.postOrgasms\r\n\t\t\t.map(option => gameSettings.postOrgasms[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected getValue = (list: any, data: unknown | unknown[]): string | string[] | undefined  => {\r\n\t\tif (Array.isArray(data)) {\r\n\t\t\treturn data\r\n\t\t\t\t.map(value => getKeyFromObject(list, value))\r\n\t\t\t\t.filter(value => value !== null) as string[];\r\n\t\t}\r\n\r\n\t\treturn getKeyFromObject(list, data) || undefined;\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<OptionContainer>\r\n\t\t\t\t\t<OptionTitle>What is your gender ? (This will affect what options are available to you)</OptionTitle>\r\n\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\ttype={'radio'}\r\n\t\t\t\t\t\toptions={this.genderOptions}\r\n\t\t\t\t\t\tdefaultValue={this.props.gender}\r\n\t\t\t\t\t\tonChange={this.props.setGender}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</OptionContainer>\r\n\r\n\t\t\t\t{this.hasGender && (\r\n\t\t\t\t\t<OptionContainer>\r\n\t\t\t\t\t\t<OptionTitle>Choose body parts/toys you would like to use</OptionTitle>\r\n\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype={'checkbox'}\r\n\t\t\t\t\t\t\toptions={this.toolOptions}\r\n\t\t\t\t\t\t\tdefaultValue={this.props.tools}\r\n\t\t\t\t\t\t\tonChange={this.props.setTools}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</OptionContainer>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{this.hasGender && this.hasTools && (\r\n\t\t\t\t\t<OptionContainer>\r\n\t\t\t\t\t\t<OptionTitle>Choose what you would like to do to yourself/toys</OptionTitle>\r\n\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype={'checkbox'}\r\n\t\t\t\t\t\t\toptions={this.actionOptions}\r\n\t\t\t\t\t\t\tdefaultValue={this.props.actions}\r\n\t\t\t\t\t\t\tonChange={this.props.setActions}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</OptionContainer>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{this.hasGender && this.hasTools && this.hasActions && (\r\n\t\t\t\t\t<OptionContainer>\r\n\t\t\t\t\t\t<OptionTitle>Choose how you would like this game to end</OptionTitle>\r\n\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype={'checkbox'}\r\n\t\t\t\t\t\t\toptions={this.endingOptions}\r\n\t\t\t\t\t\t\tdefaultValue={this.props.endings}\r\n\t\t\t\t\t\t\tonChange={this.props.setEndings}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</OptionContainer>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{env.showHidden && this.hasGender && this.hasTools && this.hasActions && this.hasEndings && this.canPostOrgasm && (\r\n\t\t\t\t\t<OptionContainer>\r\n\t\t\t\t\t\t<OptionTitle>Need a bit of challenge ? Choose what you would like to do post orgasm</OptionTitle>\r\n\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype={'checkbox'}\r\n\t\t\t\t\t\t\toptions={this.postOrgasmOptions}\r\n\t\t\t\t\t\t\tdefaultValue={this.props.postOrgasms}\r\n\t\t\t\t\t\t\tonChange={this.props.setPostOrgasms}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</OptionContainer>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Preferences;\r\n","export type timeObject = { h: number, m: number, s: number };\r\n\r\nclass Time {\r\n\r\n\tpublic static secondsToTime(secs: number): timeObject {\r\n\t\tsecs = Math.round(secs);\r\n\r\n\t\tconst hours = Math.floor(secs / (60 * 60));\r\n\t\tconst divisorForMinutes = secs % (60 * 60);\r\n\t\tconst minutes = Math.floor(divisorForMinutes / 60);\r\n\t\tconst divisorForSeconds = divisorForMinutes % 60;\r\n\t\tconst seconds = Math.ceil(divisorForSeconds);\r\n\r\n\t\treturn {\r\n\t\t\th: hours,\r\n\t\t\tm: minutes,\r\n\t\t\ts: seconds\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static hmsToClock(timeObject: timeObject, format?: { m?: boolean, s?: boolean }): string {\r\n\t\tformat = {\r\n\t\t\tm: true,\r\n\t\t\ts: true,\r\n\t\t\t...format,\r\n\t\t};\r\n\r\n\t\tconst sec = (timeObject.s < 10 && format.s) ? `0${timeObject.s}` : timeObject.s;\r\n\t\tconst min = (timeObject.m < 10 && format.m) ? `0${timeObject.m}` : timeObject.m;\r\n\r\n\t\tif (timeObject.h === 0) {\r\n\t\t\treturn `${min}:${sec}`;\r\n\t\t}\r\n\r\n\t\treturn `${timeObject.h}:${min}:${sec}`;\r\n\t}\r\n\r\n}\r\n\r\nexport default Time;\r\n","import React from 'react';\r\nimport Time from '../../utils/Time';\r\nimport Speed from '../../entity/Speed';\r\nimport gameSettings from '../../settings/game';\r\nimport { gameAction } from '../../utils/types';\r\n\r\nexport interface GameOverlayProps {\r\n\tclassName?: string,\r\n\tisVisible: boolean,\r\n\tisEnding: boolean,\r\n\tanimationSpeed: string,\r\n\ttotalTime: number,\r\n\tcurrentSpeed: Speed,\r\n\tnextSpeed: Speed,\r\n\tcurrentAction: gameAction,\r\n\tnextAction: gameAction,\r\n\tremainingTime: number,\r\n}\r\n\r\nconst timeDisplayFormat = (time: number) => {\r\n\tconst timeObject = Time.secondsToTime(time);\r\n\r\n\treturn Time.hmsToClock(timeObject, { m: false });\r\n}\r\n\r\nconst getRemainingTime = (time: number): number => {\r\n\treturn Math.ceil(time);\r\n}\r\n\r\nconst getCurrentSpeedBoxColor = (currentSpeed: Speed) => {\r\n\tswitch (currentSpeed) {\r\n\t\tcase gameSettings.speed.edge:\r\n\t\tcase gameSettings.speed.extreme:\r\n\t\t\treturn 'bg-red-600';\r\n\r\n\t\tcase gameSettings.speed.hard:\r\n\t\t\treturn 'bg-yellow-500';\r\n\r\n\t\tcase gameSettings.speed.medium:\r\n\t\t\treturn 'bg-green-500';\r\n\r\n\t\tcase gameSettings.speed.slow:\r\n\t\t\treturn 'bg-blue-500';\r\n\r\n\t\tcase gameSettings.speed.gentle:\r\n\t\t\treturn 'bg-purple-500';\r\n\r\n\t\tdefault:\r\n\t\t\treturn 'bg-black';\r\n\t}\r\n}\r\n\r\nconst getNextSpeedTextColor = (nextSpeed: Speed) => {\r\n\tswitch (nextSpeed) {\r\n\t\tcase gameSettings.speed.edge:\r\n\t\tcase gameSettings.speed.extreme:\r\n\t\t\treturn 'text-red-600';\r\n\r\n\t\tcase gameSettings.speed.hard:\r\n\t\t\treturn 'text-yellow-500';\r\n\r\n\t\tcase gameSettings.speed.medium:\r\n\t\t\treturn 'text-green-500';\r\n\r\n\t\tcase gameSettings.speed.slow:\r\n\t\t\treturn 'text-blue-500';\r\n\r\n\t\tcase gameSettings.speed.gentle:\r\n\t\t\treturn 'text-purple-500';\r\n\r\n\t\tdefault:\r\n\t\t\treturn 'text-white';\r\n\t}\r\n}\r\n\r\nconst GameOverlay: React.FC<GameOverlayProps> = ({\r\n\tclassName,\r\n\tisVisible,\r\n\tisEnding,\r\n\tanimationSpeed,\r\n\ttotalTime,\r\n\tcurrentSpeed,\r\n\tnextSpeed,\r\n\tcurrentAction,\r\n\tnextAction,\r\n\tremainingTime,\r\n}) => {\r\n\tconst currentSpeedBoxColor = getCurrentSpeedBoxColor(currentSpeed);\r\n\tconst nextSpeedTextColor = getNextSpeedTextColor(nextSpeed);\r\n\tremainingTime = getRemainingTime(remainingTime);\r\n\r\n\tconst totalTimeBox = (\r\n\t\t<div className={'absolute p-2 md:p-3 top-0 left-0 bg-black bg-opacity-70'}>\r\n\t\t\t<div className={'text-sm md:text-md bold'}>{timeDisplayFormat(totalTime)}</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst actionBox = currentAction && (\r\n\t\t<div className={'absolute p-2 md:p-3 bottom-0 left-0 bg-black bg-opacity-70'}>\r\n\t\t\t{!isEnding && nextAction && nextSpeed && (\r\n\t\t\t\t<div className={'text-xs bold'}>\r\n\t\t\t\t\t{nextSpeed !== gameSettings.speed.stop && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<span className={'hidden md:inline'}>Up next: </span>\r\n\t\t\t\t\t\t\t<span>{nextAction.text}</span>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{nextSpeed !== gameSettings.speed.none && (\r\n\t\t\t\t\t\t<span className={nextSpeedTextColor}> {`(${nextSpeed.text})`}</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className={'text-md md:text-2xl bold'}>{currentAction.text}</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst speedBox = (\r\n\t\t<div className={[\r\n\t\t\t'absolute bottom-0 right-0 bg-opacity-70 overflow-hidden',\r\n\t\t\t'w-14 h-14',\r\n\t\t\t'md:w-24 md:h-24',\r\n\t\t\tcurrentSpeedBoxColor,\r\n\t\t].join(' ')}>\r\n\t\t\t<div className={'relative flex flex-col justify-center items-center w-full h-full'}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={'absolute w-full h-full bg-gray-100 bg-opacity-30 animate-bounce'}\r\n\t\t\t\t\tstyle={{ animationDuration: animationSpeed }}\r\n\t\t\t\t/>\r\n\t\t\t\t{currentSpeed !== gameSettings.speed.none && (\r\n\t\t\t\t\t<div className={'z-10 text-xs md:text-lg'}>{currentSpeed.text}</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className={'z-10 text-md md:text-2xl bold'}>{remainingTime}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className={[\r\n\t\t\t'gameOverlay',\r\n\t\t\t'transition absolute w-full h-full pointer-events-none text-white',\r\n\t\t\t!isVisible ? 'opacity-0 visibility-none' : '',\r\n\t\t].join(' ')}>\r\n\t\t\t<div className={'w-full h-full p-2 md:p-3'}>\r\n\t\t\t\t<div className={'relative w-full h-full'}>\r\n\r\n\t\t\t\t\t{totalTimeBox}\r\n\r\n\t\t\t\t\t{actionBox}\r\n\r\n\t\t\t\t\t{speedBox}\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default GameOverlay;\r\n","import React, { useState, useRef } from 'react';\r\n\r\nexport interface GameContentProps {\r\n\tbackground: React.ReactChild,\r\n}\r\n\r\nconst heightToWidthRatio = (9/16) * 100;\r\n\r\nconst GameContent: React.FC<GameContentProps> = (props) => {\r\n\tconst node = useRef(null);\r\n\tconst [isFullScreen, setFullScreen] = useState(false);\r\n\r\n\tconst toggleFullScreen = () => {\r\n\t\tconst willBeFullScreen = !isFullScreen;\r\n\t\tconst bodyClass = 'overflow-hidden';\r\n\r\n\t\tif (willBeFullScreen) {\r\n\t\t\tdocument.body.classList.add(bodyClass);\r\n\t\t} else {\r\n\t\t\tdocument.body.classList.remove(bodyClass);\r\n\t\t}\r\n\r\n\t\tsetFullScreen(willBeFullScreen);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={[\r\n\t\t\t'gameContent',\r\n\t\t\t'bg-black flex justify-center items-center',\r\n\t\t\tisFullScreen ? 'fixed top-0 right-0 bottom-0 left-0' : '',\r\n\t\t].join(' ')}>\r\n\t\t\t<div\r\n\t\t\t\tref={node}\r\n\t\t\t\tclassName={[\r\n\t\t\t\t\t'relative bg-black w-full',\r\n\t\t\t\t\t!isFullScreen ? 'h-0' : 'h-screen',\r\n\t\t\t\t].join(' ')}\r\n\t\t\t\tstyle={(\r\n\t\t\t\t\t!isFullScreen\r\n\t\t\t\t\t\t? { paddingBottom: `${heightToWidthRatio}%` }\r\n\t\t\t\t\t\t: { }\r\n\t\t\t\t)}\r\n\t\t\t>\r\n\r\n\t\t\t\t<div className={'absolute w-full h-full'}>\r\n\t\t\t\t\t{props.background}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={[\r\n\t\t\t\t\t\t'top-0 right-0 p-2 text-white bg-black bg-opacity-3',\r\n\t\t\t\t\t\tisFullScreen ? 'fixed' : 'absolute',\r\n\t\t\t\t\t].join(' ')}\r\n\t\t\t\t\tonClick={toggleFullScreen}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span>FullScreen</span>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t{props.children}\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default GameContent;\r\n","import React from 'react';\r\n\r\nexport interface ButtonProps {\r\n\tonClick: () => void,\r\n}\r\n\r\nconst Button: React.FC<ButtonProps> = ({ children, onClick }) => (\r\n\t<button\r\n\t\tclassName={[\r\n\t\t\t'transition px-3 border border-gray-700 rounded',\r\n\t\t\t'hover:bg-gray-700 hover:text-white',\r\n\t\t].join(' ')}\r\n\t\tonClick={() => onClick()}\r\n\t>\r\n\t\t{children}\r\n\t</button>\r\n);\r\n\r\nexport default Button;\r\n","import Seedrandom from 'seedrandom';\r\nimport uniqid from 'uniqid';\r\n\r\nconst setSeed = (seed: string) => {\r\n\tconst urlParams = new URLSearchParams(window.location.search);\r\n\r\n\turlParams.set('seed', seed);\r\n\r\n\tconst url = `?${urlParams.toString()}`;\r\n\r\n\twindow.history.replaceState(null, 'preference', url);\r\n}\r\n\r\nconst getInitialSeed = () => {\r\n\tconst urlParams = new URLSearchParams(window.location.search);\r\n\r\n\tconst seedParam = urlParams.get('seed');\r\n\r\n\tif (seedParam === null) {\r\n\t\tconst seed = uniqid();\r\n\r\n\t\tsetSeed(seed);\r\n\r\n\t\treturn seed;\r\n\t}\r\n\r\n\treturn seedParam;\r\n}\r\n\r\nclass Randomizer {\r\n\r\n\tprotected static _seed: string = getInitialSeed();\r\n\r\n\tprotected static _random: CallableFunction;\r\n\r\n\tpublic static get random(): any {\r\n\t\tif (!this._random) {\r\n\t\t\tthis.resetRandom();\r\n\t\t}\r\n\r\n\t\treturn this._random;\r\n\t}\r\n\r\n\tpublic static get seed(): string {\r\n\t\treturn this._seed;\r\n\t}\r\n\r\n\tpublic static set seed(seed: string) {\r\n\t\tif (seed === this._seed) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!seed) {\r\n\t\t\tseed = uniqid();\r\n\t\t}\r\n\r\n\t\tthis._seed = seed;\r\n\r\n\t\tsetSeed(this._seed);\r\n\t}\r\n\r\n\tpublic static resetRandom(): void {\r\n\t\tthis._random = Seedrandom(this.seed);\r\n\t}\r\n\r\n\tpublic static int(max: number, min: number = 0): number {\r\n\t\treturn Math.floor(this.random() * (max - min) + min);\r\n\t}\r\n\r\n\tpublic static pickOne<T = string>(items: T[]): T {\r\n\t\tconst pickedIndex = this.int(items.length);\r\n\r\n\t\treturn items[pickedIndex];\r\n\t}\r\n\r\n\tpublic static pickOneWithChance<T = string>(items: Array<[T, number]>): T {\r\n\t\tconst fullList = items.reduce<T[]>((acc, [item, count]) => {\r\n\t\t\tfor (let i = 0; i < count; i++) {\r\n\t\t\t\tacc.push(item);\r\n\t\t\t}\r\n\r\n\t\t\treturn acc;\r\n\t\t}, []);\r\n\r\n\t\treturn this.pickOne(fullList);\r\n\t}\r\n\r\n\tpublic static getChanceStatistics<T = { text: string }>(items: Array<[T, number]>) {\r\n\t\tconst fullList = items.reduce<T[]>((acc, [item, count]) => {\r\n\t\t\tfor (let i = 0; i < count; i++) {\r\n\t\t\t\tacc.push(item);\r\n\t\t\t}\r\n\r\n\t\t\treturn acc;\r\n\t\t}, []);\r\n\r\n\t\treturn items.reduce<any>((acc, [item]) => {\r\n\t\t\tacc[(item as any).text] = fullList.filter(entry => entry === item).length / fullList.length;\r\n\r\n\t\t\treturn acc;\r\n\t\t}, {});\r\n\t}\r\n\r\n}\r\n\r\nexport default Randomizer;\r\n","import React from 'react';\r\n\r\nexport interface PornEmbedProps {\r\n\tclassName?: string,\r\n\ttouchable: boolean,\r\n\tonMount?: CallableFunction,\r\n}\r\n\r\nexport interface PornEmbedState {\r\n\tsource?: string,\r\n}\r\n\r\nclass PornEmbed extends React.Component<PornEmbedProps, PornEmbedState> {\r\n\r\n\tstatic defaultProps = {\r\n\t\ttouchable: true,\r\n\t}\r\n\r\n\tpublic state: PornEmbedState = {\r\n\t\tsource: undefined,\r\n\t}\r\n\r\n\tpublic componentDidMount() {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.props.onMount?.();\r\n\t\t}, 0);\r\n\t}\r\n\r\n\tprotected pornhubUrl = (videoId: string) => {\r\n\t\treturn `https://www.pornhub.com/embed/${videoId}`;\r\n\t}\r\n\r\n\tprotected xvideosUrl = (videoId: string) => {\r\n\t\treturn `https://www.xvideos.com/embedframe/${videoId}`;\r\n\t}\r\n\r\n\tpublic setSource = (src: string): void => {\r\n\t\tlet source;\r\n\r\n\t\tif (src.includes('pornhub.com')) {\r\n\t\t\tconst urlParam = src.match(/viewkey=ph[a-zA-Z0-9]*/)?.[0];\r\n\r\n\t\t\tif (!urlParam) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst videoId = urlParam.replace('viewkey=', '');\r\n\r\n\t\t\tsource = this.pornhubUrl(videoId);\r\n\t\t} else if (/^(ph|pornhub):[a-zA-Z0-9]*/.test(src)) {\r\n\t\t\tconst videoId = src.replace(/^(ph|pornhub):/, '');\r\n\r\n\t\t\tsource = this.pornhubUrl(videoId);\r\n\t\t} else if (src.includes('xvideos.com')) {\r\n\t\t\tconst urlParam = src.match(/\\/video[0-9]*\\//)?.[0];\r\n\r\n\t\t\tif (!urlParam) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst videoId = urlParam.replace('video', '').replace(/\\//g, '');\r\n\r\n\t\t\tsource = this.xvideosUrl(videoId);\r\n\t\t} else if (/^(xvid|xvideos):[a-zA-Z0-9]*/.test(src)) {\r\n\t\t\tconst videoId = src.replace(/^(xvid|xvideos):/, '');\r\n\r\n\t\t\tsource = this.xvideosUrl(videoId);\r\n\t\t}\r\n\r\n\t\tthis.setState({ source });\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tif (!this.state.source) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<iframe\r\n\t\t\t\tclassName={[\r\n\t\t\t\t\t'pornEmbed',\r\n\t\t\t\t\tthis.props.className,\r\n\t\t\t\t\t!this.props.touchable ? 'pointer-events-none' : 'pointer-events-auto',\r\n\t\t\t\t].join(' ')}\r\n\t\t\t\ttitle={'porn'}\r\n\t\t\t\tsrc={this.state.source}\r\n\t\t\t\tframeBorder={0}\r\n\t\t\t\tscrolling={'no'}\r\n\t\t\t\tallowFullScreen={false}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default PornEmbed;\r\n","/*\r\n\t@TODO refactor in smaller pieces\r\n\t@TODO add content switcher: PornEmbed, FileImportCarousel, Chat / VideoChat\r\n*/\r\n\r\nimport React from 'react';\r\nimport Input from 'advanced-react-input';\r\nimport GameOverlay from '../GameOverlay/GameOverlay';\r\nimport GameContent from '../GameContent/GameContent';\r\nimport Button from '../Button/Button';\r\nimport gameSettings from '../../settings/game';\r\nimport tools from '../../settings/tools';\r\nimport env from '../../settings/env';\r\nimport Tool from '../../entity/Tool';\r\nimport Action from '../../entity/Action';\r\nimport Ending from '../../entity/Ending';\r\nimport PostOrgasm from '../../entity/PostOrgasm';\r\nimport Speed from '../../entity/Speed';\r\nimport Randomizer from '../../utils/Randomizer';\r\nimport { gameAction, gameEnding, gamePostOrgasm } from '../../utils/types';\r\n// import Webcam from '../Webcam/Webcam';\r\nimport PornEmbed from '../PornEmbed/PornEmbed';\r\nimport SuperMath from '../../utils/SuperMath';\r\nimport { AppState } from '../../App';\r\n\r\nexport interface GameProps extends AppState { }\r\n\r\nexport interface GameState {\r\n\tisInGame: boolean,\r\n\tisPlaying: boolean,\r\n\tisEnding: boolean,\r\n\tisOverlayShown: boolean,\r\n\tisEmbedTouchable: boolean,\r\n\tcurrentSpeed: Speed,\r\n\tcurrentAction?: gameAction,\r\n\tpostOrgasm?: any, // @TODO\r\n\tnextSpeed?: Speed,\r\n\tnextAction?: gameAction,\r\n\tremainingTime: number,\r\n\ttotalTime: number,\r\n\tpastTotalTime: number,\r\n\tembedSource?: string,\r\n\tstats: any,\r\n\tgameSpeed: number,\r\n\tseed: string,\r\n}\r\n\r\nconst BASE_STATE: GameState = {\r\n\tisInGame: false,\r\n\tisPlaying: false,\r\n\tisEnding: false,\r\n\tisOverlayShown: true,\r\n\tisEmbedTouchable: true,\r\n\tcurrentSpeed: gameSettings.speed.gentle,\r\n\tcurrentAction: undefined,\r\n\tpostOrgasm: undefined,\r\n\tnextSpeed: undefined,\r\n\tnextAction: undefined,\r\n\tremainingTime: 0,\r\n\ttotalTime: 0,\r\n\tpastTotalTime: 0,\r\n\tembedSource: 'https://www.pornhub.com/view_video.php?viewkey=ph5c12ab26a8b82',\r\n\tstats: {},\r\n\tgameSpeed: 1,\r\n\tseed: Randomizer.seed,\r\n};\r\n\r\nclass Game extends React.Component<GameProps, GameState> {\r\n\tprotected _tickCount: number = 0;\r\n\tprotected _ticker?: any;\r\n\tprotected _pornEmbed?: any = React.createRef();\r\n\r\n\tpublic state: GameState = BASE_STATE;\r\n\r\n\tpublic componentWillUnmount() {\r\n\t\tif (this._ticker) {\r\n\t\t\tclearInterval(this._ticker);\r\n\t\t}\r\n\t}\r\n\r\n\tprotected get tools(): Tool[] {\r\n\t\treturn this.props.tools\r\n\t\t\t.map(option => tools[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get actions(): Action[] {\r\n\t\treturn this.props.actions\r\n\t\t\t.map(option => gameSettings.actions[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get endings(): Ending[] {\r\n\t\treturn this.props.endings\r\n\t\t\t.map(option => gameSettings.endings[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get postOrgasms(): PostOrgasm[] {\r\n\t\treturn this.props.postOrgasms\r\n\t\t\t.map(option => gameSettings.postOrgasms[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get uniqueActions(): gameAction[] {\r\n\t\treturn this.actions.reduce<gameAction[]>((uniqueList, action) => {\r\n\t\t\tif (action.tools) {\r\n\t\t\t\taction.tools.forEach(tool => {\r\n\t\t\t\t\tuniqueList.push({\r\n\t\t\t\t\t\ttext: action.actionText(tool.text),\r\n\t\t\t\t\t\tchance: action.chance,\r\n\t\t\t\t\t\tsingleAction: action.singleAction,\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tuniqueList.push({\r\n\t\t\t\t\ttext: action.actionText(''),\r\n\t\t\t\t\tchance: action.chance,\r\n\t\t\t\t\tsingleAction: action.singleAction,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn uniqueList;\r\n\t\t}, []);\r\n\t}\r\n\r\n\tprotected get uniqueEndings(): gameEnding[] {\r\n\t\treturn this.endings.reduce<gameEnding[]>((uniqueList, ending) => {\r\n\t\t\tif (ending.tools) {\r\n\t\t\t\tending.tools.forEach(tool => {\r\n\t\t\t\t\tuniqueList.push({\r\n\t\t\t\t\t\ttext: ending.actionText(tool.text),\r\n\t\t\t\t\t\tchance: ending.chance,\r\n\t\t\t\t\t\tcanPostOrgasm: ending.canPostOrgasm,\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tuniqueList.push({\r\n\t\t\t\t\ttext: ending.actionText(''),\r\n\t\t\t\t\tchance: ending.chance,\r\n\t\t\t\t\tcanPostOrgasm: ending.canPostOrgasm,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn uniqueList;\r\n\t\t}, []);\r\n\t}\r\n\r\n\tprotected get uniquePostOrgasm(): gamePostOrgasm[] {\r\n\t\treturn this.postOrgasms.map(postOrgasm => ({\r\n\t\t\ttext: postOrgasm.actionText(''),\r\n\t\t\tchance: postOrgasm.chance,\r\n\t\t}));\r\n\t}\r\n\r\n\tprotected get canPlay(): boolean {\r\n\t\treturn this.uniqueActions.length > 0 && this.uniqueEndings.length > 0;\r\n\t}\r\n\r\n\tprotected get gameSpeed(): number {\r\n\t\tif (!env.debug) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\treturn this.state.gameSpeed;\r\n\t}\r\n\r\n\tprotected get tickSpeed(): number {\r\n\t\tconst bps = this.state.currentSpeed.bps;\r\n\r\n\t\tif (bps === 0) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\tif (bps < 1) {\r\n\t\t\treturn bps;\r\n\t\t}\r\n\r\n\t\treturn 1 / bps;\r\n\t}\r\n\r\n\tprotected get totalTime(): number {\r\n\t\treturn Math.ceil(this.state.totalTime + this.state.pastTotalTime);\r\n\t}\r\n\r\n\tprotected get animationSpeed(): string {\r\n\t\tif (!this.state.isPlaying || this.state.currentSpeed.bps === 0) {\r\n\t\t\treturn '0ms';\r\n\t\t}\r\n\t\treturn `${(1000 / this.gameSpeed) / this.state.currentSpeed.bps}ms`;\r\n\t}\r\n\r\n\tprotected play = () => {\r\n\t\tif (!this.state.isInGame) {\r\n\t\t\tthis.setState(this.pickAction(this.state));\r\n\t\t}\r\n\r\n\t\tif (!this._ticker) {\r\n\t\t\tthis.tick();\r\n\t\t}\r\n\r\n\t\tthis.setState({ isInGame: true, isPlaying: true });\r\n\t}\r\n\r\n\tprotected pause = () => {\r\n\t\tif (this._ticker){\r\n\t\t\tthis.stopTick();\r\n\t\t}\r\n\r\n\t\tthis.setState({ isPlaying: false });\r\n\t}\r\n\r\n\tprotected stop = () => {\r\n\t\tif (this._ticker){\r\n\t\t\tthis.stopTick();\r\n\t\t}\r\n\r\n\t\tRandomizer.resetRandom();\r\n\r\n\t\tthis.setState({\r\n\t\t\t...BASE_STATE,\r\n\t\t\tembedSource: this.state.embedSource,\r\n\t\t});\r\n\t}\r\n\r\n\tprotected toggleOverlay = () => {\r\n\t\tthis.setState(prevState => ({ isOverlayShown: !prevState.isOverlayShown }));\r\n\t}\r\n\r\n\tprotected toggleEmbedTouch = () => {\r\n\t\tconsole.log(this.state.isEmbedTouchable)\r\n\t\tthis.setState(prevState => ({ isEmbedTouchable: !prevState.isEmbedTouchable }));\r\n\t}\r\n\r\n\tprotected getTime = (seconds: number): number => {\r\n\t\treturn seconds * 1000; // Converts in milliseconds\r\n\t}\r\n\r\n\tprotected setSeed = () => {\r\n\t\tRandomizer.seed = this.state.seed;\r\n\r\n\t\tthis.setState({ seed: Randomizer.seed });\r\n\t}\r\n\r\n\tprotected pickAction = (state: GameState): any => {\r\n\t\ttype speedFilter = { whitelist?: Speed[], blacklist?: Speed[] };\r\n\r\n\t\tconst getSpeedsList = (filter: speedFilter = {}): Speed[] => {\r\n\t\t\tif (filter.whitelist?.length) {\r\n\t\t\t\treturn filter.whitelist;\r\n\t\t\t}\r\n\r\n\t\t\tif (filter.blacklist?.length) {\r\n\t\t\t\treturn Object.values(gameSettings.speed)\r\n\t\t\t\t\t.filter(speed => !filter.blacklist?.includes(speed));\r\n\t\t\t}\r\n\r\n\t\t\treturn Object.values(gameSettings.speed);\r\n\t\t};\r\n\r\n\t\tconst getActionsList = (speed: Speed): gameAction[] => {\r\n\t\t\tif (speed === gameSettings.speed.cum) {\r\n\t\t\t\treturn this.uniqueEndings as any;\r\n\t\t\t}\r\n\r\n\t\t\treturn this.uniqueActions.filter(action => {\r\n\t\t\t\treturn speed === gameSettings.speed.none\r\n\t\t\t\t\t? action.singleAction\r\n\t\t\t\t\t: !action.singleAction;\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst pickSpeed = (filter: speedFilter = {}): Speed => Randomizer.pickOneWithChance(\r\n\t\t\tgetSpeedsList(filter).map(speed => [\r\n\t\t\t\tspeed,\r\n\t\t\t\tspeed.chance(this.getTime(state.totalTime))\r\n\t\t\t]),\r\n\t\t);\r\n\r\n\t\tconst pickAction = (speed: Speed) => Randomizer.pickOneWithChance(\r\n\t\t\tgetActionsList(speed).map(action => [\r\n\t\t\t\taction,\r\n\t\t\t\taction.chance(this.getTime(state.totalTime)),\r\n\t\t\t]),\r\n\t\t);\r\n\r\n\t\tconst pickPostOrgasm = () => Randomizer.pickOneWithChance(\r\n\t\t\tthis.postOrgasms.map(action => [\r\n\t\t\t\taction,\r\n\t\t\t\taction.chance(this.getTime(state.totalTime)),\r\n\t\t\t]),\r\n\t\t);\r\n\r\n\t\tlet currentSpeed, currentAction, nextSpeed, nextAction;\r\n\t\tlet stats = {};\r\n\r\n\t\tcurrentSpeed = state.nextSpeed ? state.nextSpeed : BASE_STATE.currentSpeed;\r\n\r\n\t\tcurrentAction = state.nextAction\r\n\t\t\t? state.nextAction\r\n\t\t\t: pickAction(currentSpeed);\r\n\r\n\t\tnextSpeed = pickSpeed({\r\n\t\t\twhitelist: currentSpeed.followUpWhitelist,\r\n\t\t\tblacklist: currentSpeed.followUpBlacklist || [currentSpeed]\r\n\t\t});\r\n\r\n\t\tstats = Randomizer.getChanceStatistics(\r\n\t\t\tgetSpeedsList({\r\n\t\t\t\twhitelist: currentSpeed.followUpWhitelist,\r\n\t\t\t\tblacklist: currentSpeed.followUpBlacklist || [currentSpeed]\r\n\t\t\t}).map(speed => [\r\n\t\t\t\tspeed,\r\n\t\t\t\tspeed.chance(this.getTime(state.totalTime))\r\n\t\t\t]),\r\n\t\t);\r\n\r\n\t\tnextAction = pickAction(nextSpeed);\r\n\r\n\t\tif (!nextAction) {\r\n\t\t\tnextSpeed = pickSpeed({\r\n\t\t\t\twhitelist: currentSpeed.followUpWhitelist,\r\n\t\t\t\tblacklist: [...(currentSpeed.followUpBlacklist || [currentSpeed]), gameSettings.speed.none]\r\n\t\t\t});\r\n\r\n\t\t\tstats = Randomizer.getChanceStatistics(\r\n\t\t\t\tgetSpeedsList({\r\n\t\t\t\t\twhitelist: currentSpeed.followUpWhitelist,\r\n\t\t\t\t\tblacklist: [...(currentSpeed.followUpBlacklist || [currentSpeed]), gameSettings.speed.none]\r\n\t\t\t\t}).map(speed => [\r\n\t\t\t\t\tspeed,\r\n\t\t\t\t\tspeed.chance(this.getTime(state.totalTime))\r\n\t\t\t\t]),\r\n\t\t\t);\r\n\r\n\t\t\tnextAction = pickAction(nextSpeed);\r\n\t\t}\r\n\r\n\t\tif (currentAction === nextAction && currentSpeed === nextSpeed) { // Reroll\r\n\t\t\treturn this.pickAction(state);\r\n\t\t}\r\n\r\n\t\tconst [minDuration, maxDuration] = currentSpeed.duration(state.totalTime);\r\n\r\n\t\tconst remainingTime = Randomizer.int(maxDuration, minDuration);\r\n\r\n\t\tconst isEnding = currentSpeed === gameSettings.speed.cum;\r\n\t\tconst shouldPostOrgasm = isEnding && true;\r\n\r\n\t\tconst postOrgasm = shouldPostOrgasm ? pickPostOrgasm() : null;\r\n\r\n\t\treturn {\r\n\t\t\tcurrentAction,\r\n\t\t\tcurrentSpeed,\r\n\t\t\tnextAction,\r\n\t\t\tnextSpeed,\r\n\t\t\tremainingTime,\r\n\t\t\tisEnding,\r\n\t\t\tpostOrgasm,\r\n\t\t\tstats,\r\n\t\t};\r\n\t}\r\n\r\n\tprotected tick = (): void => {\r\n\t\tif (this.state.remainingTime - this.tickSpeed <= 0 && this.state.isEnding) {\r\n\t\t\t// @TODO postOrgasms.secondRound - Reset game but keep seed entropy + totalTime\r\n\t\t\t//\r\n\t\t\t// if (this.state.postOrgasm === gameSettings.postOrgasms.secondRound) {\r\n\t\t\t// \tthis.setState(prevState => {\r\n\t\t\t// \t\tconst actionState = this.pickAction(prevState);\r\n\t\t\t//\r\n\t\t\t// \t\treturn {\r\n\t\t\t// \t\t\tisEnding: false,\r\n\t\t\t// \t\t\ttotalTime: 0,\r\n\t\t\t// \t\t\tpastTotalTime: prevState.totalTime + 1,\r\n\t\t\t// \t\t\tcurrentAction: actionState.currentAction,\r\n\t\t\t// \t\t\tnextAction: actionState.nextAction,\r\n\t\t\t// \t\t\tcurrentSpeed: actionState.currentSpeed,\r\n\t\t\t// \t\t\tnextSpeed: actionState.nextSpeed,\r\n\t\t\t// \t\t\tremainingTime: actionState.remainingTime,\r\n\t\t\t// \t\t\tpostOrgasm: actionState.postOrgasm,\r\n\t\t\t// \t\t\tstats: actionState.stats,\r\n\t\t\t// \t\t};\r\n\t\t\t// \t});\r\n\t\t\t//\r\n\t\t\t// \treturn;\r\n\t\t\t// }\r\n\r\n\t\t\tthis.pause();\r\n\r\n\t\t\tthis.setState(prevState => ({\r\n\t\t\t\ttotalTime: prevState.totalTime + 1,\r\n\t\t\t\tremainingTime: 0,\r\n\t\t\t}));\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.setState<any>(prevState => {\r\n\t\t\tconst nextTickRemainingTime = prevState.remainingTime - this.tickSpeed;\r\n\r\n\t\t\tif (nextTickRemainingTime <= 0) {\r\n\t\t\t\tconst actionState = this.pickAction(prevState);\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tisEnding: actionState.isEnding,\r\n\t\t\t\t\tcurrentAction: actionState.currentAction,\r\n\t\t\t\t\tnextAction: actionState.nextAction,\r\n\t\t\t\t\tcurrentSpeed: actionState.currentSpeed,\r\n\t\t\t\t\tnextSpeed: actionState.nextSpeed,\r\n\t\t\t\t\tremainingTime: actionState.remainingTime,\r\n\t\t\t\t\ttotalTime: prevState.totalTime + this.tickSpeed,\r\n\t\t\t\t\tpostOrgasm: actionState.postOrgasm,\r\n\t\t\t\t\tstats: actionState.stats,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tremainingTime: nextTickRemainingTime,\r\n\t\t\t\ttotalTime: prevState.totalTime + this.tickSpeed,\r\n\t\t\t};\r\n\t\t}, () => {\r\n\t\t\tif (this.shouldBeep()) {\r\n\t\t\t\tthis.beep();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis._ticker = setTimeout(this.tick, 1000 * this.tickSpeed / this.gameSpeed);\r\n\t}\r\n\r\n\tprotected stopTick = () => {\r\n\t\tclearTimeout(this._ticker);\r\n\r\n\t\tthis._ticker = undefined;\r\n\t}\r\n\r\n\tprotected shouldBeep = (): boolean => {\r\n\t\tthis._tickCount++;\r\n\r\n\t\tif (this.tickSpeed * this._tickCount >= 1 / this.state.currentSpeed.bps) {\r\n\t\t\tthis._tickCount = 0;\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprotected beep = (): void => {\r\n\t\tconst sound = new Audio(\"data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=\");\r\n\r\n\t\tsound.play();\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tif (!this.canPlay) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst stats = env.debug ? (\r\n\t\t\t<div className={'mb-5'}>\r\n\t\t\t\t<h3 className={'text-xl bold'}>Statistic</h3>\r\n\t\t\t\t<ul className={'flex flex-wrap -m-1 py-2'}>\r\n\t\t\t\t\t{Object.values(gameSettings.speed).map((value, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li key={i} className={'w-1/6 p-1'}>\r\n\t\t\t\t\t\t\t\t<span className={'w-24'}>{`${value.text}: `}</span>\r\n\t\t\t\t\t\t\t\t<span>{`${Math.round((SuperMath.toPercent(this.state.stats[value.text]) || 0) * 100)}%`}</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t) : null;\r\n\r\n\t\tconst actionsLists = (\r\n\t\t\t<div className={'mb-5'}>\r\n\t\t\t\t<h3 className={'text-xl bold'}>Unique actions</h3>\r\n\t\t\t\t<ul className={'flex flex-wrap py-2 -m-2'}>\r\n\t\t\t\t\t{this.uniqueActions.map((action, i) => (\r\n\t\t\t\t\t\t<li key={i} className={'p-2'}>{action.text}</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\tconst endingsLists = (\r\n\t\t\t<div className={'mb-5'}>\r\n\t\t\t\t<h3 className={'text-xl bold'}>Unique endings</h3>\r\n\t\t\t\t<ul className={'flex flex-wrap py-2'}>\r\n\t\t\t\t\t{this.uniqueEndings.map((action, i) => (\r\n\t\t\t\t\t\t<li key={i}>{action.text}</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div className={'game'}>\r\n\t\t\t\t<div className={'flex -m-2 py-2'}>\r\n\t\t\t\t\t<div className={'p-2 w-3/4'}>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype={'string'}\r\n\t\t\t\t\t\t\tdefaultValue={this.state.seed}\r\n\t\t\t\t\t\t\tplaceholder={'Insert custom game seed'}\r\n\t\t\t\t\t\t\tonChange={(seed: string) => this.setState({ seed })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t<Button onClick={this.setSeed}>\r\n\t\t\t\t\t\t\t<span>Set seed</span>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={'flex -m-2 py-2'}>\r\n\t\t\t\t\t<div className={'p-2 w-3/4'}>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype={'string'}\r\n\t\t\t\t\t\t\tdefaultValue={this.state.embedSource}\r\n\t\t\t\t\t\t\tplaceholder={'Insert video link or id: ph:ph1a2b3c4d5f6g7 | xvid:01234567 | https://www.pornhub.com/view_video.php?viewkey=ph1a2b3c4d5f6g7 | https://www.xvideos.com/video01234567/abc_xyz'}\r\n\t\t\t\t\t\t\tonChange={(embedSource: string) => this.setState({ embedSource })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t<Button onClick={() => this._pornEmbed.current?.setSource(this.state.embedSource)}>\r\n\t\t\t\t\t\t\t<span>Change video</span>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={'flex flex-wrap -m-2 py-2'}>\r\n\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t<Button onClick={this.state.isPlaying ? this.pause : this.play}>\r\n\t\t\t\t\t\t\t{this.state.isPlaying ? 'Pause' : 'Play'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t<Button onClick={this.stop}>Stop</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{env.showHidden && (\r\n\t\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t\t<Button onClick={this.toggleOverlay}>\r\n\t\t\t\t\t\t\t\tToggle overlay\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{env.showHidden && (\r\n\t\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t\t<Button onClick={this.toggleEmbedTouch}>\r\n\t\t\t\t\t\t\t\tToggle embed touch\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<GameContent\r\n\t\t\t\t\tbackground={(\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{/*<Webcam className={'object-cover w-full h-full'} />*/}\r\n\t\t\t\t\t\t\t<PornEmbed\r\n\t\t\t\t\t\t\t\tref={this._pornEmbed}\r\n\t\t\t\t\t\t\t\tclassName={'object-cover w-full h-full'}\r\n\t\t\t\t\t\t\t\ttouchable={this.state.isEmbedTouchable}\r\n\t\t\t\t\t\t\t\tonMount={() => {\r\n\t\t\t\t\t\t\t\t\tthis._pornEmbed.current?.setSource(this.state.embedSource)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.state.nextSpeed && this.state.currentAction && this.state.nextAction && (\r\n\t\t\t\t\t\t<GameOverlay\r\n\t\t\t\t\t\t\tisVisible={this.state.isOverlayShown}\r\n\t\t\t\t\t\t\tisEnding={this.state.isEnding}\r\n\t\t\t\t\t\t\tanimationSpeed={this.animationSpeed}\r\n\t\t\t\t\t\t\ttotalTime={this.totalTime}\r\n\t\t\t\t\t\t\tcurrentSpeed={this.state.currentSpeed}\r\n\t\t\t\t\t\t\tnextSpeed={this.state.nextSpeed}\r\n\t\t\t\t\t\t\tcurrentAction={this.state.currentAction}\r\n\t\t\t\t\t\t\tnextAction={this.state.nextAction}\r\n\t\t\t\t\t\t\tremainingTime={this.state.remainingTime}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</GameContent>\r\n\r\n\t\t\t\t<div className={'mt-24'}>\r\n\t\t\t\t\t{stats}\r\n\r\n\t\t\t\t\t{actionsLists}\r\n\r\n\t\t\t\t\t{endingsLists}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={'mt-24'}>\r\n\t\t\t\t\t<h2 className={'text-xl bold'}>Feedback</h2>\r\n\t\t\t\t\t<div className={'bg-gray-100'}>\r\n\t\t\t\t\t\t<iframe\r\n\t\t\t\t\t\t\tclassName={'w-full h-screen'}\r\n\t\t\t\t\t\t\ttitle={'feedback-report'}\r\n\t\t\t\t\t\t\tsrc={'https://docs.google.com/forms/d/e/1FAIpQLSddzBoiVNQjP0tN4xGhVmV60OLcz_054iuJ5nKrpTp8nCWaFw/viewform?embedded=true'}\r\n\t\t\t\t\t\t\tframeBorder={0}\r\n\t\t\t\t\t\t\tmarginHeight={0}\r\n\t\t\t\t\t\t\tmarginWidth={0}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tLoading\r\n\t\t\t\t\t\t</iframe>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nexport default Game;\r\n","/*\n\t@TODO add linting in codebase\n*/\n\nimport React from 'react';\nimport Preferences from './components/Preferences/Preferences';\nimport Game from './components/Game/Game';\nimport Randomizer from './utils/Randomizer';\n\nexport interface AppState {\n\tgender: string,\n\ttools: string[],\n\tactions: string[],\n\tendings: string[],\n\tpostOrgasms: string[],\n}\n\nclass App extends React.Component<{}, AppState> {\n\n\tpublic state: AppState = {\n\t\tgender: 'male',\n\t\ttools: [],\n\t\tactions: [],\n\t\tendings: [],\n\t\tpostOrgasms: [],\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getPreferences();\n\t}\n\n\tprotected getPreferences = () => {\n\t\tconst getArrayParam = (value: string) => value.split(',').filter(value => value);\n\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\n\t\tconst gender = urlParams.get('gender');\n\n\t\tif (gender !== null) {\n\t\t\tthis.setGender(gender, false);\n\t\t}\n\n\t\tconst tools = urlParams.get('tools');\n\n\t\tif (tools !== null) {\n\t\t\tthis.setTools(getArrayParam(tools), false);\n\t\t}\n\n\t\tconst actions = urlParams.get('actions');\n\n\t\tif (actions !== null) {\n\t\t\tthis.setActions(getArrayParam(actions), false);\n\t\t}\n\n\t\tconst endings = urlParams.get('endings');\n\n\t\tif (endings !== null) {\n\t\t\tthis.setEndings(getArrayParam(endings), false);\n\t\t}\n\n\t\tconst postOrgasms = urlParams.get('postOrgasms');\n\n\t\tif (postOrgasms !== null) {\n\t\t\tthis.setPostOrgasms(getArrayParam(postOrgasms), false);\n\t\t}\n\n\t\tconst seed = urlParams.get('seed');\n\n\t\tif (seed !== null) {\n\t\t\tRandomizer.seed = seed;\n\t\t}\n\t}\n\n\tprotected setPreferences = () => {\n\t\tconst searchParams = Object.entries(this.state).reduce<any>((params, [key, value]) => {\n\t\t\tif (!value || (Array.isArray(value) && value.length === 0)) {\n\t\t\t\treturn params;\n\t\t\t}\n\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\tparams.append(key, value.join(',').replace(/(^,{1,}|,{1,}$)/g, ''));\n\t\t\t} else {\n\t\t\t\tparams.append(key, value);\n\t\t\t}\n\n\t\t\treturn params;\n\t\t}, new URLSearchParams());\n\n\t\tsearchParams.set('seed', Randomizer.seed);\n\n\t\tconst url = `?${searchParams.toString()}`;\n\n\t\twindow.history.replaceState(null, 'preference', url);\n\t}\n\n\tprotected setPreferencesIfTrue = (condition: boolean) => () => {\n\t\tif (!condition) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setPreferences();\n\t}\n\n\tprotected setGender = (option: string, setPref: boolean = true) => {\n\t\tthis.setState({\n\t\t\tgender: option\n\t\t}, this.setPreferencesIfTrue(setPref));\n\t}\n\n\tprotected setTools = (options: string[], setPref: boolean = true) => {\n\t\tthis.setState({\n\t\t\ttools: options\n\t\t}, this.setPreferencesIfTrue(setPref));\n\t}\n\n\tprotected setActions = (options: string[], setPref: boolean = true) => {\n\t\tthis.setState({\n\t\t\tactions: options\n\t\t}, this.setPreferencesIfTrue(setPref));\n\t}\n\n\tprotected setEndings = (options: string[], setPref: boolean = true) => {\n\t\tthis.setState({\n\t\t\tendings: options\n\t\t}, this.setPreferencesIfTrue(setPref));\n\t}\n\n\tprotected setPostOrgasms = (options: string[], setPref: boolean = true) => {\n\t\tthis.setState({\n\t\t\tpostOrgasms: options\n\t\t}, this.setPreferencesIfTrue(setPref));\n\t}\n\n\tpublic render() {\n\t\treturn (\n\t\t\t<div className={'bg-gray-300'}>\n\t\t\t\t<header className={'bg-gray-800 flex justify-center items-center h-64 md:h-96'}>\n\t\t\t\t\t<h1 className={'text-4xl bold text-white'}>JOI game</h1>\n\t\t\t\t</header>\n\n\t\t\t\t<div className={'-mt-10 md:-mt-24 px-2'}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t'min-h-screen bg-white mx-auto w-full rounded-t-lg shadow-xl',\n\t\t\t\t\t\t\t'p-4',\n\t\t\t\t\t\t\t'sm:p-10',\n\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\tstyle={{ maxWidth: '1200px' }}\n\t\t\t\t\t>\n\n\t\t\t\t\t\t<Preferences\n\t\t\t\t\t\t\t{...this.state}\n\t\t\t\t\t\t\tsetGender={this.setGender}\n\t\t\t\t\t\t\tsetTools={this.setTools}\n\t\t\t\t\t\t\tsetActions={this.setActions}\n\t\t\t\t\t\t\tsetEndings={this.setEndings}\n\t\t\t\t\t\t\tsetPostOrgasms={this.setPostOrgasms}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Game {...this.state} />\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport 'advanced-react-input/lib/style.css';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}