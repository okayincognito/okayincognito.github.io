{"version":3,"sources":["components/Preferences/OptionContainer/OptionContainer.tsx","components/Preferences/OptionTitle/OptionTitle.tsx","entity/Model.ts","entity/Tool.ts","entity/Gender.ts","settings/genders.ts","settings/tools.ts","entity/Action.ts","entity/PostOrgasm.ts","entity/Ending.ts","entity/Speed.ts","utils/SuperMath.ts","settings/game.ts","settings/env.ts","utils/utils.ts","components/Preferences/Preferences.tsx","utils/Time.ts","components/GameOverlay/GameOverlay.tsx","components/GameContent/GameContent.tsx","components/Button/Button.tsx","utils/Randomizer.ts","components/PornEmbed/PornEmbed.tsx","components/Game/Game.tsx","App.tsx","index.tsx"],"names":["OptionContainer","children","className","OptionTitle","Model","this","constructor","entries","entry","Object","find","value","keys","values","key","Array","isArray","map","k","filter","Tool","payload","_text","_genders","text","genders","tools","gender","tool","includes","label","Gender","settings","male","female","m2f","f2m","leftHand","rightHand","bothHands","leftHandFinger","rightHandFinger","dildo","fleshlight","doll","vibrator","buttPlug","analBeeds","Action","_actionText","_tools","_chance","_singleAction","_canOrgasm","actionText","chance","singleAction","canOrgasm","undefined","gameSettings","actions","action","some","PostOrgasm","postOrgasms","postOrgasm","Ending","_canPostOrgasm","canPostOrgasm","endings","ending","Speed","_bps","_duration","_followUpWhitelist","_followUpBlacklist","bps","duration","followUpWhitelist","followUpBlacklist","speed","SuperMath","x","a","c","b","number","i","decimal","Math","round","Number","isNaN","MIN","gentle","ms","timeInMin","linear","stop","cum","slow","medium","t","hard","exponential","ceil","extreme","edge","START","timeOverInMin","none","stroke","rubClitoris","slapPussy","anal","fuck","fuckPussy","suck","deepTroat","analInsert","denyOrgasm","ruinedOrgasm","cei","secondRound","env","debug","showHidden","getKeyFromObject","object","Preferences","getValue","list","data","props","length","getAvailableOptions","get","option","type","options","genderOptions","onChange","setGender","hasGender","toolOptions","setTools","hasTools","actionOptions","setActions","hasActions","endingOptions","setEndings","hasEndings","postOrgasmOptions","setPostOrgasms","React","Component","Time","secs","divisorForMinutes","divisorForSeconds","h","floor","m","s","timeObject","format","sec","min","timeDisplayFormat","time","secondsToTime","hmsToClock","GameOverlay","isVisible","isEnding","animationSpeed","totalTime","currentSpeed","nextSpeed","currentAction","nextAction","remainingTime","currentSpeedBoxColor","getCurrentSpeedBoxColor","nextSpeedTextColor","getNextSpeedTextColor","totalTimeBox","actionBox","speedBox","join","style","animationDuration","GameContent","node","useRef","useState","isFullScreen","setFullScreen","ref","paddingBottom","background","onClick","willBeFullScreen","bodyClass","document","body","classList","add","remove","Button","setSeed","seed","urlParams","URLSearchParams","window","location","search","set","url","toString","history","replaceState","Randomizer","_random","resetRandom","_seed","uniqid","Seedrandom","max","random","items","int","fullList","reduce","acc","item","count","push","pickOne","seedParam","getInitialSeed","PornEmbed","state","source","pornhubUrl","videoId","xvideosUrl","setSource","src","urlParam","match","replace","test","setState","setTimeout","onMount","touchable","title","frameBorder","scrolling","allowFullScreen","defaultProps","BASE_STATE","isInGame","isPlaying","isOverlayShown","isEmbedTouchable","pastTotalTime","embedSource","stats","gameSpeed","Game","_tickCount","_ticker","_pornEmbed","createRef","play","pickAction","tick","pause","stopTick","toggleOverlay","prevState","toggleEmbedTouch","getTime","seconds","getSpeedsList","whitelist","blacklist","pickSpeed","pickOneWithChance","uniqueEndings","uniqueActions","getActionsList","getChanceStatistics","minDuration","maxDuration","tickSpeed","nextTickRemainingTime","actionState","shouldBeep","beep","clearTimeout","Audio","clearInterval","uniqueList","forEach","canPlay","toPercent","actionsLists","endingsLists","placeholder","current","marginHeight","marginWidth","App","getPreferences","getArrayParam","split","setPreferences","searchParams","params","append","setPreferencesIfTrue","condition","setPref","filterAvailable","maxWidth","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7e8e829e.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst OptionContainer: React.FC = ({ children }) => (\r\n\t<div className={'mb-12'}>\r\n\t\t{children}\r\n\t</div>\r\n);\r\n\r\nexport default OptionContainer;\r\n","import React from 'react';\r\n\r\nconst OptionTitle: React.FC = ({ children }) => (\r\n\t<h2 className={'text-xl bold mb-5'}>{children}</h2>\r\n);\r\n\r\nexport default OptionTitle;\r\n","export type entries = { [key: string]: Model };\r\n\r\nclass Model {\r\n\r\n\tpublic static get entries(): entries {\r\n\t\treturn {};\r\n\t};\r\n\r\n\tpublic static get keys(): string[] {\r\n\t\treturn Object.keys(this.entries);\r\n\t}\r\n\r\n\tpublic static get values(): any[] {\r\n\t\treturn Object.values(this.entries);\r\n\t}\r\n\r\n\tpublic static get<T = any>(key: string | string[]): T | T[] {\r\n\t\tif (Array.isArray(key)) {\r\n\t\t\treturn key\r\n\t\t\t\t.map(k => this.entries[k])\r\n\t\t\t\t.filter(value => !!value) as any as T[];\r\n\t\t}\r\n\r\n\t\treturn this.entries[key] as any as T;\r\n\t}\r\n\r\n\tpublic get entries(): entries {\r\n\t\treturn (this.constructor as typeof Model).entries;\r\n\t}\r\n\r\n\tpublic get key(): string | null {\r\n\t\tconst entry = Object.entries(this.entries).find(([, value]) => this === value);\r\n\r\n\t\tif (!entry) {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\treturn entry[0];\r\n\t}\r\n\r\n}\r\n\r\nexport default Model;\r\n","import Model from './Model';\r\nimport Gender from './Gender';\r\nimport tools from '../settings/tools';\r\nimport { option } from '../utils/types';\r\n\r\nexport type toolPayload = {\r\n\ttext: string,\r\n\tgenders: Gender[],\r\n}\r\n\r\nclass Tool extends Model {\r\n\r\n\tpublic static get entries() {\r\n\t\treturn tools;\r\n\t};\r\n\r\n\tpublic static filterAvailable(tools: Tool[], gender: Gender): Tool[] {\r\n\t\treturn tools\r\n\t\t\t.filter(tool => tool.genders.includes(gender))\r\n\t}\r\n\r\n\tpublic static getAvailableOptions(gender: Gender): option[] {\r\n\t\treturn Object.entries(this.entries)\r\n\t\t\t.filter(([, tool]) => tool.genders.includes(gender))\r\n\t\t\t.map(([key, tool]) => ({ label: tool.text, value: key }));\r\n\t}\r\n\r\n\tprotected _text: string;\r\n\tprotected _genders: Gender[];\r\n\r\n\tconstructor(payload: toolPayload) {\r\n\t\tsuper();\r\n\r\n\t\tthis._text = payload.text;\r\n\t\tthis._genders = payload.genders;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get genders(): Gender[] {\r\n\t\treturn this._genders;\r\n\t}\r\n\r\n}\r\n\r\nexport default Tool;\r\n","import Model from './Model';\r\nimport genders from '../settings/genders';\r\nimport { option } from '../utils/types';\r\n\r\nexport type genderPayload = {\r\n\ttext: string,\r\n}\r\n\r\nclass Gender extends Model {\r\n\r\n\tpublic static get entries() {\r\n\t\treturn genders;\r\n\t}\r\n\r\n\tpublic static getAvailableOptions(): option[] {\r\n\t\treturn Object.entries(this.entries)\r\n\t\t\t.map(([key, gender]) => ({ label: gender.text, value: key }));\r\n\t}\r\n\r\n\tprotected _text: string;\r\n\r\n\tconstructor(payload: genderPayload) {\r\n\t\tsuper();\r\n\t\tthis._text = payload.text;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n}\r\n\r\nexport default Gender;\r\n","import Gender from '../entity/Gender';\r\n\r\nexport type genderSettings = {\r\n\t[key: string]: Gender,\r\n}\r\n\r\nconst settings: genderSettings = {\r\n\tmale: new Gender({\r\n\t\ttext: 'Male',\r\n\t}),\r\n\tfemale: new Gender({\r\n\t\ttext: 'Female',\r\n\t}),\r\n\tm2f: new Gender({\r\n\t\ttext: 'Trans (male to female)',\r\n\t}),\r\n\tf2m: new Gender({\r\n\t\ttext: 'Trans (female to male)',\r\n\t}),\r\n}\r\n\r\nexport default settings;\r\n","import Tool from '../entity/Tool';\r\nimport genders from '../settings/genders';\r\n\r\nexport type toolSettings = {\r\n\t[key: string]: Tool,\r\n}\r\n\r\nconst settings: toolSettings = {\r\n\tleftHand: new Tool({\r\n\t\ttext: 'Left hand',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\trightHand: new Tool({\r\n\t\ttext: 'Right hand',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tbothHands: new Tool({\r\n\t\ttext: 'Both hands',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tleftHandFinger: new Tool({\r\n\t\ttext: 'Left hand finger(s)',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\trightHandFinger: new Tool({\r\n\t\ttext: 'Right hand finger(s)',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tdildo: new Tool({\r\n\t\ttext: 'Dildo',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tfleshlight: new Tool({\r\n\t\ttext: 'Fleshlight',\r\n\t\tgenders: [genders.male, genders.m2f],\r\n\t}),\r\n\tdoll: new Tool({\r\n\t\ttext: 'Doll',\r\n\t\tgenders: [genders.male, genders.m2f],\r\n\t}),\r\n\tvibrator: new Tool({\r\n\t\ttext: 'Vibrator',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tbuttPlug: new Tool({\r\n\t\ttext: 'Butt plug',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t}),\r\n\tanalBeeds: new Tool({\r\n\t\ttext: 'Anal beeds',\r\n\t\tgenders: [genders.male, genders.female, genders.m2f, genders.f2m],\r\n\t})\r\n}\r\n\r\nexport default settings;\r\n","import Model from './Model';\r\nimport Gender from './Gender';\r\nimport Tool from './Tool';\r\nimport { probability, buildableString, option } from '../utils/types';\r\nimport gameSettings from '../settings/game';\r\n\r\nexport type actionPayload = {\r\n\ttext: string,\r\n\tactionText: buildableString,\r\n\ttools?: Tool[],\r\n\tgenders: Gender[],\r\n\tchance: probability,\r\n\tsingleAction?: boolean,\r\n\tcanOrgasm?: boolean,\r\n}\r\n\r\nclass Action extends Model {\r\n\r\n\tpublic static get entries() {\r\n\t\treturn gameSettings.actions;\r\n\t}\r\n\r\n\tpublic static filterAvailable(actions: Action[], gender: Gender, tools: Tool[]): Action[] {\r\n\t\treturn actions\r\n\t\t\t.filter(action => action.genders.includes(gender))\r\n\t\t\t.filter(action => {\r\n\t\t\t\tif (!action.tools) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn action.tools.some(tool => tools.includes(tool));\r\n\t\t\t});\r\n\t}\r\n\r\n\tpublic static getAvailableOptions(gender: Gender, tools: Tool[]): option[] {\r\n\t\treturn Object.entries(this.entries)\r\n\t\t\t.filter(([, action]) => action.genders.includes(gender))\r\n\t\t\t.filter(([, action]) => {\r\n\t\t\t\tif (!action.tools) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn action.tools.some(tool => tools.includes(tool));\r\n\t\t\t})\r\n\t\t\t.map(([key, action]) => ({ label: action.text, value: key }));\r\n\t}\r\n\r\n\tprotected _text: string;\r\n\tprotected _actionText: buildableString;\r\n\tprotected _tools?: Tool[];\r\n\tprotected _genders: Gender[];\r\n\tprotected _chance: probability;\r\n\tprotected _singleAction?: boolean;\r\n\tprotected _canOrgasm?: boolean;\r\n\r\n\tconstructor(payload: actionPayload) {\r\n\t\tsuper();\r\n\t\tthis._text = payload.text;\r\n\t\tthis._actionText = payload.actionText;\r\n\t\tthis._tools = payload.tools;\r\n\t\tthis._genders = payload.genders;\r\n\t\tthis._chance = payload.chance;\r\n\t\tthis._singleAction = payload.singleAction;\r\n\t\tthis._canOrgasm = payload.canOrgasm;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get actionText(): buildableString {\r\n\t\treturn this._actionText;\r\n\t}\r\n\r\n\tpublic get tools(): Tool[] | undefined {\r\n\t\treturn this._tools;\r\n\t}\r\n\r\n\tpublic get genders(): Gender[] {\r\n\t\treturn this._genders;\r\n\t}\r\n\r\n\tpublic get chance(): probability {\r\n\t\treturn this._chance;\r\n\t}\r\n\r\n\tpublic get singleAction(): boolean {\r\n\t\treturn this._singleAction ?? false;\r\n\t}\r\n\r\n\tpublic get canOrgasm(): boolean {\r\n\t\tif (this._canOrgasm === undefined && this.singleAction) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn this._canOrgasm ?? true;\r\n\t}\r\n\r\n}\r\n\r\nexport default Action;\r\n","import Model from './Model';\r\nimport Gender from './Gender';\r\nimport Tool from './Tool';\r\nimport { probability, buildableString, option } from '../utils/types';\r\nimport gameSettings from '../settings/game';\r\n\r\nexport type postOrgasmPayload = {\r\n\ttext: string,\r\n\tactionText: buildableString,\r\n\ttools?: Tool[],\r\n\tgenders: Gender[],\r\n\tchance: probability,\r\n\tsingleAction?: boolean,\r\n\tcanOrgasm?: boolean,\r\n}\r\n\r\nclass PostOrgasm extends Model {\r\n\r\n\tpublic static get entries() {\r\n\t\treturn gameSettings.postOrgasms;\r\n\t}\r\n\r\n\tpublic static filterAvailable(postOrgasms: PostOrgasm[], gender: Gender): PostOrgasm[] {\r\n\t\treturn postOrgasms\r\n\t\t\t.filter(postOrgasm => postOrgasm.genders.includes(gender))\r\n\t}\r\n\r\n\tpublic static getAvailableOptions(gender: Gender): option[] {\r\n\t\treturn Object.entries(this.entries)\r\n\t\t\t.filter(([, postOrgasm]) => postOrgasm.genders.includes(gender))\r\n\t\t\t.map(([key, postOrgasm]) => ({ label: postOrgasm.text, value: key }));\r\n\t}\r\n\r\n\tprotected _text: string;\r\n\tprotected _actionText: buildableString;\r\n\tprotected _genders: Gender[];\r\n\tprotected _chance: probability;\r\n\r\n\tconstructor(payload: postOrgasmPayload) {\r\n\t\tsuper();\r\n\r\n\t\tthis._text = payload.text;\r\n\t\tthis._actionText = payload.actionText;\r\n\t\tthis._genders = payload.genders;\r\n\t\tthis._chance = payload.chance;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get actionText(): buildableString {\r\n\t\treturn this._actionText;\r\n\t}\r\n\r\n\tpublic get genders(): Gender[] {\r\n\t\treturn this._genders;\r\n\t}\r\n\r\n\tpublic get chance(): probability {\r\n\t\treturn this._chance;\r\n\t}\r\n\r\n}\r\n\r\nexport default PostOrgasm;\r\n","import Model from './Model';\r\nimport Gender from './Gender';\r\nimport Tool from './Tool';\r\nimport { probability, buildableString, option } from '../utils/types';\r\nimport gameSettings from '../settings/game';\r\n\r\nexport type endingPayload = {\r\n\ttext: string,\r\n\tactionText: buildableString,\r\n\ttools?: Tool[],\r\n\tgenders: Gender[],\r\n\tchance: probability,\r\n\tsingleAction?: boolean,\r\n\tcanPostOrgasm?: boolean,\r\n}\r\n\r\nclass Ending extends Model {\r\n\r\n\tpublic static get entries() {\r\n\t\treturn gameSettings.endings;\r\n\t}\r\n\r\n\tpublic static filterAvailable(endings: Ending[], gender: Gender, tools: Tool[]): Ending[] {\r\n\t\treturn endings\r\n\t\t\t.filter(ending => ending.genders.includes(gender))\r\n\t\t\t.filter(ending => {\r\n\t\t\t\tif (!ending.tools) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn ending.tools.some(tool => tools.includes(tool));\r\n\t\t\t});\r\n\t}\r\n\r\n\tpublic static getAvailableOptions(gender: Gender, tools: Tool[]): option[] {\r\n\t\treturn Object.entries(this.entries)\r\n\t\t\t.filter(([, ending]) => ending.genders.includes(gender))\r\n\t\t\t.filter(([, ending]) => {\r\n\t\t\t\tif (!ending.tools) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn ending.tools.some(tool => tools.includes(tool));\r\n\t\t\t})\r\n\t\t\t.map(([key, action]) => ({ label: action.text, value: key }));\r\n\t}\r\n\r\n\tprotected _text: string;\r\n\tprotected _actionText: buildableString;\r\n\tprotected _tools?: Tool[];\r\n\tprotected _genders: Gender[];\r\n\tprotected _chance: probability;\r\n\tprotected _canPostOrgasm?: boolean;\r\n\r\n\tconstructor(payload: endingPayload) {\r\n\t\tsuper();\r\n\t\tthis._text = payload.text;\r\n\t\tthis._actionText = payload.actionText;\r\n\t\tthis._tools = payload.tools;\r\n\t\tthis._genders = payload.genders;\r\n\t\tthis._chance = payload.chance;\r\n\t\tthis._canPostOrgasm = payload.canPostOrgasm;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get actionText(): buildableString {\r\n\t\treturn this._actionText;\r\n\t}\r\n\r\n\tpublic get tools(): Tool[] | undefined {\r\n\t\treturn this._tools;\r\n\t}\r\n\r\n\tpublic get genders(): Gender[] {\r\n\t\treturn this._genders;\r\n\t}\r\n\r\n\tpublic get chance(): probability {\r\n\t\treturn this._chance;\r\n\t}\r\n\r\n\tpublic get canPostOrgasm(): boolean {\r\n\t\treturn this._canPostOrgasm ?? true;\r\n\t}\r\n\r\n}\r\n\r\nexport default Ending;\r\n","import Model from './Model';\r\nimport { probability, durationRange } from '../utils/types';\r\nimport gameSettings from '../settings/game';\r\n\r\nexport type speedPayload = {\r\n\ttext: string,\r\n\tbps: number,\r\n\tchance: probability,\r\n\tduration: durationRange,\r\n\tfollowUpWhitelist?: () => Speed[],\r\n\tfollowUpBlacklist?: () => Speed[],\r\n}\r\n\r\nclass Speed extends Model {\r\n\r\n\tpublic static get entries() {\r\n\t\treturn gameSettings.speed;\r\n\t}\r\n\r\n\tprotected _text: string;\r\n\tprotected _bps: number;\r\n\tprotected _chance: probability;\r\n\tprotected _duration: durationRange;\r\n\tprotected _followUpWhitelist?: () => Speed[];\r\n\tprotected _followUpBlacklist?: () => Speed[];\r\n\r\n\tconstructor(payload: speedPayload) {\r\n\t\tsuper();\r\n\r\n\t\tthis._text = payload.text;\r\n\t\tthis._bps = payload.bps;\r\n\t\tthis._chance = payload.chance;\r\n\t\tthis._duration = payload.duration;\r\n\t\tthis._followUpWhitelist = payload.followUpWhitelist;\r\n\t\tthis._followUpBlacklist = payload.followUpBlacklist;\r\n\t}\r\n\r\n\tpublic get text(): string {\r\n\t\treturn this._text;\r\n\t}\r\n\r\n\tpublic get bps(): number {\r\n\t\treturn this._bps;\r\n\t}\r\n\r\n\tpublic get chance(): probability {\r\n\t\treturn this._chance;\r\n\t}\r\n\r\n\tpublic get duration(): durationRange {\r\n\t\treturn this._duration;\r\n\t}\r\n\r\n\tpublic get followUpWhitelist(): Speed[] | undefined {\r\n\t\treturn this._followUpWhitelist?.();\r\n\t}\r\n\r\n\tpublic get followUpBlacklist(): Speed[] | undefined {\r\n\t\treturn this._followUpBlacklist?.();\r\n\t}\r\n\r\n}\r\n\r\nexport default Speed;\r\n","class SuperMath {\r\n\r\n\tstatic linear(x: number, a: number, c: number = 0): number {\r\n\t\treturn a * x + c;\r\n\t}\r\n\r\n\tstatic exponential(x: number, a: number, b: number, c: number = 0): number {\r\n\t\treturn a * (b ** x) + c;\r\n\t}\r\n\r\n\tstatic smallestDivisor(number: number): number {\r\n\t\tif (number % 2 === 0) {\r\n\t\t\treturn 2;\r\n\t\t}\r\n\r\n\t\tfor (let i = 3; i * i <= number; i += 2) {\r\n\t\t\tif (number % i === 0) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn number;\r\n\t}\r\n\r\n\tstatic toPercent(number: number, decimal: number = 2): number {\r\n\t\tconst value = Math.round(number * (10 ** decimal)) / 100;\r\n\r\n\t\tif (Number.isNaN(value)) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n}\r\n\r\nexport default SuperMath;\r\n","import tools from './tools';\r\nimport gender from './genders';\r\nimport Action from '../entity/Action'\r\nimport PostOrgasm from '../entity/PostOrgasm'\r\nimport Ending from '../entity/Ending'\r\nimport Speed from '../entity/Speed'\r\nimport SuperMath from '../utils/SuperMath';\r\n\r\nconst MIN = 60000;\r\n\r\nexport type gameSettings = {\r\n\tspeed: { [key: string]: Speed },\r\n\tactions: { [key: string]: Action },\r\n\tendings: { [key: string]: Ending },\r\n\tpostOrgasms: { [key: string]: PostOrgasm },\r\n}\r\n\r\nconst settings: gameSettings = {\r\n\tspeed: {\r\n\t\tgentle: new Speed({\r\n\t\t\ttext: 'Gentle',\r\n\t\t\tbps: 0.5,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst [min, max] = [5, 50];\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\t\t\t\tconst chance = SuperMath.linear(timeInMin, -10, max);\r\n\r\n\t\t\t\tif (chance < min) {\r\n\t\t\t\t\treturn min;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn chance;\r\n\t\t\t},\r\n\t\t\tduration: (ms) => {\r\n\t\t\t\tconst [min, max] = [10, 30];\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\t\t\t\tconst chance = SuperMath.linear(timeInMin, -10, max);\r\n\r\n\t\t\t\tif (chance < min) {\r\n\t\t\t\t\treturn [min, min];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn [min, chance];\r\n\t\t\t},\r\n\t\t\tfollowUpBlacklist: () => [settings.speed.stop, settings.speed.cum],\r\n\t\t}),\r\n\t\tslow: new Speed({\r\n\t\t\ttext: 'Slow',\r\n\t\t\tbps: 1,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst [min, max] = [20, 50];\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\t\t\t\tconst chance = SuperMath.linear(timeInMin, -1, max);\r\n\r\n\t\t\t\tif (chance < min) {\r\n\t\t\t\t\treturn min;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn chance;\r\n\t\t\t},\r\n\t\t\tduration: () => [10, 30],\r\n\t\t}),\r\n\t\tmedium: new Speed({\r\n\t\t\ttext: 'Medium',\r\n\t\t\tbps: 2,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst [min, max] = [25, 60];\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\t\t\t\tconst t = SuperMath.linear(timeInMin, 2, min);\r\n\r\n\t\t\t\tif (t > max) {\r\n\t\t\t\t\treturn max;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn t;\r\n\t\t\t},\r\n\t\t\tduration: () => [10, 30],\r\n\t\t}),\r\n\t\thard: new Speed({\r\n\t\t\ttext: 'Hard',\r\n\t\t\tbps: 3,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst START = 1 * MIN;\r\n\r\n\t\t\t\tif (ms < START) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeInMin / 10, 0.4, 40);\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [5, 30],\r\n\t\t}),\r\n\t\textreme: new Speed({\r\n\t\t\ttext: 'Extreme',\r\n\t\t\tbps: 4,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst START = 1 * MIN;\r\n\r\n\t\t\t\tif (ms < START) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeInMin / 10, 0.3, 30);\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [5, 10],\r\n\t\t}),\r\n\t\tstop: new Speed({\r\n\t\t\ttext: 'STOP',\r\n\t\t\tbps: 0,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeInMin / 10, 0.5, 40);\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [5, 30],\r\n\t\t\tfollowUpBlacklist: () => [settings.speed.cum]\r\n\t\t}),\r\n\t\tedge: new Speed({\r\n\t\t\ttext: 'EDGE',\r\n\t\t\tbps: 4,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst START = 3 * MIN;\r\n\r\n\t\t\t\tif (ms < START) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst timeOverInMin = (ms - START) / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeOverInMin / 10, 1, 80);\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [10, 30],\r\n\t\t\tfollowUpWhitelist: () => [settings.speed.gentle, settings.speed.stop, settings.speed.cum],\r\n\t\t}),\r\n\t\tnone: new Speed({\r\n\t\t\ttext: 'None',\r\n\t\t\tbps: 0,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst [min, max] = [20, 40]\r\n\r\n\t\t\t\tconst timeInMin = ms / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeInMin / 10, 0.5, max);\r\n\r\n\t\t\t\tif (chance < min) {\r\n\t\t\t\t\treturn min;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [15, 15],\r\n\t\t\tfollowUpBlacklist: () => [settings.speed.stop, settings.speed.cum],\r\n\t\t}),\r\n\t\tcum: new Speed({\r\n\t\t\ttext: 'CUM',\r\n\t\t\tbps: 0,\r\n\t\t\tchance: (ms) => {\r\n\t\t\t\tconst START = 6 * MIN;\r\n\r\n\t\t\t\tif (ms < START) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst timeOverInMin = (ms - START) / MIN;\r\n\r\n\t\t\t\tconst chance = SuperMath.exponential(timeOverInMin / 10, 0.2, 150);\r\n\r\n\t\t\t\treturn Math.ceil(chance);\r\n\t\t\t},\r\n\t\t\tduration: () => [5, 15],\r\n\t\t}),\r\n\t},\r\n\tactions: {\r\n\t\tstroke: new Action({\r\n\t\t\ttext: 'Stroke',\r\n\t\t\tactionText: (tool) => `Stroke dick with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.bothHands,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\trubClitoris: new Action({\r\n\t\t\ttext: 'Rub clitoris',\r\n\t\t\tactionText: (tool: string) => `Rub clitoris with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.dildo,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.vibrator,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tslapPussy: new Action({\r\n\t\t\ttext: 'Slap pussy',\r\n\t\t\tactionText: (tool: string) => `Slap pussy with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 2,\r\n\t\t}),\r\n\t\tanal: new Action({\r\n\t\t\ttext: 'Anal masturbation',\r\n\t\t\tactionText: (tool) => `Fuck ass with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t\ttools.dildo,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tfuck: new Action({\r\n\t\t\ttext: 'Fuck',\r\n\t\t\tactionText: (tool) => `Fuck ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.fleshlight,\r\n\t\t\t\ttools.doll,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tfuckPussy: new Action({\r\n\t\t\ttext: 'Fuck',\r\n\t\t\tactionText: (tool) => `Fuck yourself with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.dildo,\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tsuck: new Action({\r\n\t\t\ttext: 'Suck',\r\n\t\t\tactionText: (tool) => `Suck ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t\ttools.dildo,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 4,\r\n\t\t\tcanOrgasm: false,\r\n\t\t}),\r\n\t\tdeepTroat: new Action({\r\n\t\t\ttext: 'Deep throat',\r\n\t\t\tactionText: (tool) => `Deep throat ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.dildo,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 1,\r\n\t\t}),\r\n\t\tanalInsert: new Action({\r\n\t\t\ttext: 'Anal insert',\r\n\t\t\tactionText: (tool) => `Insert ${tool} in ass`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.buttPlug,\r\n\t\t\t\ttools.analBeeds,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 100,\r\n\t\t\tsingleAction: true,\r\n\t\t}),\r\n\t},\r\n\tendings: {\r\n\t\tdenyOrgasm: new Ending({\r\n\t\t\ttext: 'Deny orgasm',\r\n\t\t\tactionText: () => 'Deny your orgasm, do not cum.',\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 1,\r\n\t\t\tcanPostOrgasm: false,\r\n\t\t}),\r\n\t\truinedOrgasm: new Ending({\r\n\t\t\ttext: 'Ruin orgasm',\r\n\t\t\tactionText: () => 'Ruin your orgasm',\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 1,\r\n\t\t}),\r\n\t\tstroke: new Ending({\r\n\t\t\ttext: 'Stroke',\r\n\t\t\tactionText: (tool) => `Orgasm by stroking your dick with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.bothHands,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\trubClitoris: new Ending({\r\n\t\t\ttext: 'Rub clitoris',\r\n\t\t\tactionText: (tool: string) => `Orgasm by rubbing your clitoris with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.dildo,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.vibrator,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tslapPussy: new Ending({\r\n\t\t\ttext: 'Slap pussy',\r\n\t\t\tactionText: (tool: string) => `Orgasm by slapping your pussy with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 2,\r\n\t\t}),\r\n\t\tanal: new Ending({\r\n\t\t\ttext: 'Anal masturbation',\r\n\t\t\tactionText: (tool) => `Orgasm by fucking your ass with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t\ttools.dildo,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.female, gender.m2f, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tfuck: new Ending({\r\n\t\t\ttext: 'Fuck',\r\n\t\t\tactionText: (tool) => `Orgasm by fucking ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.fleshlight,\r\n\t\t\t\ttools.doll,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t\tfuckPussy: new Ending({\r\n\t\t\ttext: 'Fuck',\r\n\t\t\tactionText: (tool) => `Orgasm by fucking your pussy with ${tool}`,\r\n\t\t\ttools: [\r\n\t\t\t\ttools.dildo,\r\n\t\t\t\ttools.leftHand,\r\n\t\t\t\ttools.rightHand,\r\n\t\t\t\ttools.leftHandFinger,\r\n\t\t\t\ttools.rightHandFinger,\r\n\t\t\t],\r\n\t\t\tgenders: [gender.female, gender.f2m],\r\n\t\t\tchance: () => 10,\r\n\t\t}),\r\n\t},\r\n\tpostOrgasms: {\r\n\t\tcei: new PostOrgasm({\r\n\t\t\ttext: 'Cum eating instruction',\r\n\t\t\tactionText: () => 'Cum eating instruction',\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 1,\r\n\t\t}),\r\n\t\tsecondRound: new PostOrgasm({\r\n\t\t\ttext: 'Second round',\r\n\t\t\tactionText: () => 'Second round',\r\n\t\t\tgenders: [gender.male, gender.m2f],\r\n\t\t\tchance: () => 1,\r\n\t\t}),\r\n\t}\r\n};\r\n\r\nexport default settings;\r\n","const env = {\r\n\tdebug: true,\r\n\tshowHidden: false,\r\n};\r\n\r\nexport default env;\r\n","export const getKeyFromObject = (object: any, value: any): string | null => {\r\n\tfor (const [key, propertyValue] of Object.entries(object)) {\r\n\t\tif (propertyValue !== value) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\treturn key;\r\n\t}\r\n\r\n\treturn null;\r\n}\r\n","import React from 'react';\r\nimport OptionContainer from './OptionContainer/OptionContainer';\r\nimport OptionTitle from './OptionTitle/OptionTitle';\r\nimport Input from 'advanced-react-input';\r\nimport gameSettings from '../../settings/game';\r\nimport env from '../../settings/env';\r\nimport genders from '../../settings/genders';\r\nimport tools from '../../settings/tools';\r\nimport Gender from '../../entity/Gender';\r\nimport Tool from '../../entity/Tool';\r\nimport Action from '../../entity/Action';\r\nimport Ending from '../../entity/Ending';\r\nimport PostOrgasm from '../../entity/PostOrgasm';\r\nimport { getKeyFromObject } from '../../utils/utils';\r\nimport { AppState } from '../../App';\r\n\r\nexport interface PreferencesProps extends AppState {\r\n\tsetGender: (option: string) => void,\r\n\tsetTools: (options: string[]) => void,\r\n\tsetActions: (options: string[]) => void,\r\n\tsetEndings: (options: string[]) => void,\r\n\tsetPostOrgasms: (options: string[]) => void,\r\n}\r\n\r\nclass Preferences extends React.Component<PreferencesProps> {\r\n\tprotected get hasGender(): boolean {\r\n\t\treturn !!this.props.gender;\r\n\t}\r\n\r\n\tprotected get hasTools(): boolean {\r\n\t\treturn this.props.tools.length > 0;\r\n\t}\r\n\r\n\tprotected get hasActions(): boolean {\r\n\t\treturn this.props.actions.length > 0;\r\n\t}\r\n\r\n\tprotected get hasEndings(): boolean {\r\n\t\treturn this.props.endings.length > 0;\r\n\t}\r\n\r\n\tprotected get canPostOrgasm(): boolean {\r\n\t\treturn this.endings.filter((ending) => ending.canPostOrgasm).length > 0;\r\n\t}\r\n\r\n\tprotected get genderOptions() {\r\n\t\treturn Gender.getAvailableOptions();\r\n\t}\r\n\r\n\tprotected get toolOptions() {\r\n\t\treturn Tool.getAvailableOptions(\r\n\t\t\tGender.get(this.props.gender) as Gender\r\n\t\t);\r\n\t}\r\n\r\n\tprotected get actionOptions() {\r\n\t\treturn Action.getAvailableOptions(\r\n\t\t\tGender.get(this.props.gender) as Gender,\r\n\t\t\tTool.get(this.props.tools) as Tool[]\r\n\t\t);\r\n\t}\r\n\r\n\tprotected get endingOptions() {\r\n\t\treturn Ending.getAvailableOptions(\r\n\t\t\tGender.get(this.props.gender) as Gender,\r\n\t\t\tTool.get(this.props.tools) as Tool[]\r\n\t\t);\r\n\t}\r\n\r\n\tprotected get postOrgasmOptions() {\r\n\t\treturn Object.entries(gameSettings.postOrgasms)\r\n\t\t\t.filter(([, postOrgasm]) => postOrgasm.genders.includes(this.gender))\r\n\t\t\t.map(([key, postOrgasm]) => ({ label: postOrgasm.text, value: key }));\r\n\t}\r\n\r\n\tprotected get gender(): Gender {\r\n\t\treturn genders[this.props.gender];\r\n\t}\r\n\r\n\tprotected get tools(): Tool[] {\r\n\t\treturn this.props.tools\r\n\t\t\t.map(option => tools[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get actions(): Action[] {\r\n\t\treturn this.props.actions\r\n\t\t\t.map(option => gameSettings.actions[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get endings(): Ending[] {\r\n\t\treturn this.props.endings\r\n\t\t\t.map(option => gameSettings.endings[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get postOrgasms(): PostOrgasm[] {\r\n\t\treturn this.props.postOrgasms\r\n\t\t\t.map(option => gameSettings.postOrgasms[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected getValue = (list: any, data: unknown | unknown[]): string | string[] | undefined  => {\r\n\t\tif (Array.isArray(data)) {\r\n\t\t\treturn data\r\n\t\t\t\t.map(value => getKeyFromObject(list, value))\r\n\t\t\t\t.filter(value => value !== null) as string[];\r\n\t\t}\r\n\r\n\t\treturn getKeyFromObject(list, data) || undefined;\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<OptionContainer>\r\n\t\t\t\t\t<OptionTitle>What is your gender ? (This will affect what options are available to you)</OptionTitle>\r\n\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\ttype={'radio'}\r\n\t\t\t\t\t\toptions={this.genderOptions}\r\n\t\t\t\t\t\tvalue={this.props.gender}\r\n\t\t\t\t\t\tonChange={this.props.setGender}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</OptionContainer>\r\n\r\n\t\t\t\t{this.hasGender && (\r\n\t\t\t\t\t<OptionContainer>\r\n\t\t\t\t\t\t<OptionTitle>Choose body parts/toys you would like to use</OptionTitle>\r\n\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype={'checkbox'}\r\n\t\t\t\t\t\t\toptions={this.toolOptions}\r\n\t\t\t\t\t\t\tvalue={this.props.tools}\r\n\t\t\t\t\t\t\tonChange={this.props.setTools}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</OptionContainer>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{this.hasGender && this.hasTools && (\r\n\t\t\t\t\t<OptionContainer>\r\n\t\t\t\t\t\t<OptionTitle>Choose what you would like to do to yourself/toys</OptionTitle>\r\n\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype={'checkbox'}\r\n\t\t\t\t\t\t\toptions={this.actionOptions}\r\n\t\t\t\t\t\t\tvalue={this.props.actions}\r\n\t\t\t\t\t\t\tonChange={this.props.setActions}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</OptionContainer>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{this.hasGender && this.hasTools && this.hasActions && (\r\n\t\t\t\t\t<OptionContainer>\r\n\t\t\t\t\t\t<OptionTitle>Choose how you would like this game to end</OptionTitle>\r\n\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype={'checkbox'}\r\n\t\t\t\t\t\t\toptions={this.endingOptions}\r\n\t\t\t\t\t\t\tvalue={this.props.endings}\r\n\t\t\t\t\t\t\tonChange={this.props.setEndings}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</OptionContainer>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{env.showHidden && this.hasGender && this.hasTools && this.hasActions && this.hasEndings && this.canPostOrgasm && (\r\n\t\t\t\t\t<OptionContainer>\r\n\t\t\t\t\t\t<OptionTitle>Need a bit of challenge ? Choose what you would like to do post orgasm</OptionTitle>\r\n\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype={'checkbox'}\r\n\t\t\t\t\t\t\toptions={this.postOrgasmOptions}\r\n\t\t\t\t\t\t\tvalue={this.props.postOrgasms}\r\n\t\t\t\t\t\t\tonChange={this.props.setPostOrgasms}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</OptionContainer>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Preferences;\r\n","export type timeObject = { h: number, m: number, s: number };\r\n\r\nclass Time {\r\n\r\n\tpublic static secondsToTime(secs: number): timeObject {\r\n\t\tsecs = Math.round(secs);\r\n\r\n\t\tconst hours = Math.floor(secs / (60 * 60));\r\n\t\tconst divisorForMinutes = secs % (60 * 60);\r\n\t\tconst minutes = Math.floor(divisorForMinutes / 60);\r\n\t\tconst divisorForSeconds = divisorForMinutes % 60;\r\n\t\tconst seconds = Math.ceil(divisorForSeconds);\r\n\r\n\t\treturn {\r\n\t\t\th: hours,\r\n\t\t\tm: minutes,\r\n\t\t\ts: seconds\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static hmsToClock(timeObject: timeObject, format?: { m?: boolean, s?: boolean }): string {\r\n\t\tformat = {\r\n\t\t\tm: true,\r\n\t\t\ts: true,\r\n\t\t\t...format,\r\n\t\t};\r\n\r\n\t\tconst sec = (timeObject.s < 10 && format.s) ? `0${timeObject.s}` : timeObject.s;\r\n\t\tconst min = (timeObject.m < 10 && format.m) ? `0${timeObject.m}` : timeObject.m;\r\n\r\n\t\tif (timeObject.h === 0) {\r\n\t\t\treturn `${min}:${sec}`;\r\n\t\t}\r\n\r\n\t\treturn `${timeObject.h}:${min}:${sec}`;\r\n\t}\r\n\r\n}\r\n\r\nexport default Time;\r\n","import React from 'react';\r\nimport Time from '../../utils/Time';\r\nimport Speed from '../../entity/Speed';\r\nimport gameSettings from '../../settings/game';\r\nimport { gameAction } from '../../utils/types';\r\n\r\nexport interface GameOverlayProps {\r\n\tclassName?: string,\r\n\tisVisible: boolean,\r\n\tisEnding: boolean,\r\n\tanimationSpeed: string,\r\n\ttotalTime: number,\r\n\tcurrentSpeed: Speed,\r\n\tnextSpeed: Speed,\r\n\tcurrentAction: gameAction,\r\n\tnextAction: gameAction,\r\n\tremainingTime: number,\r\n}\r\n\r\nconst timeDisplayFormat = (time: number) => {\r\n\tconst timeObject = Time.secondsToTime(time);\r\n\r\n\treturn Time.hmsToClock(timeObject, { m: false });\r\n}\r\n\r\nconst getRemainingTime = (time: number): number => {\r\n\treturn Math.ceil(time);\r\n}\r\n\r\nconst getCurrentSpeedBoxColor = (currentSpeed: Speed) => {\r\n\tswitch (currentSpeed) {\r\n\t\tcase gameSettings.speed.edge:\r\n\t\tcase gameSettings.speed.extreme:\r\n\t\t\treturn 'bg-red-600';\r\n\r\n\t\tcase gameSettings.speed.hard:\r\n\t\t\treturn 'bg-yellow-500';\r\n\r\n\t\tcase gameSettings.speed.medium:\r\n\t\t\treturn 'bg-green-500';\r\n\r\n\t\tcase gameSettings.speed.slow:\r\n\t\t\treturn 'bg-blue-500';\r\n\r\n\t\tcase gameSettings.speed.gentle:\r\n\t\t\treturn 'bg-purple-500';\r\n\r\n\t\tdefault:\r\n\t\t\treturn 'bg-black';\r\n\t}\r\n}\r\n\r\nconst getNextSpeedTextColor = (nextSpeed: Speed) => {\r\n\tswitch (nextSpeed) {\r\n\t\tcase gameSettings.speed.edge:\r\n\t\tcase gameSettings.speed.extreme:\r\n\t\t\treturn 'text-red-600';\r\n\r\n\t\tcase gameSettings.speed.hard:\r\n\t\t\treturn 'text-yellow-500';\r\n\r\n\t\tcase gameSettings.speed.medium:\r\n\t\t\treturn 'text-green-500';\r\n\r\n\t\tcase gameSettings.speed.slow:\r\n\t\t\treturn 'text-blue-500';\r\n\r\n\t\tcase gameSettings.speed.gentle:\r\n\t\t\treturn 'text-purple-500';\r\n\r\n\t\tdefault:\r\n\t\t\treturn 'text-white';\r\n\t}\r\n}\r\n\r\nconst GameOverlay: React.FC<GameOverlayProps> = ({\r\n\tclassName,\r\n\tisVisible,\r\n\tisEnding,\r\n\tanimationSpeed,\r\n\ttotalTime,\r\n\tcurrentSpeed,\r\n\tnextSpeed,\r\n\tcurrentAction,\r\n\tnextAction,\r\n\tremainingTime,\r\n}) => {\r\n\tconst currentSpeedBoxColor = getCurrentSpeedBoxColor(currentSpeed);\r\n\tconst nextSpeedTextColor = getNextSpeedTextColor(nextSpeed);\r\n\tremainingTime = getRemainingTime(remainingTime);\r\n\r\n\tconst totalTimeBox = (\r\n\t\t<div className={'absolute p-2 md:p-3 top-0 left-0 bg-black bg-opacity-70'}>\r\n\t\t\t<div className={'text-sm md:text-md bold'}>{timeDisplayFormat(totalTime)}</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst actionBox = currentAction && (\r\n\t\t<div className={'absolute p-2 md:p-3 bottom-0 left-0 bg-black bg-opacity-70'}>\r\n\t\t\t{!isEnding && nextAction && nextSpeed && (\r\n\t\t\t\t<div className={'text-xs bold'}>\r\n\t\t\t\t\t{nextSpeed !== gameSettings.speed.stop && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<span className={'hidden md:inline'}>Up next: </span>\r\n\t\t\t\t\t\t\t<span>{nextAction.text}</span>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{nextSpeed !== gameSettings.speed.none && (\r\n\t\t\t\t\t\t<span className={nextSpeedTextColor}> {`(${nextSpeed.text})`}</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className={'text-md md:text-2xl bold'}>{currentAction.text}</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst speedBox = (\r\n\t\t<div className={[\r\n\t\t\t'absolute bottom-0 right-0 bg-opacity-70 overflow-hidden',\r\n\t\t\t'w-14 h-14',\r\n\t\t\t'md:w-24 md:h-24',\r\n\t\t\tcurrentSpeedBoxColor,\r\n\t\t].join(' ')}>\r\n\t\t\t<div className={'relative flex flex-col justify-center items-center w-full h-full'}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={'absolute w-full h-full bg-gray-100 bg-opacity-30 animate-bounce'}\r\n\t\t\t\t\tstyle={{ animationDuration: animationSpeed }}\r\n\t\t\t\t/>\r\n\t\t\t\t{currentSpeed !== gameSettings.speed.none && (\r\n\t\t\t\t\t<div className={'z-10 text-xs md:text-lg'}>{currentSpeed.text}</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className={'z-10 text-md md:text-2xl bold'}>{remainingTime}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className={[\r\n\t\t\t'gameOverlay',\r\n\t\t\t'transition absolute w-full h-full pointer-events-none text-white',\r\n\t\t\t!isVisible ? 'opacity-0 visibility-none' : '',\r\n\t\t].join(' ')}>\r\n\t\t\t<div className={'w-full h-full p-2 md:p-3'}>\r\n\t\t\t\t<div className={'relative w-full h-full'}>\r\n\r\n\t\t\t\t\t{totalTimeBox}\r\n\r\n\t\t\t\t\t{actionBox}\r\n\r\n\t\t\t\t\t{speedBox}\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default GameOverlay;\r\n","import React, { useState, useRef } from 'react';\r\n\r\nexport interface GameContentProps {\r\n\tbackground: React.ReactChild,\r\n}\r\n\r\nconst heightToWidthRatio = (9/16) * 100;\r\n\r\nconst GameContent: React.FC<GameContentProps> = (props) => {\r\n\tconst node = useRef(null);\r\n\tconst [isFullScreen, setFullScreen] = useState(false);\r\n\r\n\tconst toggleFullScreen = () => {\r\n\t\tconst willBeFullScreen = !isFullScreen;\r\n\t\tconst bodyClass = 'overflow-hidden';\r\n\r\n\t\tif (willBeFullScreen) {\r\n\t\t\tdocument.body.classList.add(bodyClass);\r\n\t\t} else {\r\n\t\t\tdocument.body.classList.remove(bodyClass);\r\n\t\t}\r\n\r\n\t\tsetFullScreen(willBeFullScreen);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={[\r\n\t\t\t'gameContent',\r\n\t\t\t'bg-black flex justify-center items-center',\r\n\t\t\tisFullScreen ? 'fixed top-0 right-0 bottom-0 left-0' : '',\r\n\t\t].join(' ')}>\r\n\t\t\t<div\r\n\t\t\t\tref={node}\r\n\t\t\t\tclassName={[\r\n\t\t\t\t\t'relative bg-black w-full',\r\n\t\t\t\t\t!isFullScreen ? 'h-0' : 'h-screen',\r\n\t\t\t\t].join(' ')}\r\n\t\t\t\tstyle={(\r\n\t\t\t\t\t!isFullScreen\r\n\t\t\t\t\t\t? { paddingBottom: `${heightToWidthRatio}%` }\r\n\t\t\t\t\t\t: { }\r\n\t\t\t\t)}\r\n\t\t\t>\r\n\r\n\t\t\t\t<div className={'absolute w-full h-full'}>\r\n\t\t\t\t\t{props.background}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={[\r\n\t\t\t\t\t\t'top-0 right-0 p-2 text-white bg-black bg-opacity-3',\r\n\t\t\t\t\t\tisFullScreen ? 'fixed' : 'absolute',\r\n\t\t\t\t\t].join(' ')}\r\n\t\t\t\t\tonClick={toggleFullScreen}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span>FullScreen</span>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t{props.children}\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default GameContent;\r\n","import React from 'react';\r\n\r\nexport interface ButtonProps {\r\n\tonClick: () => void,\r\n}\r\n\r\nconst Button: React.FC<ButtonProps> = ({ children, onClick }) => (\r\n\t<button\r\n\t\tclassName={[\r\n\t\t\t'transition px-3 border border-gray-700 rounded',\r\n\t\t\t'hover:bg-gray-700 hover:text-white',\r\n\t\t].join(' ')}\r\n\t\tonClick={() => onClick()}\r\n\t>\r\n\t\t{children}\r\n\t</button>\r\n);\r\n\r\nexport default Button;\r\n","import Seedrandom from 'seedrandom';\r\nimport uniqid from 'uniqid';\r\n\r\nconst setSeed = (seed: string) => {\r\n\tconst urlParams = new URLSearchParams(window.location.search);\r\n\r\n\turlParams.set('seed', seed);\r\n\r\n\tconst url = `?${urlParams.toString()}`;\r\n\r\n\twindow.history.replaceState(null, 'preference', url);\r\n}\r\n\r\nconst getInitialSeed = () => {\r\n\tconst urlParams = new URLSearchParams(window.location.search);\r\n\r\n\tconst seedParam = urlParams.get('seed');\r\n\r\n\tif (seedParam === null) {\r\n\t\tconst seed = uniqid();\r\n\r\n\t\tsetSeed(seed);\r\n\r\n\t\treturn seed;\r\n\t}\r\n\r\n\treturn seedParam;\r\n}\r\n\r\nclass Randomizer {\r\n\r\n\tprotected static _seed: string = getInitialSeed();\r\n\r\n\tprotected static _random: CallableFunction;\r\n\r\n\tpublic static get random(): any {\r\n\t\tif (!this._random) {\r\n\t\t\tthis.resetRandom();\r\n\t\t}\r\n\r\n\t\treturn this._random;\r\n\t}\r\n\r\n\tpublic static get seed(): string {\r\n\t\treturn this._seed;\r\n\t}\r\n\r\n\tpublic static set seed(seed: string) {\r\n\t\tif (seed === this._seed) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!seed) {\r\n\t\t\tseed = uniqid();\r\n\t\t}\r\n\r\n\t\tthis._seed = seed;\r\n\r\n\t\tsetSeed(this._seed);\r\n\t}\r\n\r\n\tpublic static resetRandom(): void {\r\n\t\tthis._random = Seedrandom(this.seed);\r\n\t}\r\n\r\n\tpublic static int(max: number, min: number = 0): number {\r\n\t\treturn Math.floor(this.random() * (max - min) + min);\r\n\t}\r\n\r\n\tpublic static pickOne<T = string>(items: T[]): T {\r\n\t\tconst pickedIndex = this.int(items.length);\r\n\r\n\t\treturn items[pickedIndex];\r\n\t}\r\n\r\n\tpublic static pickOneWithChance<T = string>(items: Array<[T, number]>): T {\r\n\t\tconst fullList = items.reduce<T[]>((acc, [item, count]) => {\r\n\t\t\tfor (let i = 0; i < count; i++) {\r\n\t\t\t\tacc.push(item);\r\n\t\t\t}\r\n\r\n\t\t\treturn acc;\r\n\t\t}, []);\r\n\r\n\t\treturn this.pickOne(fullList);\r\n\t}\r\n\r\n\tpublic static getChanceStatistics<T = { text: string }>(items: Array<[T, number]>) {\r\n\t\tconst fullList = items.reduce<T[]>((acc, [item, count]) => {\r\n\t\t\tfor (let i = 0; i < count; i++) {\r\n\t\t\t\tacc.push(item);\r\n\t\t\t}\r\n\r\n\t\t\treturn acc;\r\n\t\t}, []);\r\n\r\n\t\treturn items.reduce<any>((acc, [item]) => {\r\n\t\t\tacc[(item as any).text] = fullList.filter(entry => entry === item).length / fullList.length;\r\n\r\n\t\t\treturn acc;\r\n\t\t}, {});\r\n\t}\r\n\r\n}\r\n\r\nexport default Randomizer;\r\n","import React from 'react';\r\n\r\nexport interface PornEmbedProps {\r\n\tclassName?: string,\r\n\ttouchable: boolean,\r\n\tonMount?: CallableFunction,\r\n}\r\n\r\nexport interface PornEmbedState {\r\n\tsource?: string,\r\n}\r\n\r\nclass PornEmbed extends React.Component<PornEmbedProps, PornEmbedState> {\r\n\r\n\tstatic defaultProps = {\r\n\t\ttouchable: true,\r\n\t}\r\n\r\n\tpublic state: PornEmbedState = {\r\n\t\tsource: undefined,\r\n\t}\r\n\r\n\tpublic componentDidMount() {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.props.onMount?.();\r\n\t\t}, 0);\r\n\t}\r\n\r\n\tprotected pornhubUrl = (videoId: string) => {\r\n\t\treturn `https://www.pornhub.com/embed/${videoId}`;\r\n\t}\r\n\r\n\tprotected xvideosUrl = (videoId: string) => {\r\n\t\treturn `https://www.xvideos.com/embedframe/${videoId}`;\r\n\t}\r\n\r\n\tpublic setSource = (src: string): void => {\r\n\t\tlet source;\r\n\r\n\t\tif (src.includes('pornhub.com')) {\r\n\t\t\tconst urlParam = src.match(/viewkey=ph[a-zA-Z0-9]*/)?.[0];\r\n\r\n\t\t\tif (!urlParam) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst videoId = urlParam.replace('viewkey=', '');\r\n\r\n\t\t\tsource = this.pornhubUrl(videoId);\r\n\t\t} else if (/^(ph|pornhub):[a-zA-Z0-9]*/.test(src)) {\r\n\t\t\tconst videoId = src.replace(/^(ph|pornhub):/, '');\r\n\r\n\t\t\tsource = this.pornhubUrl(videoId);\r\n\t\t} else if (src.includes('xvideos.com')) {\r\n\t\t\tconst urlParam = src.match(/\\/video[0-9]*\\//)?.[0];\r\n\r\n\t\t\tif (!urlParam) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst videoId = urlParam.replace('video', '').replace(/\\//g, '');\r\n\r\n\t\t\tsource = this.xvideosUrl(videoId);\r\n\t\t} else if (/^(xvid|xvideos):[a-zA-Z0-9]*/.test(src)) {\r\n\t\t\tconst videoId = src.replace(/^(xvid|xvideos):/, '');\r\n\r\n\t\t\tsource = this.xvideosUrl(videoId);\r\n\t\t}\r\n\r\n\t\tthis.setState({ source });\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tif (!this.state.source) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<iframe\r\n\t\t\t\tclassName={[\r\n\t\t\t\t\t'pornEmbed',\r\n\t\t\t\t\tthis.props.className,\r\n\t\t\t\t\t!this.props.touchable ? 'pointer-events-none' : 'pointer-events-auto',\r\n\t\t\t\t].join(' ')}\r\n\t\t\t\ttitle={'porn'}\r\n\t\t\t\tsrc={this.state.source}\r\n\t\t\t\tframeBorder={0}\r\n\t\t\t\tscrolling={'no'}\r\n\t\t\t\tallowFullScreen={false}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default PornEmbed;\r\n","/*\r\n\t@TODO refactor in smaller pieces\r\n\t@TODO add content switcher: PornEmbed, FileImportCarousel, Chat / VideoChat\r\n*/\r\n\r\nimport React from 'react';\r\nimport Input from 'advanced-react-input';\r\nimport GameOverlay from '../GameOverlay/GameOverlay';\r\nimport GameContent from '../GameContent/GameContent';\r\nimport Button from '../Button/Button';\r\nimport gameSettings from '../../settings/game';\r\nimport tools from '../../settings/tools';\r\nimport env from '../../settings/env';\r\nimport Tool from '../../entity/Tool';\r\nimport Action from '../../entity/Action';\r\nimport Ending from '../../entity/Ending';\r\nimport PostOrgasm from '../../entity/PostOrgasm';\r\nimport Speed from '../../entity/Speed';\r\nimport Randomizer from '../../utils/Randomizer';\r\nimport { gameAction, gameEnding, gamePostOrgasm } from '../../utils/types';\r\n// import Webcam from '../Webcam/Webcam';\r\nimport PornEmbed from '../PornEmbed/PornEmbed';\r\nimport SuperMath from '../../utils/SuperMath';\r\nimport { AppState } from '../../App';\r\n\r\nexport interface GameProps extends AppState { }\r\n\r\nexport interface GameState {\r\n\tisInGame: boolean,\r\n\tisPlaying: boolean,\r\n\tisEnding: boolean,\r\n\tisOverlayShown: boolean,\r\n\tisEmbedTouchable: boolean,\r\n\tcurrentSpeed: Speed,\r\n\tcurrentAction?: gameAction,\r\n\tpostOrgasm?: any, // @TODO\r\n\tnextSpeed?: Speed,\r\n\tnextAction?: gameAction,\r\n\tremainingTime: number,\r\n\ttotalTime: number,\r\n\tpastTotalTime: number,\r\n\tembedSource?: string,\r\n\tstats: any,\r\n\tgameSpeed: number,\r\n\tseed: string,\r\n}\r\n\r\nconst BASE_STATE: GameState = {\r\n\tisInGame: false,\r\n\tisPlaying: false,\r\n\tisEnding: false,\r\n\tisOverlayShown: true,\r\n\tisEmbedTouchable: true,\r\n\tcurrentSpeed: gameSettings.speed.gentle,\r\n\tcurrentAction: undefined,\r\n\tpostOrgasm: undefined,\r\n\tnextSpeed: undefined,\r\n\tnextAction: undefined,\r\n\tremainingTime: 0,\r\n\ttotalTime: 0,\r\n\tpastTotalTime: 0,\r\n\tembedSource: 'https://www.pornhub.com/view_video.php?viewkey=ph5c12ab26a8b82',\r\n\tstats: {},\r\n\tgameSpeed: 1,\r\n\tseed: Randomizer.seed,\r\n};\r\n\r\nclass Game extends React.Component<GameProps, GameState> {\r\n\tprotected _tickCount: number = 0;\r\n\tprotected _ticker?: any;\r\n\tprotected _pornEmbed?: any = React.createRef();\r\n\r\n\tpublic state: GameState = BASE_STATE;\r\n\r\n\tpublic componentWillUnmount() {\r\n\t\tif (this._ticker) {\r\n\t\t\tclearInterval(this._ticker);\r\n\t\t}\r\n\t}\r\n\r\n\tprotected get tools(): Tool[] {\r\n\t\treturn this.props.tools\r\n\t\t\t.map(option => tools[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get actions(): Action[] {\r\n\t\treturn this.props.actions\r\n\t\t\t.map(option => gameSettings.actions[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get endings(): Ending[] {\r\n\t\treturn this.props.endings\r\n\t\t\t.map(option => gameSettings.endings[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get postOrgasms(): PostOrgasm[] {\r\n\t\treturn this.props.postOrgasms\r\n\t\t\t.map(option => gameSettings.postOrgasms[option])\r\n\t\t\t.filter(postOrgasm => postOrgasm)\r\n\t}\r\n\r\n\tprotected get uniqueActions(): gameAction[] {\r\n\t\treturn this.actions.reduce<gameAction[]>((uniqueList, action) => {\r\n\t\t\tif (action.tools) {\r\n\t\t\t\taction.tools.forEach(tool => {\r\n\t\t\t\t\tif (!this.tools.includes(tool)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tuniqueList.push({\r\n\t\t\t\t\t\ttext: action.actionText(tool.text),\r\n\t\t\t\t\t\tchance: action.chance,\r\n\t\t\t\t\t\tsingleAction: action.singleAction,\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tuniqueList.push({\r\n\t\t\t\t\ttext: action.actionText(''),\r\n\t\t\t\t\tchance: action.chance,\r\n\t\t\t\t\tsingleAction: action.singleAction,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn uniqueList;\r\n\t\t}, []);\r\n\t}\r\n\r\n\tprotected get uniqueEndings(): gameEnding[] {\r\n\t\treturn this.endings.reduce<gameEnding[]>((uniqueList, ending) => {\r\n\t\t\tif (ending.tools) {\r\n\t\t\t\tending.tools.forEach(tool => {\r\n\t\t\t\t\tuniqueList.push({\r\n\t\t\t\t\t\ttext: ending.actionText(tool.text),\r\n\t\t\t\t\t\tchance: ending.chance,\r\n\t\t\t\t\t\tcanPostOrgasm: ending.canPostOrgasm,\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tuniqueList.push({\r\n\t\t\t\t\ttext: ending.actionText(''),\r\n\t\t\t\t\tchance: ending.chance,\r\n\t\t\t\t\tcanPostOrgasm: ending.canPostOrgasm,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn uniqueList;\r\n\t\t}, []);\r\n\t}\r\n\r\n\tprotected get uniquePostOrgasm(): gamePostOrgasm[] {\r\n\t\treturn this.postOrgasms.map(postOrgasm => ({\r\n\t\t\ttext: postOrgasm.actionText(''),\r\n\t\t\tchance: postOrgasm.chance,\r\n\t\t}));\r\n\t}\r\n\r\n\tprotected get canPlay(): boolean {\r\n\t\treturn this.uniqueActions.length > 0 && this.uniqueEndings.length > 0;\r\n\t}\r\n\r\n\tprotected get gameSpeed(): number {\r\n\t\tif (!env.debug) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\treturn this.state.gameSpeed;\r\n\t}\r\n\r\n\tprotected get tickSpeed(): number {\r\n\t\tconst bps = this.state.currentSpeed.bps;\r\n\r\n\t\tif (bps === 0) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\tif (bps < 1) {\r\n\t\t\treturn bps;\r\n\t\t}\r\n\r\n\t\treturn 1 / bps;\r\n\t}\r\n\r\n\tprotected get totalTime(): number {\r\n\t\treturn Math.ceil(this.state.totalTime + this.state.pastTotalTime);\r\n\t}\r\n\r\n\tprotected get animationSpeed(): string {\r\n\t\tif (!this.state.isPlaying || this.state.currentSpeed.bps === 0) {\r\n\t\t\treturn '0ms';\r\n\t\t}\r\n\t\treturn `${(1000 / this.gameSpeed) / this.state.currentSpeed.bps}ms`;\r\n\t}\r\n\r\n\tprotected play = () => {\r\n\t\tif (!this.state.isInGame) {\r\n\t\t\tthis.setState(this.pickAction(this.state));\r\n\t\t}\r\n\r\n\t\tif (!this._ticker) {\r\n\t\t\tthis.tick();\r\n\t\t}\r\n\r\n\t\tthis.setState({ isInGame: true, isPlaying: true });\r\n\t}\r\n\r\n\tprotected pause = () => {\r\n\t\tif (this._ticker){\r\n\t\t\tthis.stopTick();\r\n\t\t}\r\n\r\n\t\tthis.setState({ isPlaying: false });\r\n\t}\r\n\r\n\tprotected stop = () => {\r\n\t\tif (this._ticker){\r\n\t\t\tthis.stopTick();\r\n\t\t}\r\n\r\n\t\tRandomizer.resetRandom();\r\n\r\n\t\tthis.setState({\r\n\t\t\t...BASE_STATE,\r\n\t\t\tembedSource: this.state.embedSource,\r\n\t\t});\r\n\t}\r\n\r\n\tprotected toggleOverlay = () => {\r\n\t\tthis.setState(prevState => ({ isOverlayShown: !prevState.isOverlayShown }));\r\n\t}\r\n\r\n\tprotected toggleEmbedTouch = () => {\r\n\t\tthis.setState(prevState => ({ isEmbedTouchable: !prevState.isEmbedTouchable }));\r\n\t}\r\n\r\n\tprotected getTime = (seconds: number): number => {\r\n\t\treturn seconds * 1000; // Converts in milliseconds\r\n\t}\r\n\r\n\tprotected setSeed = () => {\r\n\t\tRandomizer.seed = this.state.seed;\r\n\r\n\t\tthis.setState({ seed: Randomizer.seed });\r\n\t}\r\n\r\n\tprotected pickAction = (state: GameState): any => {\r\n\t\ttype speedFilter = { whitelist?: Speed[], blacklist?: Speed[] };\r\n\r\n\t\tconst getSpeedsList = (filter: speedFilter = {}): Speed[] => {\r\n\t\t\tif (filter.whitelist?.length) {\r\n\t\t\t\treturn filter.whitelist;\r\n\t\t\t}\r\n\r\n\t\t\tif (filter.blacklist?.length) {\r\n\t\t\t\treturn Object.values(gameSettings.speed)\r\n\t\t\t\t\t.filter(speed => !filter.blacklist?.includes(speed));\r\n\t\t\t}\r\n\r\n\t\t\treturn Object.values(gameSettings.speed);\r\n\t\t};\r\n\r\n\t\tconst getActionsList = (speed: Speed): gameAction[] => {\r\n\t\t\tif (speed === gameSettings.speed.cum) {\r\n\t\t\t\treturn this.uniqueEndings as any;\r\n\t\t\t}\r\n\r\n\t\t\treturn this.uniqueActions.filter(action => {\r\n\t\t\t\treturn speed === gameSettings.speed.none\r\n\t\t\t\t\t? action.singleAction\r\n\t\t\t\t\t: !action.singleAction;\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tconst pickSpeed = (filter: speedFilter = {}): Speed => Randomizer.pickOneWithChance(\r\n\t\t\tgetSpeedsList(filter).map(speed => [\r\n\t\t\t\tspeed,\r\n\t\t\t\tspeed.chance(this.getTime(state.totalTime))\r\n\t\t\t]),\r\n\t\t);\r\n\r\n\t\tconst pickAction = (speed: Speed) => Randomizer.pickOneWithChance(\r\n\t\t\tgetActionsList(speed).map(action => [\r\n\t\t\t\taction,\r\n\t\t\t\taction.chance(this.getTime(state.totalTime)),\r\n\t\t\t]),\r\n\t\t);\r\n\r\n\t\tconst pickPostOrgasm = () => Randomizer.pickOneWithChance(\r\n\t\t\tthis.postOrgasms.map(action => [\r\n\t\t\t\taction,\r\n\t\t\t\taction.chance(this.getTime(state.totalTime)),\r\n\t\t\t]),\r\n\t\t);\r\n\r\n\t\tlet currentSpeed, currentAction, nextSpeed, nextAction;\r\n\t\tlet stats = {};\r\n\r\n\t\tcurrentSpeed = state.nextSpeed ? state.nextSpeed : BASE_STATE.currentSpeed;\r\n\r\n\t\tcurrentAction = state.nextAction\r\n\t\t\t? state.nextAction\r\n\t\t\t: pickAction(currentSpeed);\r\n\r\n\t\tnextSpeed = pickSpeed({\r\n\t\t\twhitelist: currentSpeed.followUpWhitelist,\r\n\t\t\tblacklist: currentSpeed.followUpBlacklist || [currentSpeed]\r\n\t\t});\r\n\r\n\t\tstats = Randomizer.getChanceStatistics(\r\n\t\t\tgetSpeedsList({\r\n\t\t\t\twhitelist: currentSpeed.followUpWhitelist,\r\n\t\t\t\tblacklist: currentSpeed.followUpBlacklist || [currentSpeed]\r\n\t\t\t}).map(speed => [\r\n\t\t\t\tspeed,\r\n\t\t\t\tspeed.chance(this.getTime(state.totalTime))\r\n\t\t\t]),\r\n\t\t);\r\n\r\n\t\tnextAction = pickAction(nextSpeed);\r\n\r\n\t\tif (!nextAction) {\r\n\t\t\tnextSpeed = pickSpeed({\r\n\t\t\t\twhitelist: currentSpeed.followUpWhitelist,\r\n\t\t\t\tblacklist: [...(currentSpeed.followUpBlacklist || [currentSpeed]), gameSettings.speed.none]\r\n\t\t\t});\r\n\r\n\t\t\tstats = Randomizer.getChanceStatistics(\r\n\t\t\t\tgetSpeedsList({\r\n\t\t\t\t\twhitelist: currentSpeed.followUpWhitelist,\r\n\t\t\t\t\tblacklist: [...(currentSpeed.followUpBlacklist || [currentSpeed]), gameSettings.speed.none]\r\n\t\t\t\t}).map(speed => [\r\n\t\t\t\t\tspeed,\r\n\t\t\t\t\tspeed.chance(this.getTime(state.totalTime))\r\n\t\t\t\t]),\r\n\t\t\t);\r\n\r\n\t\t\tnextAction = pickAction(nextSpeed);\r\n\t\t}\r\n\r\n\t\tif (currentAction === nextAction && currentSpeed === nextSpeed) { // Reroll\r\n\t\t\treturn this.pickAction(state);\r\n\t\t}\r\n\r\n\t\tconst [minDuration, maxDuration] = currentSpeed.duration(state.totalTime);\r\n\r\n\t\tconst remainingTime = Randomizer.int(maxDuration, minDuration);\r\n\r\n\t\tconst isEnding = currentSpeed === gameSettings.speed.cum;\r\n\t\tconst shouldPostOrgasm = isEnding && true;\r\n\r\n\t\tconst postOrgasm = shouldPostOrgasm ? pickPostOrgasm() : null;\r\n\r\n\t\treturn {\r\n\t\t\tcurrentAction,\r\n\t\t\tcurrentSpeed,\r\n\t\t\tnextAction,\r\n\t\t\tnextSpeed,\r\n\t\t\tremainingTime,\r\n\t\t\tisEnding,\r\n\t\t\tpostOrgasm,\r\n\t\t\tstats,\r\n\t\t};\r\n\t}\r\n\r\n\tprotected tick = (): void => {\r\n\t\tif (this.state.remainingTime - this.tickSpeed <= 0 && this.state.isEnding) {\r\n\t\t\t// @TODO postOrgasms.secondRound - Reset game but keep seed entropy + totalTime\r\n\t\t\t//\r\n\t\t\t// if (this.state.postOrgasm === gameSettings.postOrgasms.secondRound) {\r\n\t\t\t// \tthis.setState(prevState => {\r\n\t\t\t// \t\tconst actionState = this.pickAction(prevState);\r\n\t\t\t//\r\n\t\t\t// \t\treturn {\r\n\t\t\t// \t\t\tisEnding: false,\r\n\t\t\t// \t\t\ttotalTime: 0,\r\n\t\t\t// \t\t\tpastTotalTime: prevState.totalTime + 1,\r\n\t\t\t// \t\t\tcurrentAction: actionState.currentAction,\r\n\t\t\t// \t\t\tnextAction: actionState.nextAction,\r\n\t\t\t// \t\t\tcurrentSpeed: actionState.currentSpeed,\r\n\t\t\t// \t\t\tnextSpeed: actionState.nextSpeed,\r\n\t\t\t// \t\t\tremainingTime: actionState.remainingTime,\r\n\t\t\t// \t\t\tpostOrgasm: actionState.postOrgasm,\r\n\t\t\t// \t\t\tstats: actionState.stats,\r\n\t\t\t// \t\t};\r\n\t\t\t// \t});\r\n\t\t\t//\r\n\t\t\t// \treturn;\r\n\t\t\t// }\r\n\r\n\t\t\tthis.pause();\r\n\r\n\t\t\tthis.setState(prevState => ({\r\n\t\t\t\ttotalTime: prevState.totalTime + 1,\r\n\t\t\t\tremainingTime: 0,\r\n\t\t\t}));\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.setState<any>(prevState => {\r\n\t\t\tconst nextTickRemainingTime = prevState.remainingTime - this.tickSpeed;\r\n\r\n\t\t\tif (nextTickRemainingTime <= 0) {\r\n\t\t\t\tconst actionState = this.pickAction(prevState);\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tisEnding: actionState.isEnding,\r\n\t\t\t\t\tcurrentAction: actionState.currentAction,\r\n\t\t\t\t\tnextAction: actionState.nextAction,\r\n\t\t\t\t\tcurrentSpeed: actionState.currentSpeed,\r\n\t\t\t\t\tnextSpeed: actionState.nextSpeed,\r\n\t\t\t\t\tremainingTime: actionState.remainingTime,\r\n\t\t\t\t\ttotalTime: prevState.totalTime + this.tickSpeed,\r\n\t\t\t\t\tpostOrgasm: actionState.postOrgasm,\r\n\t\t\t\t\tstats: actionState.stats,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tremainingTime: nextTickRemainingTime,\r\n\t\t\t\ttotalTime: prevState.totalTime + this.tickSpeed,\r\n\t\t\t};\r\n\t\t}, () => {\r\n\t\t\tif (this.shouldBeep()) {\r\n\t\t\t\tthis.beep();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis._ticker = setTimeout(this.tick, 1000 * this.tickSpeed / this.gameSpeed);\r\n\t}\r\n\r\n\tprotected stopTick = () => {\r\n\t\tclearTimeout(this._ticker);\r\n\r\n\t\tthis._ticker = undefined;\r\n\t}\r\n\r\n\tprotected shouldBeep = (): boolean => {\r\n\t\tthis._tickCount++;\r\n\r\n\t\tif (this.tickSpeed * this._tickCount >= 1 / this.state.currentSpeed.bps) {\r\n\t\t\tthis._tickCount = 0;\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprotected beep = (): void => {\r\n\t\tconst sound = new Audio(\"data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=\");\r\n\r\n\t\tsound.play();\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tif (!this.canPlay) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst stats = env.debug ? (\r\n\t\t\t<div className={'mb-5'}>\r\n\t\t\t\t<h3 className={'text-xl bold'}>Statistic</h3>\r\n\t\t\t\t<ul className={'flex flex-wrap -m-1 py-2'}>\r\n\t\t\t\t\t{Object.values(gameSettings.speed).map((value, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li key={i} className={'w-1/6 p-1'}>\r\n\t\t\t\t\t\t\t\t<span className={'w-24'}>{`${value.text}: `}</span>\r\n\t\t\t\t\t\t\t\t<span>{`${Math.round((SuperMath.toPercent(this.state.stats[value.text]) || 0) * 100)}%`}</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t) : null;\r\n\r\n\t\tconst actionsLists = (\r\n\t\t\t<div className={'mb-5'}>\r\n\t\t\t\t<h3 className={'text-xl bold'}>Unique actions</h3>\r\n\t\t\t\t<ul className={'flex flex-wrap py-2 -m-2'}>\r\n\t\t\t\t\t{this.uniqueActions.map((action, i) => (\r\n\t\t\t\t\t\t<li key={i} className={'p-2'}>{action.text}</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\tconst endingsLists = (\r\n\t\t\t<div className={'mb-5'}>\r\n\t\t\t\t<h3 className={'text-xl bold'}>Unique endings</h3>\r\n\t\t\t\t<ul className={'flex flex-wrap py-2'}>\r\n\t\t\t\t\t{this.uniqueEndings.map((action, i) => (\r\n\t\t\t\t\t\t<li key={i}>{action.text}</li>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div className={'game'}>\r\n\t\t\t\t<div className={'flex -m-2 py-2'}>\r\n\t\t\t\t\t<div className={'p-2 w-3/4'}>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype={'string'}\r\n\t\t\t\t\t\t\tvalue={this.state.seed}\r\n\t\t\t\t\t\t\tplaceholder={'Insert custom game seed'}\r\n\t\t\t\t\t\t\tonChange={(seed: string) => this.setState({ seed })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t<Button onClick={this.setSeed}>\r\n\t\t\t\t\t\t\t<span>Set seed</span>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={'flex -m-2 py-2'}>\r\n\t\t\t\t\t<div className={'p-2 w-3/4'}>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype={'string'}\r\n\t\t\t\t\t\t\tvalue={this.state.embedSource}\r\n\t\t\t\t\t\t\tplaceholder={'Insert video link or id: ph:ph1a2b3c4d5f6g7 | xvid:01234567 | https://www.pornhub.com/view_video.php?viewkey=ph1a2b3c4d5f6g7 | https://www.xvideos.com/video01234567/abc_xyz'}\r\n\t\t\t\t\t\t\tonChange={(embedSource: string) => this.setState({ embedSource })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t<Button onClick={() => this._pornEmbed.current?.setSource(this.state.embedSource)}>\r\n\t\t\t\t\t\t\t<span>Change video</span>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={'flex flex-wrap -m-2 py-2'}>\r\n\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t<Button onClick={this.state.isPlaying ? this.pause : this.play}>\r\n\t\t\t\t\t\t\t{this.state.isPlaying ? 'Pause' : 'Play'}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t<Button onClick={this.stop}>Stop</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{env.showHidden && (\r\n\t\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t\t<Button onClick={this.toggleOverlay}>\r\n\t\t\t\t\t\t\t\tToggle overlay\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{env.showHidden && (\r\n\t\t\t\t\t\t<div className={'p-2'}>\r\n\t\t\t\t\t\t\t<Button onClick={this.toggleEmbedTouch}>\r\n\t\t\t\t\t\t\t\tToggle embed touch\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<GameContent\r\n\t\t\t\t\tbackground={(\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{/*<Webcam className={'object-cover w-full h-full'} />*/}\r\n\t\t\t\t\t\t\t<PornEmbed\r\n\t\t\t\t\t\t\t\tref={this._pornEmbed}\r\n\t\t\t\t\t\t\t\tclassName={'object-cover w-full h-full'}\r\n\t\t\t\t\t\t\t\ttouchable={this.state.isEmbedTouchable}\r\n\t\t\t\t\t\t\t\tonMount={() => {\r\n\t\t\t\t\t\t\t\t\tthis._pornEmbed.current?.setSource(this.state.embedSource)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{this.state.nextSpeed && this.state.currentAction && this.state.nextAction && (\r\n\t\t\t\t\t\t<GameOverlay\r\n\t\t\t\t\t\t\tisVisible={this.state.isOverlayShown}\r\n\t\t\t\t\t\t\tisEnding={this.state.isEnding}\r\n\t\t\t\t\t\t\tanimationSpeed={this.animationSpeed}\r\n\t\t\t\t\t\t\ttotalTime={this.totalTime}\r\n\t\t\t\t\t\t\tcurrentSpeed={this.state.currentSpeed}\r\n\t\t\t\t\t\t\tnextSpeed={this.state.nextSpeed}\r\n\t\t\t\t\t\t\tcurrentAction={this.state.currentAction}\r\n\t\t\t\t\t\t\tnextAction={this.state.nextAction}\r\n\t\t\t\t\t\t\tremainingTime={this.state.remainingTime}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</GameContent>\r\n\r\n\t\t\t\t<div className={'mt-24'}>\r\n\t\t\t\t\t{stats}\r\n\r\n\t\t\t\t\t{actionsLists}\r\n\r\n\t\t\t\t\t{endingsLists}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className={'mt-24'}>\r\n\t\t\t\t\t<h2 className={'text-xl bold'}>Feedback</h2>\r\n\t\t\t\t\t<div className={'bg-gray-100'}>\r\n\t\t\t\t\t\t<iframe\r\n\t\t\t\t\t\t\tclassName={'w-full h-screen'}\r\n\t\t\t\t\t\t\ttitle={'feedback-report'}\r\n\t\t\t\t\t\t\tsrc={'https://docs.google.com/forms/d/e/1FAIpQLSddzBoiVNQjP0tN4xGhVmV60OLcz_054iuJ5nKrpTp8nCWaFw/viewform?embedded=true'}\r\n\t\t\t\t\t\t\tframeBorder={0}\r\n\t\t\t\t\t\t\tmarginHeight={0}\r\n\t\t\t\t\t\t\tmarginWidth={0}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tLoading\r\n\t\t\t\t\t\t</iframe>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nexport default Game;\r\n","/*\n\t@TODO add linting in codebase\n*/\n\nimport React from 'react';\nimport Preferences from './components/Preferences/Preferences';\nimport Game from './components/Game/Game';\nimport Randomizer from './utils/Randomizer';\nimport Tool from './entity/Tool';\nimport Gender from './entity/Gender';\nimport Action from './entity/Action';\nimport Ending from './entity/Ending';\nimport PostOrgasm from './entity/PostOrgasm';\n\nexport interface AppState {\n\tgender: string,\n\ttools: string[],\n\tactions: string[],\n\tendings: string[],\n\tpostOrgasms: string[],\n}\n\nclass App extends React.Component<{}, AppState> {\n\n\tpublic state: AppState = {\n\t\tgender: 'male',\n\t\ttools: [],\n\t\tactions: [],\n\t\tendings: [],\n\t\tpostOrgasms: [],\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getPreferences();\n\t}\n\n\tprotected getPreferences = () => {\n\t\tconst getArrayParam = (value: string) => value.split(',').filter(value => value);\n\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\n\t\tconst gender = urlParams.get('gender');\n\n\t\tif (gender !== null) {\n\t\t\tthis.setGender(gender, false);\n\t\t}\n\n\t\tconst tools = urlParams.get('tools');\n\n\t\tif (tools !== null) {\n\t\t\tthis.setTools(getArrayParam(tools), false);\n\t\t}\n\n\t\tconst actions = urlParams.get('actions');\n\n\t\tif (actions !== null) {\n\t\t\tthis.setActions(getArrayParam(actions), false);\n\t\t}\n\n\t\tconst endings = urlParams.get('endings');\n\n\t\tif (endings !== null) {\n\t\t\tthis.setEndings(getArrayParam(endings), false);\n\t\t}\n\n\t\tconst postOrgasms = urlParams.get('postOrgasms');\n\n\t\tif (postOrgasms !== null) {\n\t\t\tthis.setPostOrgasms(getArrayParam(postOrgasms), false);\n\t\t}\n\n\t\tconst seed = urlParams.get('seed');\n\n\t\tif (seed !== null) {\n\t\t\tRandomizer.seed = seed;\n\t\t}\n\t}\n\n\tprotected setPreferences = () => {\n\t\tconst searchParams = Object.entries(this.state).reduce<any>((params, [key, value]) => {\n\t\t\tif (!value || (Array.isArray(value) && value.length === 0)) {\n\t\t\t\treturn params;\n\t\t\t}\n\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\tparams.append(key, value.join(',').replace(/(^,{1,}|,{1,}$)/g, ''));\n\t\t\t} else {\n\t\t\t\tparams.append(key, value);\n\t\t\t}\n\n\t\t\treturn params;\n\t\t}, new URLSearchParams());\n\n\t\tsearchParams.set('seed', Randomizer.seed);\n\n\t\tconst url = `?${searchParams.toString()}`;\n\n\t\twindow.history.replaceState(null, 'preference', url);\n\t}\n\n\tprotected setPreferencesIfTrue = (condition: boolean) => () => {\n\t\tif (!condition) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setPreferences();\n\t}\n\n\tprotected setGender = (option?: string | string[], setPref: boolean = true) => {\n\t\tif (!option) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst gender = Array.isArray(option) ? option[0] : option;\n\n\t\tthis.setState(prevState => {\n\t\t\tconst tools = Tool.filterAvailable(Tool.get(prevState.tools) as Tool[], Gender.get(gender) as Gender)\n\t\t\t\t.map(tool => tool.key)\n\t\t\t\t.filter(tool => tool !== null) as string[];\n\n\t\t\treturn { gender, tools };\n\t\t}, this.setPreferencesIfTrue(setPref));\n\t}\n\n\tprotected setTools = (tools: string[], setPref: boolean = true) => {\n\t\tthis.setState(prevState => {\n\t\t\tconst actions = Action.filterAvailable(\n\t\t\t\tAction.get(prevState.actions) as Action[],\n\t\t\t\tGender.get(prevState.gender) as Gender,\n\t\t\t\tTool.get(tools) as Tool[],\n\t\t\t)\n\t\t\t\t.map(action => action.key)\n\t\t\t\t.filter(action => action !== null) as string[];\n\n\t\t\tconst endings = Ending.filterAvailable(\n\t\t\t\tEnding.get(prevState.endings) as Ending[],\n\t\t\t\tGender.get(prevState.gender) as Gender,\n\t\t\t\tTool.get(tools) as Tool[],\n\t\t\t)\n\t\t\t\t.map(ending => ending.key)\n\t\t\t\t.filter(ending => ending !== null) as string[];\n\n\t\t\treturn { tools, actions, endings };\n\t\t}, this.setPreferencesIfTrue(setPref));\n\t}\n\n\tprotected setActions = (actions: string[], setPref: boolean = true) => {\n\t\tthis.setState({ actions }, this.setPreferencesIfTrue(setPref));\n\t}\n\n\tprotected setEndings = (endings: string[], setPref: boolean = true) => {\n\t\tthis.setState({ endings }, this.setPreferencesIfTrue(setPref));\n\t}\n\n\tprotected setPostOrgasms = (postOrgasms: string[], setPref: boolean = true) => {\n\t\tthis.setState({ postOrgasms }, this.setPreferencesIfTrue(setPref));\n\t}\n\n\tpublic render() {\n\t\treturn (\n\t\t\t<div className={'bg-gray-300'}>\n\t\t\t\t<header className={'bg-gray-800 flex justify-center items-center h-64 md:h-96'}>\n\t\t\t\t\t<h1 className={'text-4xl bold text-white'}>JOI game</h1>\n\t\t\t\t</header>\n\n\t\t\t\t<div className={'-mt-10 md:-mt-24 px-2'}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={[\n\t\t\t\t\t\t\t'min-h-screen bg-white mx-auto w-full rounded-t-lg shadow-xl',\n\t\t\t\t\t\t\t'p-4',\n\t\t\t\t\t\t\t'sm:p-10',\n\t\t\t\t\t\t].join(' ')}\n\t\t\t\t\t\tstyle={{ maxWidth: '1200px' }}\n\t\t\t\t\t>\n\n\t\t\t\t\t\t<Preferences\n\t\t\t\t\t\t\t{...this.state}\n\t\t\t\t\t\t\tsetGender={this.setGender}\n\t\t\t\t\t\t\tsetTools={this.setTools}\n\t\t\t\t\t\t\tsetActions={this.setActions}\n\t\t\t\t\t\t\tsetEndings={this.setEndings}\n\t\t\t\t\t\t\tsetPostOrgasms={this.setPostOrgasms}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Game {...this.state} />\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport 'advanced-react-input/lib/style.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n"],"sourceRoot":""}